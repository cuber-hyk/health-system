{"remainingRequest":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\babel-loader\\lib\\index.js!G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\components\\diy\\list_goods.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\components\\diy\\list_goods.vue","mtime":1657768166000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\babel.config.js","mtime":1657768166000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICB1cmw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiL3BhZ2VzL2dvb2RzL2RldGFpbHM/Z29vZHNfaWQ9IgogICAgfSwKICAgIGxpc3Q6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICB2bTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgZ29vZHNfaWQ6ICJnb29kc19pZCIsCiAgICAgICAgICBpbWc6ICJpbWciLAogICAgICAgICAgdGl0bGU6ICJ0aXRsZSIsCiAgICAgICAgICBwcmljZTogInByaWNlIiwKICAgICAgICAgIHByaWNlX2FnbzogInByaWNlX2FnbyIsCiAgICAgICAgICBzb3VyY2VfdGFibGU6ICJzb3VyY2VfdGFibGUiCiAgICAgICAgfTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJfaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlcl9pZAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKgogICAgICog5re75Yqg6LSt54mp6L2mCiAgICAgKi8KICAgIGFkZF9jYXJ0KG9iaikgewogICAgICB2YXIgewogICAgICAgIHRpdGxlLAogICAgICAgIGltZywKICAgICAgICBwcmljZSwKICAgICAgICBwcmljZV9hZ28sCiAgICAgICAgbnVtX2J1eTogbnVtLAogICAgICAgIGRlc2NyaXB0aW9uLAogICAgICAgIGdvb2RzX2lkLAogICAgICAgIHR5cGUKICAgICAgfSA9IG9iajsKICAgICAgdmFyIGJvZHkgPSB7CiAgICAgICAgdGl0bGUsCiAgICAgICAgaW1nLAogICAgICAgIHByaWNlLAogICAgICAgIHByaWNlX2FnbywKICAgICAgICBudW0sCiAgICAgICAgcHJpY2VfY291bnQ6IHByaWNlLAogICAgICAgIGRlc2NyaXB0aW9uLAogICAgICAgIGdvb2RzX2lkLAogICAgICAgIHR5cGUsCiAgICAgICAgdXNlcl9pZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VyX2lkCiAgICAgIH07CiAgICAgIGJvZHkubnVtID0gMTsKICAgICAgdGhpcy4kZ2V0KCJ+L2FwaS9jYXJ0L2dldF9saXN0PyIsIHsKICAgICAgICBnb29kc19pZDogb2JqLmdvb2RzX2lkLAogICAgICAgIHVzZXJfaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlcl9pZAogICAgICB9LCByZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgaWYgKHJlcy5yZXN1bHQuY291bnQpIHsKICAgICAgICAgIHZhciB7CiAgICAgICAgICAgIGNhcnRfaWQsCiAgICAgICAgICAgIG51bSwKICAgICAgICAgICAgcHJpY2UsCiAgICAgICAgICAgIHByaWNlX2NvdW50CiAgICAgICAgICB9ID0gcmVzLnJlc3VsdC5saXN0WzBdOwogICAgICAgICAgbnVtICs9IDE7CiAgICAgICAgICBwcmljZV9jb3VudCArPSBwcmljZTsKICAgICAgICAgIHRoaXMuJHBvc3QoYH4vYXBpL2NhcnQvc2V0P2NhcnRfaWQ9JHtjYXJ0X2lkfWAsIHsKICAgICAgICAgICAgbnVtLAogICAgICAgICAgICBwcmljZSwKICAgICAgICAgICAgcHJpY2VfY291bnQKICAgICAgICAgIH0sIHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMuJHRvYXN0KCLlt7LliqDlhaXotK3nianovaYiLCAi5oiQ5YqfIik7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCLmm7TmlLnlgLwiKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRwb3N0KCJ+L2FwaS9jYXJ0L2FkZD8iLCBib2R5LCByZXMgPT4gewogICAgICAgICAgICB0aGlzLiR0b2FzdCgi5bey5Yqg5YWl6LSt54mp6L2mIiwgIuaIkOWKnyIpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":"AAyBA;EACAA;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;QACA;MACA;IACA;IACAE;MACAH;MACAC;QACA;UACAG;UACAC;UACAC;UACAC;UACAC;UACAC;QACA;MACA;IACA;EACA;EACAC;IACA;MACAC;IACA;EACA;EACAC;IACA;AACA;AACA;IACAC;MACA;QACAP;QACAD;QACAE;QACAC;QACAM;QACAC;QACAX;QACAJ;MACA;MACA;QACAM;QACAD;QACAE;QACAC;QACAQ;QACAC;QACAF;QACAX;QACAJ;QACAW;MACA;MACAO;MAEA;QACAd;QACAO;MACA;QACAQ;QACA;UACA;YAAAC;YAAAJ;YAAAT;YAAAU;UAAA;UACAD;UACAC;UACA,WACA,qCACA;YACAD;YACAT;YACAU;UACA,GACAI;YACA;YACAF;UACA,EACA;QACA;UACA;YACA;UACA;QACA;MACA;IACA;EACA;AACA","names":["props","url","type","default","list","vm","goods_id","img","title","price","price_ago","source_table","data","user_id","methods","add_cart","num_buy","description","num","price_count","body","console","cart_id","res"],"sourceRoot":"src/components/diy","sources":["list_goods.vue"],"sourcesContent":["<template>\n\t<div class=\"list_goods list list-x\">\n\t\t<div class=\"goods\" v-for=\"(o, i) in list\" :key=\"i\">\n\t\t\t<router-link :to=\"'/goods/details?' + vm.goods_id + '=' + o[vm.goods_id]\">\n\t\t\t\t<div class=\"media\">\n\t\t\t\t\t<div class=\"icon h-100\">\n\t\t\t\t\t\t<img :src=\"$fullUrl(o[vm.img])\" style=\"width:100%;height:100%\" v-default-img=\"'/img/default.png'\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</router-link>\n\t\t\t<div class=\"doc\">\n\t\t\t\t<router-link :to=\"'/goods/details?' + vm.goods_id + '=' + o[vm.goods_id]\">\n\t\t\t\t\t<div class=\"title\">{{ o[vm.title] }}</div>\n\t\t\t\t</router-link>\n\t\t\t\t<div class=\"bottom\">\n\t\t\t\t\t<span class=\"price\">￥{{ o[vm.price] }}</span>\n\t\t\t\t\t<span class=\"price_ago\">￥{{ o[vm.price_ago] }}</span>\n\t\t\t\t\t<b-icon class=\"icon_cart\" icon=\"cart\"  v-if=\"!o[vm.source_table]||$check_cart_page('/'+o[vm.source_table]+'/list')\" @click=\"add_cart(o)\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\texport default {\n\t\tprops: {\n\t\t\turl: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: \"/pages/goods/details?goods_id=\",\n\t\t\t},\n\t\t\tlist: {\n\t\t\t\ttype: Array,\n\t\t\t\tdefault: function() {\n\t\t\t\t\treturn [];\n\t\t\t\t},\n\t\t\t},\n\t\t\tvm: {\n\t\t\t\ttype: Object,\n\t\t\t\tdefault: function() {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tgoods_id: \"goods_id\",\n\t\t\t\t\t\timg: \"img\",\n\t\t\t\t\t\ttitle: \"title\",\n\t\t\t\t\t\tprice: \"price\",\n\t\t\t\t\t\tprice_ago: \"price_ago\",\n\t\t\t\t\t\tsource_table:\"source_table\"\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tuser_id: this.$store.state.user.user_id\n\t\t\t};\n\t\t},\n\t\tmethods: {\n\t\t\t/**\n\t\t\t * 添加购物车\n\t\t\t */\n\t\t\tadd_cart(obj) {\n\t\t\t    var {\n\t\t\t        title,\n\t\t\t        img,\n\t\t\t        price,\n\t\t\t        price_ago,\n\t\t\t        num_buy: num,\n\t\t\t        description,\n\t\t\t        goods_id,\n\t\t\t        type,\n\t\t\t    } = obj;\n\t\t\t    var body = {\n\t\t\t        title,\n\t\t\t        img,\n\t\t\t        price,\n\t\t\t        price_ago,\n\t\t\t        num,\n\t\t\t        price_count: price,\n\t\t\t        description,\n\t\t\t        goods_id,\n\t\t\t        type,\n\t\t\t        user_id: this.$store.state.user.user_id,\n\t\t\t    };\n\t\t\t\tbody.num = 1;\n\n\t\t\t    this.$get(\"~/api/cart/get_list?\", {\n\t\t\t        goods_id: obj.goods_id,\n\t\t\t\t\tuser_id: this.$store.state.user.user_id\n\t\t\t    }, (res) => {\n\t\t\t        console.log(res)\n\t\t\t        if (res.result.count) {\n\t\t\t            var {cart_id, num, price, price_count} = res.result.list[0];\n\t\t\t            num += 1;\n\t\t\t            price_count += price;\n\t\t\t            this.$post(\n\t\t\t                `~/api/cart/set?cart_id=${cart_id}`,\n\t\t\t                {\n\t\t\t                    num,\n\t\t\t                    price,\n\t\t\t                    price_count,\n\t\t\t                },\n\t\t\t                (res) => {\n\t\t\t                    this.$toast(\"已加入购物车\", \"成功\");\n\t\t\t                    console.log(\"更改值\")\n\t\t\t                }\n\t\t\t            );\n\t\t\t        } else {\n\t\t\t            this.$post(\"~/api/cart/add?\", body, (res) => {\n\t\t\t                this.$toast(\"已加入购物车\", \"成功\");\n\t\t\t            });\n\t\t\t        }\n\t\t\t    })\n\t\t\t},\n\t\t}\n\t};\n</script>\n\n<style scoped>\n\t.media {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: space-between;\n\t\tflex-basis: 75%;\n\t\tmin-height: 10rem;\n\t}\n\n\t.goods {\n\t\tdisplay: flex;\n\t\twidth: calc(25% - 1rem);\n\t\tmargin: 0.5rem;\n\t\tflex-direction: column;\n\t\tjustify-content: space-between;\n\t\tbackground-color: white;\n\t\tborder-radius: 0.5rem;\n\t}\n\n\t.goods:hover {\n\t\tborder: 0.2rem solid #909399;\n\t\tbox-shadow: 0 0.1rem 0.3rem rgba(0, 0, 0, 0.15);\n\t}\n\n\t.goods:hover img {\n\t\tfilter: blur(1px);\n\t}\n\n\t.price {\n\t\tfont-size: 1rem;\n\t\tmargin-right: 3px;\n\t}\n\n\t.price_ago {\n\t\ttext-decoration: line-through;\n\t\tfont-size: 0.5rem;\n\t\tcolor: #999;\n\n\t}\n\n\t.title {\n\t\tword-break: break-all;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\tfont-weight: 700;\n\t\tpadding: .25rem .5rem;\n\t}\n\t.bottom {\n\t\tpadding: 0 .5rem .5rem 0.5rem;\n\t}\n\n\t.icon_cart {\n\t\tcolor: #FF5722;\n\t\tfloat: right;\n\t}\n\n\t@media (max-width: 992px) {\n\n\t\t.goods {\n\t\t\twidth: calc(33% - 1rem);\n\t\t\t;\n\t\t}\n\n\t}\n\n\t@media (max-width: 768px) {\n\n\t\t.goods {\n\t\t\twidth: calc(50% - 1rem);\n\t\t\t;\n\t\t}\n\n\t}\n</style>\n"]}]}