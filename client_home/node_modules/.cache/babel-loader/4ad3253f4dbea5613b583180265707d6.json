{"remainingRequest":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\src\\components\\diy\\list_goods.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\src\\components\\diy\\list_goods.vue","mtime":1675233590000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\babel.config.js","mtime":1675233590000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICB1cmw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiL3BhZ2VzL2dvb2RzL2RldGFpbHM/Z29vZHNfaWQ9IgogICAgfSwKICAgIGxpc3Q6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICB2bTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgZ29vZHNfaWQ6ICJnb29kc19pZCIsCiAgICAgICAgICBpbWc6ICJpbWciLAogICAgICAgICAgdGl0bGU6ICJ0aXRsZSIsCiAgICAgICAgICBwcmljZTogInByaWNlIiwKICAgICAgICAgIHByaWNlX2FnbzogInByaWNlX2FnbyIsCiAgICAgICAgICBzb3VyY2VfdGFibGU6ICJzb3VyY2VfdGFibGUiCiAgICAgICAgfTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJfaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlcl9pZAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKg0KICAgICAqIOa3u+WKoOi0reeJqei9pg0KICAgICAqLwogICAgYWRkX2NhcnQob2JqKSB7CiAgICAgIHZhciB7CiAgICAgICAgdGl0bGUsCiAgICAgICAgaW1nLAogICAgICAgIHByaWNlLAogICAgICAgIHByaWNlX2FnbywKICAgICAgICBudW1fYnV5OiBudW0sCiAgICAgICAgZGVzY3JpcHRpb24sCiAgICAgICAgZ29vZHNfaWQsCiAgICAgICAgdHlwZQogICAgICB9ID0gb2JqOwogICAgICB2YXIgYm9keSA9IHsKICAgICAgICB0aXRsZSwKICAgICAgICBpbWcsCiAgICAgICAgcHJpY2UsCiAgICAgICAgcHJpY2VfYWdvLAogICAgICAgIG51bSwKICAgICAgICBwcmljZV9jb3VudDogcHJpY2UsCiAgICAgICAgZGVzY3JpcHRpb24sCiAgICAgICAgZ29vZHNfaWQsCiAgICAgICAgdHlwZSwKICAgICAgICB1c2VyX2lkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJfaWQKICAgICAgfTsKICAgICAgYm9keS5udW0gPSAxOwogICAgICB0aGlzLiRnZXQoIn4vYXBpL2NhcnQvZ2V0X2xpc3Q/IiwgewogICAgICAgIGdvb2RzX2lkOiBvYmouZ29vZHNfaWQsCiAgICAgICAgdXNlcl9pZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VyX2lkCiAgICAgIH0sIHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICBpZiAocmVzLnJlc3VsdC5jb3VudCkgewogICAgICAgICAgdmFyIHsKICAgICAgICAgICAgY2FydF9pZCwKICAgICAgICAgICAgbnVtLAogICAgICAgICAgICBwcmljZSwKICAgICAgICAgICAgcHJpY2VfY291bnQKICAgICAgICAgIH0gPSByZXMucmVzdWx0Lmxpc3RbMF07CiAgICAgICAgICBudW0gKz0gMTsKICAgICAgICAgIHByaWNlX2NvdW50ICs9IHByaWNlOwogICAgICAgICAgdGhpcy4kcG9zdChgfi9hcGkvY2FydC9zZXQ/Y2FydF9pZD0ke2NhcnRfaWR9YCwgewogICAgICAgICAgICBudW0sCiAgICAgICAgICAgIHByaWNlLAogICAgICAgICAgICBwcmljZV9jb3VudAogICAgICAgICAgfSwgcmVzID0+IHsKICAgICAgICAgICAgdGhpcy4kdG9hc3QoIuW3suWKoOWFpei0reeJqei9piIsICLmiJDlip8iKTsKICAgICAgICAgICAgY29uc29sZS5sb2coIuabtOaUueWAvCIpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJHBvc3QoIn4vYXBpL2NhcnQvYWRkPyIsIGJvZHksIHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMuJHRvYXN0KCLlt7LliqDlhaXotK3nianovaYiLCAi5oiQ5YqfIik7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":"AAyBA;EACAA;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;QACA;MACA;IACA;IACAE;MACAH;MACAC;QACA;UACAG;UACAC;UACAC;UACAC;UACAC;UACAC;QACA;MACA;IACA;EACA;EACAC;IACA;MACAC;IACA;EACA;EACAC;IACA;AACA;AACA;IACAC;MACA;QACAP;QACAD;QACAE;QACAC;QACAM;QACAC;QACAX;QACAJ;MACA;MACA;QACAM;QACAD;QACAE;QACAC;QACAQ;QACAC;QACAF;QACAX;QACAJ;QACAW;MACA;MACAO;MAEA;QACAd;QACAO;MACA;QACAQ;QACA;UACA;YAAAC;YAAAJ;YAAAT;YAAAU;UAAA;UACAD;UACAC;UACA,WACA,qCACA;YACAD;YACAT;YACAU;UACA,GACAI;YACA;YACAF;UACA,EACA;QACA;UACA;YACA;UACA;QACA;MACA;IACA;EACA;AACA","names":["props","url","type","default","list","vm","goods_id","img","title","price","price_ago","source_table","data","user_id","methods","add_cart","num_buy","description","num","price_count","body","console","cart_id","res"],"sourceRoot":"src/components/diy","sources":["list_goods.vue"],"sourcesContent":["<template>\r\n\t<div class=\"list_goods list list-x\">\r\n\t\t<div class=\"goods\" v-for=\"(o, i) in list\" :key=\"i\">\r\n\t\t\t<router-link :to=\"'/goods/details?' + vm.goods_id + '=' + o[vm.goods_id]\">\r\n\t\t\t\t<div class=\"media\">\r\n\t\t\t\t\t<div class=\"icon h-100\">\r\n\t\t\t\t\t\t<img :src=\"$fullUrl(o[vm.img])\" style=\"width:100%;height:100%\" v-default-img=\"'/img/default.png'\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</router-link>\r\n\t\t\t<div class=\"doc\">\r\n\t\t\t\t<router-link :to=\"'/goods/details?' + vm.goods_id + '=' + o[vm.goods_id]\">\r\n\t\t\t\t\t<div class=\"title\">{{ o[vm.title] }}</div>\r\n\t\t\t\t</router-link>\r\n\t\t\t\t<div class=\"bottom\">\r\n\t\t\t\t\t<span class=\"price\">￥{{ o[vm.price] }}</span>\r\n\t\t\t\t\t<span class=\"price_ago\">￥{{ o[vm.price_ago] }}</span>\r\n\t\t\t\t\t<b-icon class=\"icon_cart\" icon=\"cart\"  v-if=\"!o[vm.source_table]||$check_cart_page('/'+o[vm.source_table]+'/list')\" @click=\"add_cart(o)\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\turl: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"/pages/goods/details?goods_id=\",\r\n\t\t\t},\r\n\t\t\tlist: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tvm: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tgoods_id: \"goods_id\",\r\n\t\t\t\t\t\timg: \"img\",\r\n\t\t\t\t\t\ttitle: \"title\",\r\n\t\t\t\t\t\tprice: \"price\",\r\n\t\t\t\t\t\tprice_ago: \"price_ago\",\r\n\t\t\t\t\t\tsource_table:\"source_table\"\r\n\t\t\t\t\t};\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tuser_id: this.$store.state.user.user_id\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * 添加购物车\r\n\t\t\t */\r\n\t\t\tadd_cart(obj) {\r\n\t\t\t    var {\r\n\t\t\t        title,\r\n\t\t\t        img,\r\n\t\t\t        price,\r\n\t\t\t        price_ago,\r\n\t\t\t        num_buy: num,\r\n\t\t\t        description,\r\n\t\t\t        goods_id,\r\n\t\t\t        type,\r\n\t\t\t    } = obj;\r\n\t\t\t    var body = {\r\n\t\t\t        title,\r\n\t\t\t        img,\r\n\t\t\t        price,\r\n\t\t\t        price_ago,\r\n\t\t\t        num,\r\n\t\t\t        price_count: price,\r\n\t\t\t        description,\r\n\t\t\t        goods_id,\r\n\t\t\t        type,\r\n\t\t\t        user_id: this.$store.state.user.user_id,\r\n\t\t\t    };\r\n\t\t\t\tbody.num = 1;\r\n\r\n\t\t\t    this.$get(\"~/api/cart/get_list?\", {\r\n\t\t\t        goods_id: obj.goods_id,\r\n\t\t\t\t\tuser_id: this.$store.state.user.user_id\r\n\t\t\t    }, (res) => {\r\n\t\t\t        console.log(res)\r\n\t\t\t        if (res.result.count) {\r\n\t\t\t            var {cart_id, num, price, price_count} = res.result.list[0];\r\n\t\t\t            num += 1;\r\n\t\t\t            price_count += price;\r\n\t\t\t            this.$post(\r\n\t\t\t                `~/api/cart/set?cart_id=${cart_id}`,\r\n\t\t\t                {\r\n\t\t\t                    num,\r\n\t\t\t                    price,\r\n\t\t\t                    price_count,\r\n\t\t\t                },\r\n\t\t\t                (res) => {\r\n\t\t\t                    this.$toast(\"已加入购物车\", \"成功\");\r\n\t\t\t                    console.log(\"更改值\")\r\n\t\t\t                }\r\n\t\t\t            );\r\n\t\t\t        } else {\r\n\t\t\t            this.$post(\"~/api/cart/add?\", body, (res) => {\r\n\t\t\t                this.$toast(\"已加入购物车\", \"成功\");\r\n\t\t\t            });\r\n\t\t\t        }\r\n\t\t\t    })\r\n\t\t\t},\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.media {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\t\tflex-basis: 75%;\r\n\t\tmin-height: 10rem;\r\n\t}\r\n\r\n\t.goods {\r\n\t\tdisplay: flex;\r\n\t\twidth: calc(25% - 1rem);\r\n\t\tmargin: 0.5rem;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\t\tbackground-color: white;\r\n\t\tborder-radius: 0.5rem;\r\n\t}\r\n\r\n\t.goods:hover {\r\n\t\tborder: 0.2rem solid #909399;\r\n\t\tbox-shadow: 0 0.1rem 0.3rem rgba(0, 0, 0, 0.15);\r\n\t}\r\n\r\n\t.goods:hover img {\r\n\t\tfilter: blur(1px);\r\n\t}\r\n\r\n\t.price {\r\n\t\tfont-size: 1rem;\r\n\t\tmargin-right: 3px;\r\n\t}\r\n\r\n\t.price_ago {\r\n\t\ttext-decoration: line-through;\r\n\t\tfont-size: 0.5rem;\r\n\t\tcolor: #999;\r\n\r\n\t}\r\n\r\n\t.title {\r\n\t\tword-break: break-all;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t\tfont-weight: 700;\r\n\t\tpadding: .25rem .5rem;\r\n\t}\r\n\t.bottom {\r\n\t\tpadding: 0 .5rem .5rem 0.5rem;\r\n\t}\r\n\r\n\t.icon_cart {\r\n\t\tcolor: #FF5722;\r\n\t\tfloat: right;\r\n\t}\r\n\r\n\t@media (max-width: 992px) {\r\n\r\n\t\t.goods {\r\n\t\t\twidth: calc(33% - 1rem);\r\n\t\t\t;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@media (max-width: 768px) {\r\n\r\n\t\t.goods {\r\n\t\t\twidth: calc(50% - 1rem);\r\n\t\t\t;\r\n\t\t}\r\n\r\n\t}\r\n</style>\r\n"]}]}