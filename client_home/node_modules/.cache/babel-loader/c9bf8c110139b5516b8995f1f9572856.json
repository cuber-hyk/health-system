{"remainingRequest":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\src\\views\\goods\\details.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\src\\views\\goods\\details.vue","mtime":1675233590000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\babel.config.js","mtime":1675233590000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBtaXhpbiBmcm9tICIuLi8uLi9taXhpbnMvcGFnZS5qcyI7CmltcG9ydCBsaXN0X2dvb2RzX2hvdCBmcm9tICIuLi8uLi9jb21wb25lbnRzL2RpeS9saXN0X2dvb2RzX2hvdC52dWUiOwppbXBvcnQgbGlzdF9jb21tZW50IGZyb20gIi4uLy4uL2NvbXBvbmVudHMvZGl5L2xpc3RfY29tbWVudC52dWUiOwppbXBvcnQgZGl2X2dvb2RzIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvZGl5L2Rpdl9nb29kcy52dWUiOwppbXBvcnQgZm9ybV9lZGl0b3IgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9kaXkvZm9ybV9lZGl0b3IudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW21peGluXSwKICBjb21wb25lbnRzOiB7CiAgICBsaXN0X2NvbW1lbnQsCiAgICBsaXN0X2dvb2RzX2hvdCwKICAgIGRpdl9nb29kcywKICAgIGZvcm1fZWRpdG9yCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXJsX2dldF9vYmo6ICJ+L2FwaS9nb29kcy9nZXRfb2JqPyIsCiAgICAgIHF1ZXJ5OiB7CiAgICAgICAgZ29vZHNfaWQ6IDAKICAgICAgfSwKICAgICAgbGlzdF9jb21tZW50OiBbXSwKICAgICAgbGlzdF9ob3Q6IFtdLAogICAgICBzZWxlY3RlZF9pbmRleDogMiwKICAgICAgZm9ybV9jb21tZW50OiB7CiAgICAgICAgc291cmNlX3RhYmxlOiAiZ29vZHMiLAogICAgICAgIHNvdXJjZV9maWVsZDogImdvb2RzX2lkIiwKICAgICAgICBzb3VyY2VfaWQ6IDAsCiAgICAgICAgcmVwbHlfdG9faWQ6IDAsCiAgICAgICAgY29udGVudDogJycKICAgICAgfSwKICAgICAgLy8g6aG16Z2i5pWwCiAgICAgIGNvdW50X3BhZ2VzOiAxLAogICAgICAvLyDmmK/lkKborr7nva7ov4cKICAgICAgc2V0ZWRfY291bnRfcGFnZXM6IHRydWUsCiAgICAgIG9iajogewogICAgICAgIGdvb2RzX2lkOiAwLAogICAgICAgIHRpdGxlOiAiIiwKICAgICAgICBpbWc6ICIiLAogICAgICAgIGRlc2NyaXB0aW9uOiAiIiwKICAgICAgICBwcmljZV9hZ286IDAsCiAgICAgICAgcHJpY2U6IDAsCiAgICAgICAgc2FsZXM6IDAsCiAgICAgICAgaW52ZW50b3J5OiAwLAogICAgICAgIHR5cGU6ICIiLAogICAgICAgIGhpdHM6IDAsCiAgICAgICAgY29udGVudDogJycsCiAgICAgICAgY3JlYXRlX3RpbWU6ICIyMDIxLTAyLTIwIDIwOjQ4OjA3IiwKICAgICAgICB1cGRhdGVfdGltZTogIjIwMjEtMDMtMzAgMTc6NDg6MDciLAogICAgICAgIGltZ18xOiAiIiwKICAgICAgICBpbWdfMjogIiIsCiAgICAgICAgaW1nXzM6ICIiLAogICAgICAgIGltZ180OiAiIiwKICAgICAgICBpbWdfNTogIiIsCiAgICAgICAgc291cmNlX3RhYmxlOiAiIiwKICAgICAgICBzb3VyY2VfZmllbGQ6ICIiLAogICAgICAgIHNvdXJjZV9pZDogMCwKICAgICAgICBudW1fYnV5OiAxLAogICAgICAgIGN1c3RvbWl6ZV9maWVsZDogIiIsCiAgICAgICAgdXNlcl9pZDogMAogICAgICB9LAogICAgICBwdWJsaXNoX2ZsYWc6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLyoqCiAgICAgKiDojrflj5bor4TorrrlkI4KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uIOWTjeW6lOWvueixoQogICAgICovCiAgICBnZXRfb2JqX2FmdGVyKGpzb24pIHsKICAgICAgdmFyIG9iaiA9IGpzb24ucmVzdWx0Lm9iajsKICAgICAgdGhpcy5nZXRfY29tbWVudChvYmopOwogICAgICBvYmoubnVtX2J1eSA9IDE7CiAgICAgIHRoaXMuZm9ybV9jb21tZW50LnNvdXJjZV9pZCA9IG9iai5nb29kc19pZDsKICAgICAgdGhpcy4kZ2V0KCJ+L2FwaS9vcmRlci9nZXRfb2JqPyIsIHsKICAgICAgICAiZ29vZHNfaWQiOiBvYmouZ29vZHNfaWQsCiAgICAgICAgInVzZXJfaWQiOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJfaWQsCiAgICAgICAgInN0YXRlIjogIuW3suS7mOasviIKICAgICAgfSwganNvbiA9PiB7CiAgICAgICAgaWYgKGpzb24ucmVzdWx0ICYmIGpzb24ucmVzdWx0Lm9iaikgewogICAgICAgICAgdGhpcy5wdWJsaXNoX2ZsYWcgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLyoqCiAgICAgKiDojrflvpfng63pl6jllYblk4EKICAgICAqLwogICAgZ2V0X2hvdF9nb29kcygpIHsKICAgICAgdGhpcy4kZ2V0KCJ+L2FwaS9nb29kcy9nZXRfbGlzdCIsIHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIHNpemU6IDUsCiAgICAgICAgb3JkZXJieTogImhpdHMiCiAgICAgIH0sIHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5yZXN1bHQpIHsKICAgICAgICAgIHRoaXMubGlzdF9ob3QgPSByZXMucmVzdWx0Lmxpc3Q7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvKioKICAgICAqIOabtOaWsOivhOiuugogICAgICovCiAgICB1cGRhdGVfY29tbWVudCgpIHsKICAgICAgdGhpcy5nZXRfY29tbWVudCh0aGlzLm9iaik7CiAgICB9LAogICAgLyoqCiAgICAgKiDojrflj5bor4TorroKICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IG9iaiDmlofnq6Dlr7nosaEKICAgICAqIEBwYXJhbSB7IE51bWJlciB9IHBhZ2Ug5YiG6aG15pWwCiAgICAgKiBAcGFyYW0geyBOdW1iZXIgfSBzaXplIOivhOiuuuaYvuekuuadoeaVsAogICAgICovCiAgICBnZXRfY29tbWVudChvYmosIHBhZ2UgPSAxLCBzaXplID0gNSkgewogICAgICB0aGlzLiRnZXQoIn4vYXBpL2NvbW1lbnQvZ2V0X2xpc3Q/IiwgewogICAgICAgIHNvdXJjZV90YWJsZTogImdvb2RzIiwKICAgICAgICBzb3VyY2VfZmllbGQ6ICJnb29kc19pZCIsCiAgICAgICAgc291cmNlX2lkOiBvYmouZ29vZHNfaWQsCiAgICAgICAgcGFnZSwKICAgICAgICBzaXplLAogICAgICAgIG9yZGVyYnk6ICJjcmVhdGVfdGltZSBkZXNjIiwKICAgICAgICByZXBseV90b19pZDogIjAiCiAgICAgIH0sIGpzb24gPT4gewogICAgICAgIGlmIChqc29uLnJlc3VsdCkgewogICAgICAgICAgdmFyIGxpc3RfY29tbWVudCA9IGpzb24ucmVzdWx0Lmxpc3Q7CiAgICAgICAgICBsaXN0X2NvbW1lbnQubWFwKG8gPT4gewogICAgICAgICAgICBvLmxpc3RfcmVwbHkgPSBbXTsKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5hZGRfcmVwbHkobGlzdF9jb21tZW50KS50aGVuKGxpc3QgPT4gewogICAgICAgICAgICB0aGlzLmxpc3RfY29tbWVudCA9IGxpc3Q7CiAgICAgICAgICB9KTsKICAgICAgICAgIC8vIOWIhumhteWZqAogICAgICAgICAgaWYgKHRoaXMuc2V0ZWRfY291bnRfcGFnZXMpIHsKICAgICAgICAgICAgdGhpcy5zZXRlZF9jb3VudF9wYWdlcyA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmNvdW50X3BhZ2VzID0gTWF0aC5jZWlsKGpzb24ucmVzdWx0LmNvdW50IC8gc2l6ZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvKioKICAgICAqIEBwYXJhbSB7IEFycmF5IH0gbGlzdCDor4TorrrliJfooagKICAgICAqIOa3u+WKoOWbnuWkjeWIsOivhOiuuuWIl+ihqAogICAgICovCiAgICBhZGRfcmVwbHkobGlzdCkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbGlzdC5sZW5ndGg7IGlkeCsrKSB7CiAgICAgICAgICBjb25zdCBvYmogPSBsaXN0W2lkeF07CiAgICAgICAgICB0aGlzLiRnZXQoIn4vYXBpL2NvbW1lbnQvZ2V0X2xpc3Q/IiwgewogICAgICAgICAgICBzb3VyY2VfdGFibGU6ICJnb29kcyIsCiAgICAgICAgICAgIHNvdXJjZV9maWVsZDogImdvb2RzX2lkIiwKICAgICAgICAgICAgc291cmNlX2lkOiBvYmouZ29vZHNfaWQsCiAgICAgICAgICAgIG9yZGVyYnk6ICJjcmVhdGVfdGltZSBkZXNjIiwKICAgICAgICAgICAgcmVwbHlfdG9faWQ6IG9iai5jb21tZW50X2lkCiAgICAgICAgICB9LCByZXMgPT4gewogICAgICAgICAgICBpZiAocmVzLnJlc3VsdCkgewogICAgICAgICAgICAgIG9iai5saXN0X3JlcGx5ID0gcmVzLnJlc3VsdC5saXN0OwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgcmVzb2x2ZShsaXN0KTsKICAgICAgfSk7CiAgICB9LAogICAgLyoqCiAgICAgKiDliIbpobXlmagKICAgICAqIEBwYXJhbSB7IE51bWJlciB9IHBhZ2VfbnVtIOWIhumhteaVsAogICAgICogQHJldHVybiB7IE9iamVjdCB9IOafpeivouWvueixoQogICAgICovCiAgICBsaW5rX2dlbihwYWdlX251bSkgewogICAgICByZXR1cm4gewogICAgICAgIHF1ZXJ5OiB0aGlzLnF1ZXJ5CiAgICAgIH07CiAgICB9LAogICAgLyoqCiAgICAgKiDliqDovb3kuIvkuIDpobUKICAgICAqLwogICAgY2hhbmdlX3BhZ2UocGFnZV9udW0pIHsKICAgICAgdGhpcy5nZXRfY29tbWVudCh0aGlzLm9iaiwgcGFnZV9udW0pOwogICAgICB0aGlzLmZvcm1fY29tbWVudC5yZXBseV90b19pZCA9IDA7CiAgICB9LAogICAgLy8g6I635b6X5ZWG5ZOB6L2u5pKt5Zu+CiAgICBjdXN0b21pemVfZmllbGRfbGlzdDogZnVuY3Rpb24gKCkgewogICAgICBpZiAodGhpcy5vYmouY3VzdG9taXplX2ZpZWxkKSB7CiAgICAgICAgbGV0IGxpc3RfZmllbGRzID0gSlNPTi5wYXJzZSh0aGlzLm9iai5jdXN0b21pemVfZmllbGQpOwogICAgICAgIHJldHVybiBsaXN0X2ZpZWxkczsKICAgICAgfQogICAgICByZXR1cm4gW107CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLyoqCiAgICAgKiDojrflvpflm77niYfliJfooagKICAgICAqLwogICAgbGlzdF9pbWcoKSB7CiAgICAgIHZhciB7CiAgICAgICAgaW1nXzEsCiAgICAgICAgaW1nXzIsCiAgICAgICAgaW1nXzMsCiAgICAgICAgaW1nXzQKICAgICAgfSA9IHRoaXMub2JqOwogICAgICB2YXIgbGlzdF9pbWcgPSBbXTsKICAgICAgaWYgKGltZ18xKSB7CiAgICAgICAgbGlzdF9pbWcucHVzaChpbWdfMSk7CiAgICAgIH0KICAgICAgaWYgKGltZ18yKSB7CiAgICAgICAgbGlzdF9pbWcucHVzaChpbWdfMik7CiAgICAgIH0KICAgICAgaWYgKGltZ18zKSB7CiAgICAgICAgbGlzdF9pbWcucHVzaChpbWdfMyk7CiAgICAgIH0KICAgICAgaWYgKGltZ180KSB7CiAgICAgICAgbGlzdF9pbWcucHVzaChpbWdfNCk7CiAgICAgIH0KICAgICAgcmV0dXJuIGxpc3RfaW1nOwogICAgfSwKICAgIHJlc3BvbmRlbnQoKSB7CiAgICAgIHZhciByZXBseV90b19pZCA9IHRoaXMuZm9ybV9jb21tZW50LnJlcGx5X3RvX2lkOwogICAgICB2YXIgcmVzcG9uZGVudCA9ICIiOwogICAgICB0aGlzLmxpc3RfY29tbWVudC5tYXAobyA9PiB7CiAgICAgICAgaWYgKG8uY29tbWVudF9pZCA9PT0gcmVwbHlfdG9faWQpIHsKICAgICAgICAgIHJlc3BvbmRlbnQgPSBvLm5pY2tuYW1lOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiByZXNwb25kZW50OwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0X2hvdF9nb29kcygpOwogIH0KfTs="},{"version":3,"mappings":";AAgHA;AACA;AACA;AACA;AACA;AACA;EACAA;EACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;QACAC;MACA;MACAP;MACAQ;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACA;MACAC;MACA;MACAC;MACAC;QACAX;QACAY;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAZ;QACAa;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAvB;QACAC;QACAC;QACAsB;QACAC;QACAC;MACA;MACAC;IACA;EACA;EACAC;IACA;AACA;AACA;AACA;IACAC;MACA;MACA;MACAtB;MACA;MACA;QAAA;QAAA;QAAA;MAAA;QACA;UACA;QACA;MACA;IACA;IACA;AACA;AACA;IACAuB;MACA,UACA,wBACA;QACAC;QACAC;QACAC;MACA,GACAC;QACA;UACA;QACA;MACA,EACA;IACA;IACA;AACA;AACA;IACAC;MACA;IACA;IAEA;AACA;AACA;AACA;AACA;AACA;IACAC;MACA,UACA,2BACA;QACApC;QACAC;QACAC;QACA6B;QACAC;QACAC;QACA9B;MACA,GACAkC;QACA;UACA;UACAhD;YACAiD;UACA;UACA;YACA;UACA;UACA;UACA;YACA;YACA;UACA;QACA;MACA,EACA;IACA;IACA;AACA;AACA;AACA;IACAC;MACA;QACA;UACA;UACA,UACA,2BACA;YACAvC;YACAC;YACAC;YACA+B;YACA9B;UACA,GACA+B;YACA;cACA3B;YACA;UACA,EACA;QACA;QACAiC;MACA;IACA;IACA;AACA;AACA;AACA;AACA;IACAC;MACA;QACA9C;MACA;IACA;IACA;AACA;AACA;IACA+C;MACA;MACA;IACA;IACA;IACAC;MACA;QACA;QACA;MACA;MACA;IACA;EACA;EACAC;IACA;AACA;AACA;IACAC;MACA;QAAA1B;QAAAC;QAAAC;QAAAC;MAAA;MACA;MACA;QACAuB;MACA;MACA;QACAA;MACA;MACA;QACAA;MACA;MACA;QACAA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;QACA;UACAA;QACA;MACA;MACA;IACA;EACA;EACAC;IACA;EACA;AACA","names":["mixins","components","list_comment","list_goods_hot","div_goods","form_editor","data","url_get_obj","query","goods_id","list_hot","selected_index","form_comment","source_table","source_field","source_id","reply_to_id","content","count_pages","seted_count_pages","obj","title","img","description","price_ago","price","sales","inventory","type","hits","create_time","update_time","img_1","img_2","img_3","img_4","img_5","num_buy","customize_field","user_id","publish_flag","methods","get_obj_after","get_hot_goods","page","size","orderby","res","update_comment","get_comment","json","o","add_reply","resolve","link_gen","change_page","customize_field_list","computed","list_img","respondent","mounted"],"sourceRoot":"src/views/goods","sources":["details.vue"],"sourcesContent":["<template>\n  <div class=\"page_goods\" id=\"goods_details\">\n    <div class=\"warp\" v-if=\"$check_action('/goods/details', 'get')\">\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-12 col-md-10\">\n            <div class=\"pr-md-2\">\n              <!-- 商品详情 -->\n              <div class=\"card_div_goods\">\n                <div_goods :obj=\"obj\" :list_img=\"list_img\"></div_goods>\n              </div>\n              <div class=\"card_bottom_goods\">\n                <div class=\"options pl-3\">\n                  <span\n                    @click=\"selected_index = 1\"\n                    :class=\"{ selected: selected_index === 1 }\"\n                    >详情</span\n                  >\n                  <span\n                    @click=\"selected_index = 2\"\n                    :class=\"{ selected: selected_index === 2 }\"\n                    >评论</span\n                  >\n                </div>\n                <div v-if=\"selected_index === 2\" class=\"comment_box\">\n                  <list_comment\n                    class=\"w-100\"\n                    :list=\"list_comment\"\n                    :obj=\"form_comment\"\n                  ></list_comment>\n\n                  <!-- 分页器 -->\n                  <b-pagination-nav\n                    :base-url=\"$route.path\"\n                    :number-of-pages=\"count_pages\"\n                    :link-gen=\"link_gen\"\n                    @change=\"change_page\"\n                    first-number\n                    last-number\n                  ></b-pagination-nav>\n\n\n                  <div class=\"form_editor\">\n                    <div class=\"fl ml-3\" v-show=\"form_comment.reply_to_id\">\n                      对 <i>{{ respondent }}</i> 回复\n                    </div>\n                    <div class=\"fr mr-3\" v-show=\"form_comment.reply_to_id\">\n                      <b-button\n                        variant=\"outline-primary\"\n                        size=\"sm\"\n                        @click=\"form_comment.reply_to_id = 0\"\n                        >重置回复人</b-button\n                      >\n                    </div>\n                    <form_editor\n                      class=\"fn\"\n                      :form=\"form_comment\"\n                      :publish_flag = \"publish_flag\"\n                      @update_comment=\"update_comment\"\n                    ></form_editor>\n                  </div>\n                </div>\n\n                <div class=\"goods_desc_box\" v-else>\n                  <div class=\"goods_detail_item\" v-for=\"o in customize_field_list()\" :key=\"o\">\n                    <label>{{o.field_name+\" : \"}}</label>\n                    <span v-if=\"o.type==='image'\">\n                                            <img style=\"height: 150px\" :src=\"$fullUrl(o.field_value)\" v-if=\"o.field_value\" />\n                                        </span>\n                    <span v-else-if=\"o.type==='video'\">\n                                            <router-link :to=\"'/media/video?filename=' + $fullUrl(o.field_value)\" v-if=\"o.field_value\" >\n                                                <span>\n                                                    查看视频\n                                                </span>\n                                            </router-link>\n                                        </span>\n                    <span v-else-if=\"o.type==='audio'\">\n\t\t\t\t\t\t\t                <audio v-if=\"o.field_value\" style=\"text-align: left\" :src=\"$fullUrl(o.field_value)\" controls></audio>\n                                        </span>\n                    <span v-else-if=\"o.type==='file'\">\n\t\t\t\t\t\t\t                <a :href=\"$fullUrl(o.field_value)\" v-if=\"o.field_value\" target=\"_blank\" style=\"color: rgb(64, 158, 255);\">点击下载</a>\n                                        </span>\n                    <span v-else-if=\"o.type==='date'\">\n\t\t\t\t\t\t\t                {{$toTime(o.field_value,\"yyyy-MM-dd\")}}\n                                        </span>\n                    <span v-else-if=\"o.type==='time'\">\n\t\t\t\t\t\t\t                {{$toTime(o.field_value,\"hh:mm:ss\")}}\n                                        </span>\n                    <span v-else-if=\"o.type==='datetime'\">\n\t\t\t\t\t\t\t                {{$toTime(o.field_value,\"yyyy-MM-dd hh:mm:ss\")}}\n                                        </span>\n                    <span v-else>{{o.field_value}}</span>\n                  </div>\n                  <div class=\"goods_detail_editor\" v-html=\"obj.content\"></div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"col-12 col-md-2\">\n            <div class=\"card_aside\">\n              <h5>今日推荐</h5>\n              <list_goods_hot :list=\"list_hot\"></list_goods_hot>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport mixin from \"../../mixins/page.js\";\nimport list_goods_hot from \"../../components/diy/list_goods_hot.vue\";\nimport list_comment from \"../../components/diy/list_comment.vue\";\nimport div_goods from \"../../components/diy/div_goods.vue\";\nimport form_editor from \"../../components/diy/form_editor.vue\";\nexport default {\n  mixins: [mixin],\n  components: {\n    list_comment,\n    list_goods_hot,\n    div_goods,\n    form_editor,\n  },\n  data() {\n    return {\n      url_get_obj: \"~/api/goods/get_obj?\",\n      query: {\n        goods_id: 0,\n      },\n      list_comment: [],\n      list_hot: [],\n      selected_index: 2,\n      form_comment: {\n        source_table: \"goods\",\n        source_field: \"goods_id\",\n        source_id: 0,\n        reply_to_id: 0,\n        content:''\n      },\n      // 页面数\n      count_pages: 1,\n      // 是否设置过\n      seted_count_pages: true,\n      obj: {\n        goods_id: 0,\n        title: \"\",\n        img: \"\",\n        description: \"\",\n        price_ago: 0,\n        price: 0,\n        sales: 0,\n        inventory: 0,\n        type: \"\",\n        hits: 0,\n        content: '',\n        create_time: \"2021-02-20 20:48:07\",\n        update_time: \"2021-03-30 17:48:07\",\n        img_1: \"\",\n        img_2: \"\",\n        img_3: \"\",\n        img_4: \"\",\n        img_5: \"\",\n        source_table: \"\",\n        source_field: \"\",\n        source_id: 0,\n        num_buy: 1,\n        customize_field:\"\",\n        user_id:0\n      },\n      publish_flag:false\n    };\n  },\n  methods: {\n    /**\n     * 获取评论后\n     * @param {Object} json 响应对象\n     */\n    get_obj_after(json) {\n      var obj = json.result.obj;\n      this.get_comment(obj);\n      obj.num_buy = 1;\n      this.form_comment.source_id = obj.goods_id;\n      this.$get(\"~/api/order/get_obj?\", {\"goods_id\":obj.goods_id,\"user_id\":this.$store.state.user.user_id,\"state\":\"已付款\"}, (json) => {\n        if (json.result && json.result.obj) {\n          this.publish_flag = true\n        }\n      })\n    },\n    /**\n     * 获得热门商品\n     */\n    get_hot_goods() {\n      this.$get(\n        \"~/api/goods/get_list\",\n        {\n          page: 1,\n          size: 5,\n          orderby: \"hits\",\n        },\n        (res) => {\n          if (res.result) {\n            this.list_hot = res.result.list;\n          }\n        }\n      );\n    },\n    /**\n     * 更新评论\n     */\n    update_comment() {\n      this.get_comment(this.obj);\n    },\n\n    /**\n     * 获取评论\n     * @param { Object } obj 文章对象\n     * @param { Number } page 分页数\n     * @param { Number } size 评论显示条数\n     */\n    get_comment(obj, page = 1, size = 5) {\n      this.$get(\n        \"~/api/comment/get_list?\",\n        {\n          source_table: \"goods\",\n          source_field: \"goods_id\",\n          source_id: obj.goods_id,\n          page,\n          size,\n          orderby: \"create_time desc\",\n          reply_to_id: \"0\",\n        },\n        (json) => {\n          if (json.result) {\n            var list_comment = json.result.list;\n            list_comment.map(o=>{\n              o.list_reply = []\n            })\n            this.add_reply(list_comment).then((list) => {\n              this.list_comment = list;\n            });\n            // 分页器\n            if (this.seted_count_pages) {\n              this.seted_count_pages = false;\n              this.count_pages = Math.ceil(json.result.count / size);\n            }\n          }\n        }\n      );\n    },\n    /**\n     * @param { Array } list 评论列表\n     * 添加回复到评论列表\n     */\n    add_reply(list) {\n      return new Promise((resolve) => {\n        for (let idx = 0; idx < list.length; idx++) {\n          const obj = list[idx];\n          this.$get(\n            \"~/api/comment/get_list?\",\n            {\n              source_table: \"goods\",\n              source_field: \"goods_id\",\n              source_id: obj.goods_id,\n              orderby: \"create_time desc\",\n              reply_to_id: obj.comment_id,\n            },\n            (res) => {\n              if (res.result) {\n                obj.list_reply = res.result.list;\n              }\n            }\n          );\n        }\n        resolve(list);\n      });\n    },\n    /**\n     * 分页器\n     * @param { Number } page_num 分页数\n     * @return { Object } 查询对象\n     */\n    link_gen(page_num) {\n      return {\n        query: this.query,\n      };\n    },\n    /**\n     * 加载下一页\n     */\n    change_page(page_num) {\n      this.get_comment(this.obj, page_num);\n      this.form_comment.reply_to_id = 0;\n    },\n    // 获得商品轮播图\n    customize_field_list: function() {\n      if (this.obj.customize_field) {\n        let list_fields = JSON.parse(this.obj.customize_field)\n        return list_fields;\n      }\n      return []\n    }\n  },\n  computed: {\n    /**\n     * 获得图片列表\n     */\n    list_img() {\n      var { img_1, img_2, img_3, img_4 } = this.obj;\n      var list_img = [];\n      if (img_1) {\n        list_img.push(img_1);\n      }\n      if (img_2) {\n        list_img.push(img_2);\n      }\n      if (img_3) {\n        list_img.push(img_3);\n      }\n      if (img_4) {\n        list_img.push(img_4);\n      }\n      return list_img;\n    },\n    respondent() {\n      var reply_to_id = this.form_comment.reply_to_id;\n      var respondent = \"\";\n      this.list_comment.map((o) => {\n        if (o.comment_id === reply_to_id) {\n          respondent = o.nickname;\n        }\n      });\n      return respondent;\n    },\n  },\n  mounted() {\n    this.get_hot_goods();\n  },\n};\n</script>\n\n<style scoped>\n.card_bottom_goods {\n  margin-top: 60px;\n  padding: 5px;\n  border: 1px solid #eee;\n}\n.options {\n  font-size: 20px;\n  padding: 15px 0;\n  border-bottom: 1px solid #eee;\n}\n.options span {\n  cursor: pointer;\n  padding-right: 40px;\n  font-weight: 600;\n}\n.options span.selected {\n  color: var(--color_primary);\n}\n.options span:hover {\n  color: var(--color_primary);\n}\n.form_editor {\n  padding: 10px;\n}\n.comment_box {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n</style>\n"]}]}