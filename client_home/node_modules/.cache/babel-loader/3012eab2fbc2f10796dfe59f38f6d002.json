{"remainingRequest":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\babel-loader\\lib\\index.js!G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\views\\order\\details.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\views\\order\\details.vue","mtime":1657768166000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\babel.config.js","mtime":1657768166000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBtaXhpbiBmcm9tICJAL21peGlucy9wYWdlLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW21peGluXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g55m75b2V5p2D6ZmQCiAgICAgIG9hdXRoOiB7CiAgICAgICAgc2lnbkluOiB0cnVlLAogICAgICAgIHVzZXJfZ3JvdXA6IFtdCiAgICAgIH0sCiAgICAgIHVybF9nZXRfbGlzdDogIn4vYXBpL29yZGVyL2dldF9saXN0IiwKICAgICAgZmllbGQ6ICJvcmRlcl9udW1iZXIiLAogICAgICBxdWVyeTogewogICAgICAgIG9yZGVyX251bWJlcjogIiIKICAgICAgfSwKICAgICAgY29udGFjdF9uYW1lOiAiIiwKICAgICAgY29udGFjdF9waG9uZTogIiIsCiAgICAgIGNvbnRhY3RfYWRkcmVzczogIiIsCiAgICAgIG9yZGVyX251bWJlcjogIiIsCiAgICAgIGNyZWF0ZV90aW1lOiAiIiwKICAgICAgc3RhdGU6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLyoqCiAgICAgKiDojrflj5borqLljZXlkI4KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uIOWTjeW6lOWvueixoQogICAgICovCiAgICBnZXRfbGlzdF9hZnRlcihqc29uKSB7CiAgICAgIHZhciB7CiAgICAgICAgY29udGFjdF9uYW1lLAogICAgICAgIGNvbnRhY3RfcGhvbmUsCiAgICAgICAgY29udGFjdF9hZGRyZXNzLAogICAgICAgIG9yZGVyX251bWJlciwKICAgICAgICBjcmVhdGVfdGltZSwKICAgICAgICBzdGF0ZQogICAgICB9ID0ganNvbi5yZXN1bHQubGlzdFswXTsKICAgICAgdGhpcy5jb250YWN0X25hbWUgPSBjb250YWN0X25hbWU7CiAgICAgIHRoaXMuY29udGFjdF9waG9uZSA9IGNvbnRhY3RfcGhvbmU7CiAgICAgIHRoaXMuY29udGFjdF9hZGRyZXNzID0gY29udGFjdF9hZGRyZXNzOwogICAgICB0aGlzLm9yZGVyX251bWJlciA9IG9yZGVyX251bWJlcjsKICAgICAgdGhpcy5jcmVhdGVfdGltZSA9IGNyZWF0ZV90aW1lOwogICAgICB0aGlzLnN0YXRlID0gc3RhdGU7CiAgICAgIHJldHVybiBqc29uOwogICAgfSwKICAgIC8qKgogICAgICog6YCA5qy+CiAgICAgKi8KICAgIC8vIHJlZnVuZCgpIHsKICAgIC8vICAgdGhpcy4kcG9zdCgKICAgIC8vICAgICAifi9hcGkvb3JkZXIvc2V0P29yZGVyX251bWJlcj0iICsgdGhpcy5vcmRlcl9udW1iZXIsCiAgICAvLyAgICAgewogICAgLy8gICAgICAgc3RhdGU6ICLlvoXpgIDmrL4iLAogICAgLy8gICAgIH0sCiAgICAvLyAgICAgKHJlcykgPT4gewogICAgLy8gICAgICAgdGhpcy5zdGF0ZSA9ICLlvoXpgIDmrL4iOwogICAgLy8gICAgIH0KICAgIC8vICAgKTsKICAgIC8vIH0sCiAgICAvKioKICAgICAqIOWPlua2iOmAgOasvgogICAgICovCiAgICAvLyBjYW5jZWxfcmVmdW5kKCl7CiAgICAvLyAgICAgdGhpcy4kcG9zdCgKICAgIC8vICAgICAifi9hcGkvb3JkZXIvc2V0P29yZGVyX251bWJlcj0iICsgdGhpcy5vcmRlcl9udW1iZXIsCiAgICAvLyAgICAgewogICAgLy8gICAgICAgc3RhdGU6ICLlvoXlj5HotKciLAogICAgLy8gICAgIH0sCiAgICAvLyAgICAgKHJlcykgPT4gewogICAgLy8gICAgICAgdGhpcy5zdGF0ZSA9ICLlvoXlj5HotKciOwogICAgLy8gICAgIH0KICAgIC8vICAgKTsKICAgIC8vIH0sCiAgICAvKioKICAgICAqIOaUr+S7mAogICAgICovCiAgICBnb3RvX3BheSgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9wYXkvZGV0YWlsPyIgKyAib3JkZXJfbnVtYmVyPSIgKyB0aGlzLm9yZGVyX251bWJlciArICImJiIgKyAic3VtX3ByaWNlPSIgKyB0aGlzLnN1bV9wcmljZSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLyoqCiAgICAgKiDorqHnrpfmgLvku7cKICAgICAqLwogICAgc3VtX3ByaWNlKCkgewogICAgICB2YXIgc3VtX3ByaWNlID0gMDsKICAgICAgdGhpcy5saXN0Lm1hcChvID0+IHN1bV9wcmljZSArPSBvLnByaWNlICogby5udW0pOwogICAgICByZXR1cm4gc3VtX3ByaWNlOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";AAwFA;AAEA;EACAA;EACAC;IACA;MACA;MACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAH;MACAI;MACAC;IACA;EACA;EACAC;IACA;AACA;AACA;AACA;IACAC;MACA;QACAN;QACAC;QACAC;QACAH;QACAI;QACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACA;AACA;AACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACA;AACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACA;AACA;IACAG;MACA,kBACA,iBACA,kBACA,oBACA,OACA,eACA,eACA;IACA;EACA;EACAC;IACA;AACA;AACA;IACAC;MACA;MACA;MACA;IACA;EACA;AACA","names":["mixins","data","oauth","signIn","user_group","url_get_list","field","query","order_number","contact_name","contact_phone","contact_address","create_time","state","methods","get_list_after","goto_pay","computed","sum_price"],"sourceRoot":"src/views/order","sources":["details.vue"],"sourcesContent":["<template>\n  <div class=\"page_order\" id=\"order_details\">\n    <div class=\"warp\">\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col\">\n            <div class=\"card_order\">\n              <!-- 订单列表 -->\n              <div v-if=\"$check_action('/order/details', 'get')\">\n                <div class=\"state\">\n                  {{ state }}\n                </div>\n                <div class=\"contact_info\">\n                  <div class=\"line_1\">\n                    <b-icon class=\"icon_address\" icon=\"geo-alt\"></b-icon>\n                    <span class=\"name\">{{ contact_name }}</span>\n                    <span class=\"phone\"> {{ contact_phone }}</span>\n                  </div>\n                  <span class=\"line_2\">{{ contact_address }}</span>\n                </div>\n                <div class=\"goods_list\" v-for=\"(obj, idx) in list\" :key=\"idx\">\n                  <div class=\"item_goods flex_sbc\">\n                    <div class=\"img_block\">\n                      <img\n                        style=\"width: 4.5rem; height: 4.5rem\"\n                        :src=\"$fullUrl(obj.img)\"\n                        mode=\"scaleToFill\"\n                      />\n                    </div>\n                    <div class=\"middle_info\">\n                      <div class=\"title ellipsis_2\">\n                        {{ obj.title }}\n                      </div>\n                      <div class=\"priceAndNum\">\n                        <span class=\"price\"> ￥{{ obj.price }} </span>\n                        <span class=\"num\"> ×{{ obj.num }} </span>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"num_info\"></div>\n                </div>\n                <div class=\"sum_price flex_sbc\">\n                  <span>需付款</span>\n                  <span style=\"color: var(--color_red); font-weight: 600\"\n                    >￥{{ sum_price }}</span\n                  >\n                </div>\n                <div class=\"btn_block\">\n                  <div v-if=\"$check_action('/order/details', 'set')\">\n                    <div\n                      class=\"btn_trade\"\n                      v-if=\"state === '待付款'\"\n                      @click=\"goto_pay()\"\n                    >\n                      去支付\n                    </div>\n                    <!--<div-->\n                      <!--v-if=\"state === '已签收' || state === '待发货'\"-->\n                      <!--class=\"btn_trade\"-->\n                      <!--@click=\"refund()\">-->\n                      <!--申请退款-->\n                    <!--</div>-->\n                    <!--<div-->\n                      <!--v-if=\"state === '待退款'\"-->\n                      <!--class=\"btn_trade\"-->\n                      <!--@click=\"cancel_refund()\">-->\n                      <!--取消退款申请-->\n                    <!--</div>-->\n                  </div>\n                </div>\n                <div class=\"bottom_order\">\n                  <div class=\"order_num flex_sbc\">\n                    <span>订单编号：</span><span>{{ order_number }}</span>\n                  </div>\n                  <div class=\"time flex_sbc\">\n                    <span>下单时间：</span><span>{{ create_time | formatDate }}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport mixin from \"@/mixins/page.js\";\n\nexport default {\n  mixins: [mixin],\n  data() {\n    return {\n      // 登录权限\n      oauth: {\n        signIn: true,\n        user_group: [],\n      },\n      url_get_list: \"~/api/order/get_list\",\n      field: \"order_number\",\n      query: {\n        order_number: \"\",\n      },\n      contact_name: \"\",\n      contact_phone: \"\",\n      contact_address: \"\",\n      order_number: \"\",\n      create_time: \"\",\n      state: \"\",\n    };\n  },\n  methods: {\n    /**\n     * 获取订单后\n     * @param {Object} json 响应对象\n     */\n    get_list_after(json) {\n      var {\n        contact_name,\n        contact_phone,\n        contact_address,\n        order_number,\n        create_time,\n        state,\n      } = json.result.list[0];\n      this.contact_name = contact_name;\n      this.contact_phone = contact_phone;\n      this.contact_address = contact_address;\n      this.order_number = order_number;\n      this.create_time = create_time;\n      this.state = state;\n      return json;\n    },\n    /**\n     * 退款\n     */\n    // refund() {\n    //   this.$post(\n    //     \"~/api/order/set?order_number=\" + this.order_number,\n    //     {\n    //       state: \"待退款\",\n    //     },\n    //     (res) => {\n    //       this.state = \"待退款\";\n    //     }\n    //   );\n    // },\n    /**\n     * 取消退款\n     */\n    // cancel_refund(){\n    //     this.$post(\n    //     \"~/api/order/set?order_number=\" + this.order_number,\n    //     {\n    //       state: \"待发货\",\n    //     },\n    //     (res) => {\n    //       this.state = \"待发货\";\n    //     }\n    //   );\n    // },\n    /**\n     * 支付\n     */\n    goto_pay() {\n      this.$router.push(\n        \"/pay/detail?\" +\n          \"order_number=\" +\n          this.order_number +\n          \"&&\" +\n          \"sum_price=\" +\n          this.sum_price\n      );\n    },\n  },\n  computed: {\n    /**\n     * 计算总价\n     */\n    sum_price() {\n      var sum_price = 0;\n      this.list.map((o) => (sum_price += o.price * o.num));\n      return sum_price;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.ellipsis_2 {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n.page_order {\n  min-height: 100vh;\n  background-color: #f8f8f8;\n}\n\n.flex_sbc {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.contact_info {\n  background-color: #fff;\n  padding: 0.3rem 1rem;\n  margin-bottom: 0.5rem;\n}\n\n.contact_info .line_1 {\n  margin-bottom: 0.2rem;\n}\n\n.contact_info .line_2 {\n  font-size: 0.9rem;\n}\n\n.contact_info .name {\n  padding-right: 1rem;\n  font-weight: 600;\n}\n\n.contact_info .phone {\n  color: var(--color_grey);\n}\n\n.state {\n  padding: 0.3rem 1rem;\n  background-color: #fff;\n  color: var(--color_primary);\n  border-bottom: 1px solid #f8f8f8;\n  font-size: 1.1rem;\n}\n\n.goods_list {\n  padding: 0.2rem 0.8rem;\n  background-color: #fff;\n}\n\n.goods_list .item_goods {\n  align-items: stretch;\n  border-bottom: 1px solid #f4f4f4;\n}\n\n.goods_list .img_block {\n  padding: 0.2rem;\n}\n\n.goods_list .middle_info {\n  width: calc(100% - 5.5rem);\n}\n\n.goods_list .title {\n  font-size: 0.9rem;\n  min-height: 1.4rem;\n}\n\n.goods_list .num_info {\n  display: flex;\n  justify-content: space-between;\n}\n\n.goods_list .price,\n.goods_list .num {\n  color: var(--color_grey);\n  font-size: 0.5rem;\n}\n\n.sum_price {\n  height: 2.5rem;\n  background-color: #ffffff;\n  padding: 0 0.8rem;\n  border-bottom: 1px solid #f4f4f4;\n}\n.btn_block {\n  padding: 0.8rem 2rem;\n  background-color: #fff;\n  border-bottom: 1px solid #f4f4f4;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.btn_trade {\n  text-align: center;\n  padding: 0.5rem 2rem;\n  border: 1px solid var(--color_grey);\n  border-radius: 4rem;\n  cursor: pointer;\n  width: 256px;\n}\n.btn_trade:hover {\n  opacity: 0.7;\n}\n.bottom_order {\n  background-color: #fff;\n  font-size: 0.8rem;\n  color: var(--color_grey);\n}\n.bottom_order > div {\n  padding: 0.6rem;\n}\n.bottom_order > div + div {\n  border-top: 1px solid #f4f4f4;\n}\n.order_num {\n  margin-bottom: 0.3rem;\n}\n</style>\n"]}]}