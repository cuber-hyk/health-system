{"remainingRequest":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\src\\views\\order\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\src\\views\\order\\list.vue","mtime":1675233590000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\babel.config.js","mtime":1675233590000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBsaXN0X29yZGVyIGZyb20gIkAvY29tcG9uZW50cy9kaXkvbGlzdF9vcmRlci52dWUiOwppbXBvcnQgbWl4aW4gZnJvbSAiQC9taXhpbnMvcGFnZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBtaXhpbnM6IFttaXhpbl0sCiAgY29tcG9uZW50czogewogICAgbGlzdF9vcmRlcgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOeZu+W9leadg+mZkAogICAgICBvYXV0aDogewogICAgICAgIHNpZ25JbjogdHJ1ZSwKICAgICAgICB1c2VyX2dyb3VwOiBbXQogICAgICB9LAogICAgICB1cmxfZ2V0X2xpc3Q6ICJ+L2FwaS9vcmRlci9nZXRfbGlzdCIsCiAgICAgIGxpc3RfZGlmZjogW10sCiAgICAgIHF1ZXJ5OiB7CiAgICAgICAgdXNlcl9pZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VyX2lkCiAgICAgIH0sCiAgICAgIGxpc3Rfb3JkZXJfdHlwZTogW10sCiAgICAgIHNvcnRfbGlzdDogW3sKICAgICAgICBuYW1lOiAi5pu05paw5pe26Ze05LuO6auY5Yiw5L2OIiwKICAgICAgICB2YWx1ZTogImBjcmVhdGVfdGltZWAgZGVzYyIKICAgICAgfSwgewogICAgICAgIG5hbWU6ICLmm7TmlrDml7bpl7Tku47kvY7liLDpq5giLAogICAgICAgIHZhbHVlOiAiYGNyZWF0ZV90aW1lYCBhc2MiCiAgICAgIH1dLAogICAgICBzdGF0ZV9saXN0OiBbIuWFqOmDqCIsICLlvoXku5jmrL4iLCAi5bey5LuY5qy+Il0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioNCiAgICAgKuS4i+aLieaOkuW6j+mAieaLqQ0KICAgICAqLwogICAgc29ydF9vcmRlcihvKSB7CiAgICAgIHRoaXMucXVlcnkub3JkZXJieSA9IG8udmFsdWU7CiAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICB9LAogICAgLyoqDQogICAgICrorqLljZXnirbmgIHnrZvpgIkNCiAgICAgKi8KICAgIHN0YXRlX2ZpbHRlcihvKSB7CiAgICAgIGlmIChvID09ICLlhajpg6giKSB7CiAgICAgICAgdGhpcy5xdWVyeS5zdGF0ZSA9ICIiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucXVlcnkuc3RhdGUgPSBvOwogICAgICB9CiAgICAgIHRoaXMuZ2V0X2xpc3QoKTsKICAgIH0sCiAgICAvKioNCiAgICAgKiDku47kvY7liLDpq5jmjpLluo8NCiAgICAgKi8KICAgIGNvbXBhcmVfYXNjKHByb3BlcnR5KSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHZhciB2YWx1ZTEgPSBhW3Byb3BlcnR5XTsKICAgICAgICB2YXIgdmFsdWUyID0gYltwcm9wZXJ0eV07CiAgICAgICAgcmV0dXJuIHZhbHVlMSAtIHZhbHVlMjsKICAgICAgfTsKICAgIH0sCiAgICAvKioNCiAgICAgKiDku47pq5jliLDkvY7mjpLluo8NCiAgICAgKi8KICAgIGNvbXBhcmVfZGVzYyhwcm9wZXJ0eSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICB2YXIgdmFsdWUxID0gYVtwcm9wZXJ0eV07CiAgICAgICAgdmFyIHZhbHVlMiA9IGJbcHJvcGVydHldOwogICAgICAgIHJldHVybiB2YWx1ZTIgLSB2YWx1ZTE7CiAgICAgIH07CiAgICB9LAogICAgLyoqDQogICAgICog6K6i5Y2V5LuO5L2O5Yiw6auY5o6S5bqPDQogICAgICovCiAgICBzb3J0X29yZGVyX2FzYygpIHsKICAgICAgdGhpcy5saXN0X2RpZmYuc29ydCh0aGlzLmNvbXBhcmVfYXNjKCJzdW1fcHJpY2UiKSk7CiAgICB9LAogICAgLyoqDQogICAgICog6K6i5Y2V5LuO6auY5Yiw5L2O5o6S5bqPDQogICAgICovCiAgICBzb3J0X29yZGVyX2Rlc2MoKSB7CiAgICAgIHRoaXMubGlzdF9kaWZmLnNvcnQodGhpcy5jb21wYXJlX2Rlc2MoInN1bV9wcmljZSIpKTsKICAgIH0sCiAgICAvKioNCiAgICAgKuiOt+WPluiuouWNleWJjQ0KICAgICBAcGFyYW0geyBPYmplY3QgfSBwYXJhbSDnlKjmiLd1c2VyX2lkDQogICAgICovCiAgICBnZXRfbGlzdF9iZWZvcmUocGFyYW0pIHsKICAgICAgcGFyYW0udXNlcl9pZCA9IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlcl9pZDsKICAgICAgcmV0dXJuIHBhcmFtOwogICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYXJyYXkubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgY29uc3QgZWxlbWVudCA9IGFycmF5W2luZGV4XTsKICAgICAgfQogICAgfSwKICAgIC8qKg0KICAgICAqIOiOt+iuouWNleWQjg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uIOWTjeW6lOWvueixoQ0KICAgICAqIEByZXR1cm4geyBPYmplY3QgfSDorqLljZXlr7nosaENCiAgICAgKi8KICAgIGdldF9saXN0X2FmdGVyKGpzb24pIHsKICAgICAgLy8g5qC55o2u6K6i5Y2V5Y+35Yy65YiG5YiX6KGoCiAgICAgIHZhciBsaXN0X2RpZmYgPSBbXTsKICAgICAgdmFyIG9yZGVyX251bSA9ICIiOwogICAgICB2YXIgaW5kZXggPSAtMTsKICAgICAganNvbi5yZXN1bHQubGlzdC5tYXAobyA9PiB7CiAgICAgICAgaWYgKG8ub3JkZXJfbnVtYmVyID09PSBvcmRlcl9udW0pIHsKICAgICAgICAgIGxpc3RfZGlmZltpbmRleF1bImxpc3QiXS5wdXNoKG8pOwogICAgICAgICAgbGlzdF9kaWZmW2luZGV4XVsic3VtX3ByaWNlIl0gKz0gby5wcmljZV9jb3VudDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaW5kZXggKz0gMTsKICAgICAgICAgIG9yZGVyX251bSA9IG8ub3JkZXJfbnVtYmVyOwogICAgICAgICAgbGlzdF9kaWZmW2luZGV4XSA9IHt9OwogICAgICAgICAgdmFyIG9ial9kaWZmID0gbGlzdF9kaWZmW2luZGV4XTsKICAgICAgICAgIG9ial9kaWZmWyJjcmVhdGVfdGltZSJdID0gby5jcmVhdGVfdGltZTsKICAgICAgICAgIG9ial9kaWZmWyJvcmRlcl9udW1iZXIiXSA9IG9yZGVyX251bTsKICAgICAgICAgIG9ial9kaWZmWyJsaXN0Il0gPSBbXTsKICAgICAgICAgIG9ial9kaWZmWyJsaXN0Il0ucHVzaChvKTsKICAgICAgICAgIG9ial9kaWZmWyJzdW1fcHJpY2UiXSA9IG8ucHJpY2VfY291bnQ7CiAgICAgICAgICBvYmpfZGlmZlsic3RhdGUiXSA9IG8uc3RhdGU7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5saXN0X2RpZmYgPSBsaXN0X2RpZmY7CiAgICAgIHJldHVybiBqc29uOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";AA0DA;AACA;AAEA;EACAA;EACAC;IACAC;EACA;EACAC;IACA;MACA;MACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;QACAC;MACA;MACAC;MACAC,YACA;QACAC;QACAC;MACA,GACA;QACAD;QACAC;MACA,EACA;MACAC,aACA,MACA,OACA;IAEA;EACA;EACAC;IACA;AACA;AACA;IACAC;MACA;MACA;IACA;IACA;AACA;AACA;IACAC;MACA;QACA;MACA;QACA;MACA;MACA;IACA;IACA;AACA;AACA;IACAC;MACA;QACA;QACA;QACA;MACA;IACA;IACA;AACA;AACA;IACAC;MACA;QACA;QACA;QACA;MACA;IACA;IACA;AACA;AACA;IACAC;MACA;IACA;IACA;AACA;AACA;IACAC;MACA;IACA;IACA;AACA;AACA;AACA;IACAC;MACAC;MACA;MACA;QACA;MACA;IACA;IACA;AACA;AACA;AACA;AACA;IACAC;MACA;MACA;MACA;MACA;MACAC;QACA;UACAlB;UACAA;QACA;UACAmB;UACAC;UACApB;UACA;UACAqB;UACAA;UACAA;UACAA;UACAA;UACAA;QACA;MACA;MACA;MACA;IACA;EACA;AACA","names":["mixins","components","list_order","data","oauth","signIn","user_group","url_get_list","list_diff","query","user_id","list_order_type","sort_list","name","value","state_list","methods","sort_order","state_filter","compare_asc","compare_desc","sort_order_asc","sort_order_desc","get_list_before","param","get_list_after","json","index","order_num","obj_diff"],"sourceRoot":"src/views/order","sources":["list.vue"],"sourcesContent":["<template>\r\n  <div class=\"page_order\" id=\"order_list\">\r\n    <div class=\"warp\" v-if=\"$check_action('/order/list', 'get')\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-10\">\r\n            <div class=\"card_goods_list\">\r\n              <h4>我的订单</h4>\r\n              <div class=\"filter_block\">\r\n                <!-- 排序 -->\r\n                <div\r\n                  class=\"bar_sort\"\r\n                  :class=\"{ active: query.orderby == '`price` desc' }\"\r\n                >\r\n                  <b-dropdown text=\"排序\" variant=\"outline-dark\" left>\r\n                    <b-dropdown-item @click=\"sort_order_desc()\">\r\n                      价格从高到低\r\n                    </b-dropdown-item>\r\n                    <b-dropdown-item @click=\"sort_order_asc()\">\r\n                      价格从低到高\r\n                    </b-dropdown-item>\r\n                    <b-dropdown-item\r\n                      v-for=\"(o, i) in sort_list\"\r\n                      :key=\"i\"\r\n                      @click=\"sort_order(o)\"\r\n                    >\r\n                      {{ o.name }}\r\n                    </b-dropdown-item>\r\n                  </b-dropdown>\r\n                </div>\r\n                <!-- /排序 -->\r\n                <!-- 订单状态筛选 -->\r\n                <div\r\n                  class=\"bar_sort\"\r\n                  :class=\"{ active: query.orderby == '`price` desc' }\"\r\n                >\r\n                  <b-dropdown text=\"订单状态\" variant=\"outline-dark\" left>\r\n                    <b-dropdown-item\r\n                      v-for=\"(o, i) in state_list\"\r\n                      :key=\"i\"\r\n                      @click=\"state_filter(o)\"\r\n                    >\r\n                      {{ o }}\r\n                    </b-dropdown-item>\r\n                  </b-dropdown>\r\n                </div>\r\n                <!-- /订单状态筛选 -->\r\n              </div>\r\n              <list_order :list=\"list_diff\"></list_order>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport list_order from \"@/components/diy/list_order.vue\";\r\nimport mixin from \"@/mixins/page.js\";\r\n\r\nexport default {\r\n  mixins: [mixin],\r\n  components: {\r\n    list_order,\r\n  },\r\n  data() {\r\n    return {\r\n      // 登录权限\r\n      oauth: {\r\n        signIn: true,\r\n        user_group: [],\r\n      },\r\n      url_get_list: \"~/api/order/get_list\",\r\n      list_diff: [],\r\n      query: {\r\n        user_id: this.$store.state.user.user_id,\r\n      },\r\n      list_order_type: [],\r\n      sort_list: [\r\n        {\r\n          name: \"更新时间从高到低\",\r\n          value: \"`create_time` desc\",\r\n        },\r\n        {\r\n          name: \"更新时间从低到高\",\r\n          value: \"`create_time` asc\",\r\n        },\r\n      ],\r\n      state_list: [\r\n        \"全部\",\r\n        \"待付款\",\r\n        \"已付款\",\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    /**\r\n     *下拉排序选择\r\n     */\r\n    sort_order(o) {\r\n      this.query.orderby = o.value;\r\n      this.search();\r\n    },\r\n    /**\r\n     *订单状态筛选\r\n     */\r\n    state_filter(o) {\r\n      if (o == \"全部\") {\r\n        this.query.state = \"\";\r\n      } else {\r\n        this.query.state = o;\r\n      }\r\n      this.get_list();\r\n    },\r\n    /**\r\n     * 从低到高排序\r\n     */\r\n    compare_asc(property) {\r\n      return function (a, b) {\r\n        var value1 = a[property];\r\n        var value2 = b[property];\r\n        return value1 - value2;\r\n      };\r\n    },\r\n    /**\r\n     * 从高到低排序\r\n     */\r\n    compare_desc(property) {\r\n      return function (a, b) {\r\n        var value1 = a[property];\r\n        var value2 = b[property];\r\n        return value2 - value1;\r\n      };\r\n    },\r\n    /**\r\n     * 订单从低到高排序\r\n     */\r\n    sort_order_asc() {\r\n      this.list_diff.sort(this.compare_asc(\"sum_price\"));\r\n    },\r\n    /**\r\n     * 订单从高到低排序\r\n     */\r\n    sort_order_desc() {\r\n      this.list_diff.sort(this.compare_desc(\"sum_price\"));\r\n    },\r\n    /**\r\n     *获取订单前\r\n     @param { Object } param 用户user_id\r\n     */\r\n    get_list_before(param) {\r\n      param.user_id = this.$store.state.user.user_id;\r\n      return param;\r\n      for (let index = 0; index < array.length; index++) {\r\n        const element = array[index];\r\n      }\r\n    },\r\n    /**\r\n     * 获订单后\r\n     * @param {Object} json 响应对象\r\n     * @return { Object } 订单对象\r\n     */\r\n    get_list_after(json) {\r\n      // 根据订单号区分列表\r\n      var list_diff = [];\r\n      var order_num = \"\";\r\n      var index = -1;\r\n      json.result.list.map((o) => {\r\n        if (o.order_number === order_num) {\r\n          list_diff[index][\"list\"].push(o);\r\n          list_diff[index][\"sum_price\"] += o.price_count;\r\n        } else {\r\n          index += 1;\r\n          order_num = o.order_number;\r\n          list_diff[index] = {};\r\n          var obj_diff = list_diff[index];\r\n          obj_diff[\"create_time\"] = o.create_time;\r\n          obj_diff[\"order_number\"] = order_num;\r\n          obj_diff[\"list\"] = [];\r\n          obj_diff[\"list\"].push(o);\r\n          obj_diff[\"sum_price\"] = o.price_count;\r\n          obj_diff[\"state\"] = o.state;\r\n        }\r\n      });\r\n      this.list_diff = list_diff;\r\n      return json;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.page_order {\r\n  background-color: #f8f8f8;\r\n  min-height: 100vh;\r\n}\r\n.filter_block {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: start;\r\n  margin-bottom: 10px;\r\n}\r\n.bar_filter {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\nli {\r\n  list-style: none;\r\n}\r\n.bar_sort {\r\n  margin-left: 5px;\r\n}\r\n</style>\r\n"]}]}