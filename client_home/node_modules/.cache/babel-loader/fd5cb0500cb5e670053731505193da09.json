{"remainingRequest":"C:\\Users\\胡运宽\\Desktop\\springboot-new\\client_home\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\胡运宽\\Desktop\\springboot-new\\client_home\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\胡运宽\\Desktop\\springboot-new\\client_home\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\胡运宽\\Desktop\\springboot-new\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\胡运宽\\Desktop\\springboot-new\\client_home\\src\\views\\food_information\\details.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\胡运宽\\Desktop\\springboot-new\\client_home\\src\\views\\food_information\\details.vue","mtime":1729939518327},{"path":"C:\\Users\\胡运宽\\Desktop\\springboot-new\\client_home\\babel.config.js","mtime":1677466920000},{"path":"C:\\Users\\胡运宽\\Desktop\\springboot-new\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\胡运宽\\Desktop\\springboot-new\\client_home\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\胡运宽\\Desktop\\springboot-new\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\胡运宽\\Desktop\\springboot-new\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\胡运宽\\Desktop\\springboot-new\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGRpdl9mb29kX2luZm9ybWF0aW9uIGZyb20gIkAvY29tcG9uZW50cy9kaXkvZGl2X2Zvb2RfaW5mb3JtYXRpb24udnVlIjsKaW1wb3J0IGxpc3RfY29tbWVudCBmcm9tICJAL2NvbXBvbmVudHMvZGl5L2xpc3RfY29tbWVudC52dWUiOwppbXBvcnQgYmFyX3RpdGxlIGZyb20gIkAvY29tcG9uZW50cy9kaXkvYmFyX3RpdGxlLnZ1ZSI7CmltcG9ydCBmb3JtX2VkaXRvciBmcm9tICJAL2NvbXBvbmVudHMvZGl5L2Zvcm1fZWRpdG9yLnZ1ZSI7CmltcG9ydCBtaXhpbiBmcm9tICJAL21peGlucy9wYWdlLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW21peGluXSwKICBjb21wb25lbnRzOiB7CiAgICBsaXN0X2NvbW1lbnQsCiAgICBiYXJfdGl0bGUsCiAgICBmb3JtX2VkaXRvciwKICAgIGRpdl9mb29kX2luZm9ybWF0aW9uCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXJsX2dldF9vYmo6ICJ+L2FwaS9mb29kX2luZm9ybWF0aW9uL2dldF9vYmo/IiwKICAgICAgZmllbGQ6ICJmb29kX2luZm9ybWF0aW9uX2lkIiwKICAgICAgb2JqOiB7CiAgICAgICAgcHJhaXNlX2xlbjogMCwKICAgICAgICBmb29kX25hbWU6ICJ6aGFuZyIsCiAgICAgICAgZm9vZF9jbGFzc2lmaWNhdGlvbjogIiIsCiAgICAgICAgY292ZXI6ICIiLAogICAgICAgIHRhYm9vOiAiIiwKICAgICAgICBlbmVyZ3k6ICIiLAogICAgICAgIGludGVuZGVkX2ZvcjogIiIsCiAgICAgICAgZm9vZF9pbnRyb2R1Y3Rpb246ICIiLAogICAgICAgIGZvb2RfaW5mb3JtYXRpb25faWQ6IDAKICAgICAgfSwKICAgICAgcXVlcnk6IHsKICAgICAgICBmb29kX25hbWU6ICIiLAogICAgICAgIGZvb2RfY2xhc3NpZmljYXRpb246ICIiLAogICAgICAgIGNvdmVyOiAiIiwKICAgICAgICB0YWJvbzogIiIsCiAgICAgICAgZW5lcmd5OiAiIiwKICAgICAgICBpbnRlbmRlZF9mb3I6ICIiLAogICAgICAgIGZvb2RfaW50cm9kdWN0aW9uOiAiIiwKICAgICAgICBmb29kX2luZm9ybWF0aW9uX2lkOiAwCiAgICAgIH0sCiAgICAgIC8vIOeCuei1ngogICAgICBwcmFpc2U6IDAsCiAgICAgIC8vIOeCuei1nueKtuaAgQogICAgICBzdGF0ZV9wcmFpc2U6IGZhbHNlLAogICAgICAvLyDmlLbol4/nirbmgIEKICAgICAgc3RhdGVfY29sbGVjdDogZmFsc2UsCiAgICAgIGxpc3RfY29tbWVudDogW10sCiAgICAgIGZvcm1fY29tbWVudDogewogICAgICAgIHNvdXJjZV90YWJsZTogImZvb2RfaW5mb3JtYXRpb24iLAogICAgICAgIHNvdXJjZV9maWVsZDogImZvb2RfaW5mb3JtYXRpb25faWQiLAogICAgICAgIHNvdXJjZV9pZDogMCwKICAgICAgICByZXBseV90b19pZDogMAogICAgICB9LAogICAgICBjb3VudF9wYWdlczogMSAvLyDpobXpnaLmlbAKICAgIH07CiAgfSwKCiAgbWV0aG9kczogewogICAgLyoqCiAgICAgKiDmt7vliqDorr/pl67ph48KICAgICAqLwogICAgYWRkX2hpdHMob2JqKSB7CiAgICAgIG9ialsiaGl0cyJdID0gb2JqWyJoaXRzIl0gKyAxOwogICAgICB2YXIgaGl0cyA9IG9ialsiaGl0cyJdOwogICAgICB0aGlzLiRwb3N0KCJ+L2FwaS9mb29kX2luZm9ybWF0aW9uL3NldD9mb29kX2luZm9ybWF0aW9uX2lkPSIgKyBvYmpbImZvb2RfaW5mb3JtYXRpb25faWQiXSwgewogICAgICAgIGhpdHMKICAgICAgfSwgcmVzID0+IHsKICAgICAgICBpZiAocmVzLnJlc3VsdCkgewogICAgICAgICAgY29uc29sZS5sb2coIua3u+WKoOiuv+mXrumHj+eKtuaAge+8miIsIHJlcy5yZXN1bHQpOwogICAgICAgICAgdmFyIGJvZHkgPSB7CiAgICAgICAgICAgIHNvdXJjZV90YWJsZTogImZvb2RfaW5mb3JtYXRpb24iLAogICAgICAgICAgICBzb3VyY2VfZmllbGQ6ICJmb29kX2luZm9ybWF0aW9uX2lkIiwKICAgICAgICAgICAgc291cmNlX2lkOiB0aGlzLm9iai5mb29kX2luZm9ybWF0aW9uX2lkLAogICAgICAgICAgICB1c2VyX2lkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJfaWQKICAgICAgICAgIH07CiAgICAgICAgICB0aGlzLiRwb3N0KCJ+L2FwaS9oaXRzL2FkZD8iLCBib2R5LCByZXMgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChyZXMuZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVzLmVycm9yKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldF9vYmpfYWZ0ZXIoanNvbikgewogICAgICAvLyDliKTmlq3mmK/lkKbojrflj5bliLDmlbDmja4KICAgICAgaWYgKGpzb24gJiYganNvbi5yZXN1bHQgJiYganNvbi5yZXN1bHQub2JqKSB7CiAgICAgICAgY29uc29sZS5sb2coanNvbi5yZXN1bHQub2JqKTsKICAgICAgICB2YXIgb2JqID0ganNvbi5yZXN1bHQub2JqOwogICAgICAgIHRoaXMub2JqID0gb2JqOwogICAgICAgIC8vIOWinuWKoOeCueWHu+aVsAogICAgICAgIHRoaXMuYWRkX2hpdHMob2JqKTsKICAgICAgICAvLyDojrflj5bngrnotZ7mlbAKICAgICAgICB0aGlzLmdldF9wcmFpc2Uob2JqKTsKICAgICAgICAvLyDliJ3lp4vljJbmlLbol4/nirbmgIEKICAgICAgICB0aGlzLmdldF9jb2xsZWN0KG9iaik7CiAgICAgICAgdGhpcy5nZXRfY29tbWVudChvYmopOwogICAgICAgIHRoaXMuZm9ybV9jb21tZW50LnNvdXJjZV9pZCA9IHRoaXMub2JqLmZvb2RfaW5mb3JtYXRpb25faWQ7CiAgICAgIH0KICAgIH0sCiAgICAvKioKICAgICAqIOWIneWni+WMluaUtuiXj+eKtuaAgQogICAgICogQHBhcmFtIHtPYmplY3R9IG9iagogICAgICovCiAgICBnZXRfY29sbGVjdChvYmopIHsKICAgICAgdmFyIHVzZXJfaWQgPSB0aGlzLnVzZXIudXNlcl9pZDsKICAgICAgdmFyIHF1ZXJ5ID0gewogICAgICAgIHNvdXJjZV90YWJsZTogImZvb2RfaW5mb3JtYXRpb24iLAogICAgICAgIHNvdXJjZV9maWVsZDogImZvb2RfaW5mb3JtYXRpb25faWQiLAogICAgICAgIHNvdXJjZV9pZDogb2JqWyJmb29kX2luZm9ybWF0aW9uX2lkIl0sCiAgICAgICAgdXNlcl9pZAogICAgICB9OwogICAgICB0aGlzLiRnZXQoIn4vYXBpL2NvbGxlY3QvY291bnQ/IiwgcXVlcnksIHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICBpZiAocmVzLnJlc3VsdCB8fCByZXMucmVzdWx0ID09PSAwKSB7CiAgICAgICAgICB2YXIgYmwgPSByZXMucmVzdWx0ID8gdHJ1ZSA6IGZhbHNlOwogICAgICAgICAgdGhpcy5zdGF0ZV9jb2xsZWN0ID0gYmw7CiAgICAgICAgICBjb25zb2xlLmxvZygi5pS26JeP54q25oCB77yaIiArIGJsKTsKICAgICAgICB9IGVsc2UgaWYgKHJlcy5lcnJvcikgewogICAgICAgICAgY29uc29sZS5lcnJvcihyZXMuZXJyb3IpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLyoqKioKICAgICAqIOWIhuS6q+eCueWHuwogICAgICoKICAgICAqICAqLwogICAgdG9TaGFyZShlKSB7CiAgICAgIHdpbmRvdy5vcGVuKGUpOwogICAgfSwKICAgIC8qKgogICAgICog5pS55Y+Y5pS26JeP54q25oCBCiAgICAgKi8KICAgIGNoYW5nZV9jb2xsZWN0KCkgewogICAgICB2YXIgdXNlcl9pZCA9IHRoaXMudXNlci51c2VyX2lkOwogICAgICB2YXIgcXVlcnkgPSB7CiAgICAgICAgc291cmNlX3RhYmxlOiAiZm9vZF9pbmZvcm1hdGlvbiIsCiAgICAgICAgc291cmNlX2ZpZWxkOiAiZm9vZF9pbmZvcm1hdGlvbl9pZCIsCiAgICAgICAgc291cmNlX2lkOiB0aGlzLm9ialsiZm9vZF9pbmZvcm1hdGlvbl9pZCJdLAogICAgICAgIHVzZXJfaWQKICAgICAgfTsKCiAgICAgIC8vIOaUtuiXj+eKtuaAgQogICAgICBpZiAodGhpcy5zdGF0ZV9jb2xsZWN0KSB7CiAgICAgICAgdGhpcy5zdGF0ZV9jb2xsZWN0ID0gZmFsc2U7CiAgICAgICAgdGhpcy4kZ2V0KCJ+L2FwaS9jb2xsZWN0L2RlbD8iLCBxdWVyeSwgcmVzID0+IHsKICAgICAgICAgIGlmIChyZXMucmVzdWx0KSB7CiAgICAgICAgICAgIHRoaXMuJHRvYXN0KCLlj5bmtojmlLbol48iKTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzLmVycm9yKSB7CiAgICAgICAgICAgIHRoaXMuJHRvYXN0KHJlcy5lcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXMuZXJyb3IpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc3RhdGVfY29sbGVjdCA9IHRydWU7CiAgICAgICAgcXVlcnkudGl0bGUgPSB0aGlzLm9iai5mb29kX25hbWU7CiAgICAgICAgLypbL2lmXSovCiAgICAgICAgcXVlcnkuaW1nID0gdGhpcy5vYmouY292ZXI7CiAgICAgICAgdGhpcy4kcG9zdCgifi9hcGkvY29sbGVjdC9hZGQ/IiwgcXVlcnksIHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLnJlc3VsdCkgewogICAgICAgICAgICB0aGlzLiR0b2FzdCgi5pS26JeP5oiQ5YqfIik7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5lcnJvcikgewogICAgICAgICAgICB0aGlzLiR0b2FzdChyZXMuZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVzLmVycm9yKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8qKgogICAgICog6I635Y+W54K56LWeCiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqCiAgICAgKi8KICAgIGdldF9wcmFpc2Uob2JqKSB7CiAgICAgIHZhciB1c2VyX2lkID0gdGhpcy51c2VyLnVzZXJfaWQ7CiAgICAgIHRoaXMuJGdldCgifi9hcGkvcHJhaXNlL2NvdW50PyIsIHsKICAgICAgICBzb3VyY2VfdGFibGU6ICJmb29kX2luZm9ybWF0aW9uIiwKICAgICAgICBzb3VyY2VfZmllbGQ6ICJmb29kX2luZm9ybWF0aW9uX2lkIiwKICAgICAgICBzb3VyY2VfaWQ6IG9ialsiZm9vZF9pbmZvcm1hdGlvbl9pZCJdCiAgICAgIH0sIHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5yZXN1bHQgfHwgcmVzLnJlc3VsdCA9PT0gMCkgewogICAgICAgICAgdGhpcy5wcmFpc2UgPSByZXMucmVzdWx0OwogICAgICAgICAgY29uc29sZS5sb2coIueCuei1nuaVsO+8miIsIHJlcy5yZXN1bHQpOwogICAgICAgIH0gZWxzZSBpZiAocmVzLmVycm9yKSB7CiAgICAgICAgICB0aGlzLiR0b2FzdChyZXMuZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICBjb25zb2xlLmVycm9yKHJlcy5lcnJvcik7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy4kZ2V0KCJ+L2FwaS9wcmFpc2UvY291bnQ/IiwgewogICAgICAgIHNvdXJjZV90YWJsZTogImZvb2RfaW5mb3JtYXRpb24iLAogICAgICAgIHNvdXJjZV9maWVsZDogImZvb2RfaW5mb3JtYXRpb25faWQiLAogICAgICAgIHNvdXJjZV9pZDogb2JqWyJmb29kX2luZm9ybWF0aW9uX2lkIl0sCiAgICAgICAgdXNlcl9pZAogICAgICB9LCByZXMgPT4gewogICAgICAgIGlmIChyZXMucmVzdWx0IHx8IHJlcy5yZXN1bHQgPT09IDApIHsKICAgICAgICAgIHRoaXMuc3RhdGVfcHJhaXNlID0gcmVzLnJlc3VsdCA/IHRydWUgOiBmYWxzZTsKICAgICAgICAgIGNvbnNvbGUubG9nKCLngrnotZ7nirbmgIHvvJoiLCByZXMucmVzdWx0KTsKICAgICAgICB9IGVsc2UgaWYgKHJlcy5lcnJvcikgewogICAgICAgICAgdGhpcy4kdG9hc3QocmVzLmVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgY29uc29sZS5lcnJvcihyZXMuZXJyb3IpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLyoqCiAgICAgKiDmlLnlj5jngrnotZ7mlbAKICAgICAqLwogICAgY2hhbmdlX3ByYWlzZShvYmopIHsKICAgICAgdmFyIHVzZXJfaWQgPSB0aGlzLnVzZXIudXNlcl9pZDsKICAgICAgdmFyIHF1ZXJ5ID0gewogICAgICAgIHNvdXJjZV90YWJsZTogImZvb2RfaW5mb3JtYXRpb24iLAogICAgICAgIHNvdXJjZV9maWVsZDogImZvb2RfaW5mb3JtYXRpb25faWQiLAogICAgICAgIHNvdXJjZV9pZDogdGhpcy5vYmpbImZvb2RfaW5mb3JtYXRpb25faWQiXSwKICAgICAgICB1c2VyX2lkCiAgICAgIH07CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIF90aGlzLm9iai5wcmFpc2VfbGVuID0gcGFyc2VJbnQoX3RoaXMub2JqLnByYWlzZV9sZW4pOwogICAgICAvLyDngrnotZ7nirbmgIEKICAgICAgaWYgKHRoaXMuc3RhdGVfcHJhaXNlKSB7CiAgICAgICAgdGhpcy5zdGF0ZV9wcmFpc2UgPSBmYWxzZTsKICAgICAgICB0aGlzLiRnZXQoIn4vYXBpL3ByYWlzZS9kZWw/IiwgcXVlcnksIHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLnJlc3VsdCkgewogICAgICAgICAgICB2YXIgcHJhaXNlX2xlbiA9IF90aGlzLm9iai5wcmFpc2VfbGVuIC0gMTsKICAgICAgICAgICAgdGhpcy4kcG9zdCgifi9hcGkvZm9vZF9pbmZvcm1hdGlvbi9zZXQ/Zm9vZF9pbmZvcm1hdGlvbl9pZD0iICsgX3RoaXMub2JqWyJmb29kX2luZm9ybWF0aW9uX2lkIl0sIHsKICAgICAgICAgICAgICBwcmFpc2VfbGVuCiAgICAgICAgICAgIH0sIHJlcyA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlcy5yZXN1bHQpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLmt7vliqDngrnotZ7mlbDnirbmgIHvvJoiLCByZXMucmVzdWx0KTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5lcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXMuZXJyb3IpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMuJHRvYXN0KCLlj5bmtojngrnotZ4iKTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzLmVycm9yKSB7CiAgICAgICAgICAgIHRoaXMuJHRvYXN0KHJlcy5lcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXMuZXJyb3IpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc3RhdGVfcHJhaXNlID0gdHJ1ZTsKICAgICAgICB0aGlzLiRwb3N0KCJ+L2FwaS9wcmFpc2UvYWRkPyIsIHF1ZXJ5LCByZXMgPT4gewogICAgICAgICAgaWYgKHJlcy5yZXN1bHQpIHsKICAgICAgICAgICAgdmFyIHByYWlzZV9sZW4gPSBfdGhpcy5vYmoucHJhaXNlX2xlbiArIDE7CiAgICAgICAgICAgIHRoaXMuJHBvc3QoIn4vYXBpL2Zvb2RfaW5mb3JtYXRpb24vc2V0P2Zvb2RfaW5mb3JtYXRpb25faWQ9IiArIF90aGlzLm9ialsiZm9vZF9pbmZvcm1hdGlvbl9pZCJdLCB7CiAgICAgICAgICAgICAgcHJhaXNlX2xlbgogICAgICAgICAgICB9LCByZXMgPT4gewogICAgICAgICAgICAgIGlmIChyZXMucmVzdWx0KSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5re75Yqg54K56LWe5pWw54q25oCB77yaIiwgcmVzLnJlc3VsdCk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXMuZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVzLmVycm9yKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLiR0b2FzdCgi54K56LWe5oiQ5YqfIik7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5lcnJvcikgewogICAgICAgICAgICB0aGlzLiR0b2FzdChyZXMuZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVzLmVycm9yKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8qKgogICAgICog5YiG6aG15ZmoCiAgICAgKiBAcGFyYW0geyBOdW1iZXIgfSBwYWdlX251bSDliIbpobXmlbAKICAgICAqIEByZXR1cm4geyBPYmplY3QgfSDmn6Xor6Llr7nosaEKICAgICAqLwogICAgbGlua19nZW4ocGFnZV9udW0pIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBxdWVyeTogdGhpcy5xdWVyeQogICAgICB9OwogICAgfSwKICAgIC8qKgogICAgICrliqDovb3kuIvkuIDpobUKICAgICAqLwogICAgY2hhbmdlX3BhZ2UocGFnZV9udW0pIHsKICAgICAgdGhpcy5nZXRfY29tbWVudCh0aGlzLm9iaiwgcGFnZV9udW0pOwogICAgICB0aGlzLmZvcm1fY29tbWVudC5yZXBseV90b19pZCA9IDA7CiAgICB9LAogICAgLyoqCiAgICAgKiDmm7TmlrDor4TorroKICAgICAqLwogICAgdXBkYXRlX2NvbW1lbnQoKSB7CiAgICAgIHRoaXMuZ2V0X2NvbW1lbnQodGhpcy5vYmopOwogICAgfSwKICAgIC8qKgogICAgICog6I635Y+W6K+E6K66CiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBvYmog5paH56ug5a+56LGhCiAgICAgKiBAcGFyYW0geyBOdW1iZXIgfSBwYWdlIOWIhumhteaVsAogICAgICogQHBhcmFtIHsgTnVtYmVyIH0gc2l6ZSDor4TorrrmmL7npLrmnaHmlbAKICAgICAqLwogICAgZ2V0X2NvbW1lbnQob2JqLCBwYWdlID0gMSwgc2l6ZSA9IDUpIHsKICAgICAgdGhpcy4kZ2V0KCJ+L2FwaS9jb21tZW50L2dldF9saXN0PyIsIHsKICAgICAgICBzb3VyY2VfdGFibGU6ICJmb29kX2luZm9ybWF0aW9uIiwKICAgICAgICBzb3VyY2VfZmllbGQ6ICJmb29kX2luZm9ybWF0aW9uX2lkIiwKICAgICAgICBzb3VyY2VfaWQ6IHRoaXMub2JqWyJmb29kX2luZm9ybWF0aW9uX2lkIl0sCiAgICAgICAgcGFnZSwKICAgICAgICBzaXplLAogICAgICAgIHJlcGx5X3RvX2lkOiAiMCIsCiAgICAgICAgb3JkZXJieTogImNyZWF0ZV90aW1lIGRlc2MiCiAgICAgIH0sIGpzb24gPT4gewogICAgICAgIGlmIChqc29uLnJlc3VsdCkgewogICAgICAgICAgdmFyIGxpc3RfY29tbWVudCA9IGpzb24ucmVzdWx0Lmxpc3Q7CiAgICAgICAgICBsaXN0X2NvbW1lbnQubWFwKG8gPT4gewogICAgICAgICAgICBvLmxpc3RfcmVwbHkgPSBbXTsKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5hZGRfcmVwbHkobGlzdF9jb21tZW50KS50aGVuKGxpc3QgPT4gewogICAgICAgICAgICB0aGlzLmxpc3RfY29tbWVudCA9IGxpc3Q7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuY291bnRfcGFnZXMgPSBNYXRoLmNlaWwoanNvbi5yZXN1bHQuY291bnQgLyBzaXplKSB8fCAxOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLyoqCiAgICAgKiBAcGFyYW0geyBBcnJheSB9IGxpc3Qg6K+E6K665YiX6KGoCiAgICAgKiDmt7vliqDlm57lpI3liLDor4TorrrliJfooagKICAgICAqLwogICAgYWRkX3JlcGx5KGxpc3QpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGxpc3QubGVuZ3RoOyBpZHgrKykgewogICAgICAgICAgY29uc3Qgb2JqID0gbGlzdFtpZHhdOwogICAgICAgICAgdGhpcy4kZ2V0KCJ+L2FwaS9jb21tZW50L2dldF9saXN0PyIsIHsKICAgICAgICAgICAgc291cmNlX3RhYmxlOiAiZm9vZF9pbmZvcm1hdGlvbiIsCiAgICAgICAgICAgIHNvdXJjZV9maWVsZDogImZvb2RfaW5mb3JtYXRpb25faWQiLAogICAgICAgICAgICBzb3VyY2VfaWQ6IHRoaXMub2JqWyJmb29kX2luZm9ybWF0aW9uX2lkIl0sCiAgICAgICAgICAgIG9yZGVyYnk6ICJjcmVhdGVfdGltZSBkZXNjIiwKICAgICAgICAgICAgcmVwbHlfdG9faWQ6IG9iai5jb21tZW50X2lkCiAgICAgICAgICB9LCByZXMgPT4gewogICAgICAgICAgICBpZiAocmVzLnJlc3VsdCkgewogICAgICAgICAgICAgIG9iai5saXN0X3JlcGx5ID0gcmVzLnJlc3VsdC5saXN0OwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgcmVzb2x2ZShsaXN0KTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgcmVzcG9uZGVudCgpIHsKICAgICAgdmFyIHJlcGx5X3RvX2lkID0gdGhpcy5mb3JtX2NvbW1lbnQucmVwbHlfdG9faWQ7CiAgICAgIHZhciByZXNwb25kZW50ID0gIiI7CiAgICAgIHRoaXMubGlzdF9jb21tZW50Lm1hcChvID0+IHsKICAgICAgICBpZiAoby5jb21tZW50X2lkID09PSByZXBseV90b19pZCkgewogICAgICAgICAgcmVzcG9uZGVudCA9IG8ubmlja25hbWU7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIHJlc3BvbmRlbnQ7CiAgICB9CiAgfSwKICBtb3VudGVkKCkge30KfTs="},{"version":3,"mappings":"AAoEA;AACA;AACA;AACA;AACA;AACA;EACAA;EACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MAEAC;MAEAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MAEAC;QACAR;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACA;MACAE;MACA;MACAC;MACA;MACAC;MACApB;MACAqB;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;IACA;EACA;;EACAC;IACA;AACA;AACA;IACAC;MACArB;MACA;MACA,WACA,oDACAA,4BACA;QACAsB;MACA,GACAC;QACA;UACAC;UACA;YACAT;YACAC;YACAC;YACAQ;UACA;UACA;YACAD;UACA;QACA;UACAA;QACA;MACA,EACA;IACA;IACAE;MACA;MACA;QACAF;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;IACA;IACA;AACA;AACA;AACA;IACAG;MACA;MAEA;QACAZ;QACAC;QACAC;QACAQ;MACA;MAEA;QACAD;QACA;UACA;UACA;UACAA;QACA;UACAA;QACA;MACA;IACA;IACA;AACA;AACA;AACA;IACAI;MACAC;IACA;IACA;AACA;AACA;IACAC;MACA;MAEA;QACAf;QACAC;QACAC;QACAQ;MACA;;MAEA;MACA;QACA;QACA;UACA;YACA;UACA;YACA;YACAD;UACA;QACA;MACA;QACA;QACAd;QACA;QACAA;QACA;UACA;YACA;UACA;YACA;YACAc;UACA;QACA;MACA;IACA;IACA;AACA;AACA;AACA;IACAO;MACA;MAEA,UACA,uBACA;QACAhB;QACAC;QACAC;MACA,GACAM;QACA;UACA;UACAC;QACA;UACA;UACAA;QACA;MACA,EACA;MAEA,UACA,uBACA;QACAT;QACAC;QACAC;QACAQ;MACA,GACAF;QACA;UACA;UACAC;QACA;UACA;UACAA;QACA;MACA,EACA;IACA;IAEA;AACA;AACA;IACAQ;MACA;MAEA;QACAjB;QACAC;QACAC;QACAQ;MACA;MAEA;MACAQ;MACA;MACA;QACA;QACA;UACA;YACA;YACA,WACA,oDACAA,kCACA;cACAhC;YACA,GACAsB;cACA;gBACAC;cACA;gBACAA;cACA;YACA,EACA;YACA;UACA;YACA;YACAA;UACA;QACA;MACA;QACA;QACA;UACA;YACA;YACA,WACA,oDACAS,kCACA;cACAhC;YACA,GACAsB;cACA;gBACAC;cACA;gBACAA;cACA;YACA,EACA;YACA;UACA;YACA;YACAA;UACA;QACA;MACA;IACA;IACA;AACA;AACA;AACA;AACA;IACAU;MACA;QACAxB;MACA;IACA;IACA;AACA;AACA;IACAyB;MACA;MACA;IACA;IACA;AACA;AACA;IACAC;MACA;IACA;IACA;AACA;AACA;AACA;AACA;AACA;IACAC;MACA,UACA,2BACA;QACAtB;QACAC;QACAC;QACAqB;QACAC;QACArB;QACAsB;MACA,GACAC;QACA;UACA;UACAhD;YACAiD;UACA;UACA;YACA;UACA;UACA;QACA;MACA,EACA;IACA;IACA;AACA;AACA;AACA;IACAC;MACA;QACA;UACA;UACA,UACA,2BACA;YACA5B;YACAC;YACAC;YACAuB;YACAtB;UACA,GACAK;YACA;cACAvB;YACA;UACA,EACA;QACA;QACA4C;MACA;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;QACA;UACAA;QACA;MACA;MACA;IACA;EACA;EAEAC;AACA","names":["mixins","components","list_comment","bar_title","form_editor","div_food_information","data","url_get_obj","field","obj","praise_len","food_name","food_classification","cover","taboo","energy","intended_for","food_introduction","food_information_id","query","praise","state_praise","state_collect","form_comment","source_table","source_field","source_id","reply_to_id","count_pages","methods","add_hits","hits","res","console","user_id","get_obj_after","get_collect","toShare","window","change_collect","get_praise","change_praise","_this","link_gen","change_page","update_comment","get_comment","page","size","orderby","json","o","add_reply","resolve","computed","respondent","mounted"],"sourceRoot":"src/views/food_information","sources":["details.vue"],"sourcesContent":["<template>\n  <div class=\"diy_details page_food_information\" id=\"food_information_details\">\n    <div class=\"warp\">\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col\">\n            <div class=\"card_food_information\">\n              <div_food_information :obj=\"obj\"></div_food_information>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 评论区 -->\n    <div class=\"warp\" v-if=\"$check_action('/comment/list', 'get')\">\n      <div class=\"container\">\n        <div class=\"row\">\n          <!-- 评论区 -->\n          <div class=\"col\">\n            <bar_title class=\"mt\" title=\"评论区\" v-if=\"list_comment.length\" />\n            <div class=\"comment_box\" v-if=\"list_comment.length\">\n              <list_comment\n                class=\"w-100\"\n                :list=\"list_comment\"\n                :obj=\"form_comment\"\n              />\n              <b-pagination-nav\n                :base-url=\"$route.path\"\n                :number-of-pages=\"count_pages\"\n                :link-gen=\"link_gen\"\n                @change=\"change_page\"\n                first-number\n                last-number\n              />\n            </div>\n\n            <!-- 发表评论 -->\n            <div class=\"form_editor form_edit_box\">\n              <div class=\"details_form_editor_title\">发表评论</div>\n              <div\n                class=\"fl ml-3 answer_title\"\n                v-show=\"form_comment.reply_to_id\"\n              >\n                对 <i>{{ respondent }}</i> 回复:\n              </div>\n              <div class=\"fr mr-3\" v-show=\"form_comment.reply_to_id\">\n                <b-button\n                  variant=\"outline-primary reset_answer_personnel\"\n                  size=\"sm\"\n                  @click=\"form_comment.reply_to_id = 0\"\n                  >重置回复人\n                </b-button>\n              </div>\n              <form_editor\n                class=\"fn\"\n                :form=\"form_comment\"\n                @update_comment=\"update_comment\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport div_food_information from \"@/components/diy/div_food_information.vue\";\nimport list_comment from \"@/components/diy/list_comment.vue\";\nimport bar_title from \"@/components/diy/bar_title.vue\";\nimport form_editor from \"@/components/diy/form_editor.vue\";\nimport mixin from \"@/mixins/page.js\";\nexport default {\n  mixins: [mixin],\n  components: {\n    list_comment,\n    bar_title,\n    form_editor,\n    div_food_information,\n  },\n  data() {\n    return {\n      url_get_obj: \"~/api/food_information/get_obj?\",\n\n      field: \"food_information_id\",\n\n      obj: {\n        praise_len: 0,\n        food_name: \"zhang\",\n        food_classification: \"\",\n        cover: \"\",\n        taboo: \"\",\n        energy: \"\",\n        intended_for: \"\",\n        food_introduction: \"\",\n        food_information_id: 0,\n      },\n\n      query: {\n        food_name: \"\",\n        food_classification: \"\",\n        cover: \"\",\n        taboo: \"\",\n        energy: \"\",\n        intended_for: \"\",\n        food_introduction: \"\",\n        food_information_id: 0,\n      },\n      // 点赞\n      praise: 0,\n      // 点赞状态\n      state_praise: false,\n      // 收藏状态\n      state_collect: false,\n      list_comment: [],\n      form_comment: {\n        source_table: \"food_information\",\n        source_field: \"food_information_id\",\n        source_id: 0,\n        reply_to_id: 0,\n      },\n      count_pages: 1, // 页面数\n    };\n  },\n  methods: {\n    /**\n     * 添加访问量\n     */\n    add_hits(obj) {\n      obj[\"hits\"] = obj[\"hits\"] + 1;\n      var hits = obj[\"hits\"];\n      this.$post(\n        \"~/api/food_information/set?food_information_id=\" +\n          obj[\"food_information_id\"],\n        {\n          hits,\n        },\n        (res) => {\n          if (res.result) {\n            console.log(\"添加访问量状态：\", res.result);\n            var body = {\n              source_table: \"food_information\",\n              source_field: \"food_information_id\",\n              source_id: this.obj.food_information_id,\n              user_id: this.$store.state.user.user_id,\n            };\n            this.$post(\"~/api/hits/add?\", body, (res) => {\n              console.log(res);\n            });\n          } else if (res.error) {\n            console.error(res.error);\n          }\n        }\n      );\n    },\n    get_obj_after(json) {\n      // 判断是否获取到数据\n      if (json && json.result && json.result.obj) {\n        console.log(json.result.obj);\n        var obj = json.result.obj;\n        this.obj = obj;\n        // 增加点击数\n        this.add_hits(obj);\n        // 获取点赞数\n        this.get_praise(obj);\n        // 初始化收藏状态\n        this.get_collect(obj);\n        this.get_comment(obj);\n        this.form_comment.source_id = this.obj.food_information_id;\n      }\n    },\n    /**\n     * 初始化收藏状态\n     * @param {Object} obj\n     */\n    get_collect(obj) {\n      var user_id = this.user.user_id;\n\n      var query = {\n        source_table: \"food_information\",\n        source_field: \"food_information_id\",\n        source_id: obj[\"food_information_id\"],\n        user_id,\n      };\n\n      this.$get(\"~/api/collect/count?\", query, (res) => {\n        console.log(res);\n        if (res.result || res.result === 0) {\n          var bl = res.result ? true : false;\n          this.state_collect = bl;\n          console.log(\"收藏状态：\" + bl);\n        } else if (res.error) {\n          console.error(res.error);\n        }\n      });\n    },\n    /****\n     * 分享点击\n     *\n     *  */\n    toShare(e) {\n      window.open(e);\n    },\n    /**\n     * 改变收藏状态\n     */\n    change_collect() {\n      var user_id = this.user.user_id;\n\n      var query = {\n        source_table: \"food_information\",\n        source_field: \"food_information_id\",\n        source_id: this.obj[\"food_information_id\"],\n        user_id,\n      };\n\n      // 收藏状态\n      if (this.state_collect) {\n        this.state_collect = false;\n        this.$get(\"~/api/collect/del?\", query, (res) => {\n          if (res.result) {\n            this.$toast(\"取消收藏\");\n          } else if (res.error) {\n            this.$toast(res.error.message);\n            console.error(res.error);\n          }\n        });\n      } else {\n        this.state_collect = true;\n        query.title = this.obj.food_name;\n        /*[/if]*/\n        query.img = this.obj.cover;\n        this.$post(\"~/api/collect/add?\", query, (res) => {\n          if (res.result) {\n            this.$toast(\"收藏成功\");\n          } else if (res.error) {\n            this.$toast(res.error.message);\n            console.error(res.error);\n          }\n        });\n      }\n    },\n    /**\n     * 获取点赞\n     * @param {Object} obj\n     */\n    get_praise(obj) {\n      var user_id = this.user.user_id;\n\n      this.$get(\n        \"~/api/praise/count?\",\n        {\n          source_table: \"food_information\",\n          source_field: \"food_information_id\",\n          source_id: obj[\"food_information_id\"],\n        },\n        (res) => {\n          if (res.result || res.result === 0) {\n            this.praise = res.result;\n            console.log(\"点赞数：\", res.result);\n          } else if (res.error) {\n            this.$toast(res.error.message);\n            console.error(res.error);\n          }\n        }\n      );\n\n      this.$get(\n        \"~/api/praise/count?\",\n        {\n          source_table: \"food_information\",\n          source_field: \"food_information_id\",\n          source_id: obj[\"food_information_id\"],\n          user_id,\n        },\n        (res) => {\n          if (res.result || res.result === 0) {\n            this.state_praise = res.result ? true : false;\n            console.log(\"点赞状态：\", res.result);\n          } else if (res.error) {\n            this.$toast(res.error.message);\n            console.error(res.error);\n          }\n        }\n      );\n    },\n\n    /**\n     * 改变点赞数\n     */\n    change_praise(obj) {\n      var user_id = this.user.user_id;\n\n      var query = {\n        source_table: \"food_information\",\n        source_field: \"food_information_id\",\n        source_id: this.obj[\"food_information_id\"],\n        user_id,\n      };\n\n      var _this = this;\n      _this.obj.praise_len = parseInt(_this.obj.praise_len);\n      // 点赞状态\n      if (this.state_praise) {\n        this.state_praise = false;\n        this.$get(\"~/api/praise/del?\", query, (res) => {\n          if (res.result) {\n            var praise_len = _this.obj.praise_len - 1;\n            this.$post(\n              \"~/api/food_information/set?food_information_id=\" +\n                _this.obj[\"food_information_id\"],\n              {\n                praise_len,\n              },\n              (res) => {\n                if (res.result) {\n                  console.log(\"添加点赞数状态：\", res.result);\n                } else if (res.error) {\n                  console.error(res.error);\n                }\n              }\n            );\n            this.$toast(\"取消点赞\");\n          } else if (res.error) {\n            this.$toast(res.error.message);\n            console.error(res.error);\n          }\n        });\n      } else {\n        this.state_praise = true;\n        this.$post(\"~/api/praise/add?\", query, (res) => {\n          if (res.result) {\n            var praise_len = _this.obj.praise_len + 1;\n            this.$post(\n              \"~/api/food_information/set?food_information_id=\" +\n                _this.obj[\"food_information_id\"],\n              {\n                praise_len,\n              },\n              (res) => {\n                if (res.result) {\n                  console.log(\"添加点赞数状态：\", res.result);\n                } else if (res.error) {\n                  console.error(res.error);\n                }\n              }\n            );\n            this.$toast(\"点赞成功\");\n          } else if (res.error) {\n            this.$toast(res.error.message);\n            console.error(res.error);\n          }\n        });\n      }\n    },\n    /**\n     * 分页器\n     * @param { Number } page_num 分页数\n     * @return { Object } 查询对象\n     */\n    link_gen(page_num) {\n      return {\n        query: this.query,\n      };\n    },\n    /**\n     *加载下一页\n     */\n    change_page(page_num) {\n      this.get_comment(this.obj, page_num);\n      this.form_comment.reply_to_id = 0;\n    },\n    /**\n     * 更新评论\n     */\n    update_comment() {\n      this.get_comment(this.obj);\n    },\n    /**\n     * 获取评论\n     * @param { Object } obj 文章对象\n     * @param { Number } page 分页数\n     * @param { Number } size 评论显示条数\n     */\n    get_comment(obj, page = 1, size = 5) {\n      this.$get(\n        \"~/api/comment/get_list?\",\n        {\n          source_table: \"food_information\",\n          source_field: \"food_information_id\",\n          source_id: this.obj[\"food_information_id\"],\n          page,\n          size,\n          reply_to_id: \"0\",\n          orderby: \"create_time desc\",\n        },\n        (json) => {\n          if (json.result) {\n            var list_comment = json.result.list;\n            list_comment.map((o) => {\n              o.list_reply = [];\n            });\n            this.add_reply(list_comment).then((list) => {\n              this.list_comment = list;\n            });\n            this.count_pages = Math.ceil(json.result.count / size) || 1;\n          }\n        }\n      );\n    },\n    /**\n     * @param { Array } list 评论列表\n     * 添加回复到评论列表\n     */\n    add_reply(list) {\n      return new Promise((resolve) => {\n        for (let idx = 0; idx < list.length; idx++) {\n          const obj = list[idx];\n          this.$get(\n            \"~/api/comment/get_list?\",\n            {\n              source_table: \"food_information\",\n              source_field: \"food_information_id\",\n              source_id: this.obj[\"food_information_id\"],\n              orderby: \"create_time desc\",\n              reply_to_id: obj.comment_id,\n            },\n            (res) => {\n              if (res.result) {\n                obj.list_reply = res.result.list;\n              }\n            }\n          );\n        }\n        resolve(list);\n      });\n    },\n  },\n  computed: {\n    respondent() {\n      var reply_to_id = this.form_comment.reply_to_id;\n      var respondent = \"\";\n      this.list_comment.map((o) => {\n        if (o.comment_id === reply_to_id) {\n          respondent = o.nickname;\n        }\n      });\n      return respondent;\n    },\n  },\n\n  mounted() {},\n};\n</script>\n\n<style>\n.qecode {\n  display: flex;\n  align-content: center;\n  width: 270px;\n  background: white;\n  position: absolute;\n  left: 20%;\n  top: 20px;\n  z-index: 999;\n}\n.qecodeImg {\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  text-align: center;\n  padding-top: 10px;\n  margin: 0 auto;\n}\n.btn_share {\n  display: inline-block;\n  position: relative;\n  top: 15px;\n  background: rgb(240, 238, 238);\n  border: 1px solid #ccc;\n  height: 38px;\n  margin-left: 10px;\n  padding: 3px 10px;\n  cursor: pointer;\n  overflow: hidden;\n  border-radius: 5px;\n}\n.btn_share_icon {\n  width: 30px;\n  height: 28px;\n  float: left;\n  margin-right: 10px;\n}\n.share_box {\n  display: none;\n  float: left;\n}\n.share_box img {\n  width: 30px;\n  height: 28px;\n  margin-right: 10px;\n}\n.btn_share:hover .share_box {\n  display: block;\n}\n</style>\n"]}]}