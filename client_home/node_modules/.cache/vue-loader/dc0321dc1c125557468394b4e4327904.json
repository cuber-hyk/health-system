{"remainingRequest":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\views\\user\\password.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\views\\user\\password.vue","mtime":1657768166000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CglpbXBvcnQgbWl4aW4gZnJvbSAiQC9taXhpbnMvcGFnZS5qcyI7CglpbXBvcnQgbGlzdF9tZW51X3VzZXIgZnJvbSAiQC9jb21wb25lbnRzL2RpeS9saXN0X21lbnVfdXNlci52dWUiOwoKCWV4cG9ydCBkZWZhdWx0IHsKCQltaXhpbnM6IFttaXhpbl0sCgoJCWRhdGEoKSB7CgkJCXJldHVybiB7CgkJCQlmb3JtOiB7CgkJCQkJb19wYXNzd29yZDogIiIsCgkJCQkJcGFzc3dvcmQ6ICIiLAoJCQkJfSwKCgkJCQljb25maXJtX3Bhc3N3b3JkOiAiIiwKCgkJCQlsaXN0X2luZm86IFt7CgkJCQkJCXRpdGxlOiAi5Liq5Lq66LWE5paZIiwKCQkJCQkJdXJsOiAiL3VzZXIvaW5mbyIsCgkJCQkJCWljb246ICJob3VzZS1maWxsIiwKCQkJCQkJc2VsZWN0ZWQ6IGZhbHNlLAoJCQkJCX0sCgkJCQkJewoJCQkJCQl0aXRsZTogIuWvhueggeS/ruaUuSIsCgkJCQkJCXVybDogIi91c2VyL3Bhc3N3b3JkIiwKCQkJCQkJaWNvbjogInBlcnNvbi1maWxsIiwKCQkJCQkJc2VsZWN0ZWQ6IHRydWUsCgkJCQkJfSwKCQkJCQl7CgkJCQkJCXRpdGxlOiAi5pS26LSn5Zyw5Z2AIiwKCQkJCQkJdXJsOiAiL3VzZXIvYWRkcmVzcyIsCgkJCQkJCWljb246ICJtYXAtZmlsbCIsCgkJCQkJCXNlbGVjdGVkOiBmYWxzZSwKCQkJCQl9LAoJCQkJCXsKCQkJCQkJdGl0bGU6ICLmlLbol48iLAoJCQkJCQl1cmw6ICIvdXNlci9jb2xsZWN0IiwKCQkJCQkJaWNvbjogImhlYXJ0LWZpbGwiLAoJCQkJCQlzZWxlY3RlZDogZmFsc2UsCgkJCQkJfSwKCQkJCQl7CgkJCQkJCXRpdGxlOiAi6K6i5Y2VIiwKCQkJCQkJdXJsOiAiL29yZGVyL2xpc3QiLAoJCQkJCQlpY29uOiAiZmlsZS1lYXJtYXJrLW1pbnVzLWZpbGwiLAoJCQkJCQlzZWxlY3RlZDogZmFsc2UsCgkJCQkJfSwKCQkJCQl7CgkJCQkJCXRpdGxlOiAi6LSt54mp6L2mIiwKCQkJCQkJdXJsOiAiL2NhcnQvbGlzdCIsCgkJCQkJCWljb246ICJjYXJ0LWZpbGwiLAoJCQkJCQlzZWxlY3RlZDogZmFsc2UsCgkJCQkJfSwKCQkJCV0sCgkJCX07CgkJfSwKCQljb21wdXRlZDogewoJCQkvKioKCQkJICog6aqM6K+B5Y6f5aeL5a+G56CBCgkJCSAqLwoJCQl2YWxpZGF0aW9uX29fcGFzc3dvcmQoKSB7CgkJCQl2YXIgbGVuZ3RoID0gdGhpcy5mb3JtLnBhc3N3b3JkLmxlbmd0aDsKCQkJCWlmICghbGVuZ3RoKSB7CgkJCQkJcmV0dXJuIG51bGw7CgkJCQl9CgkJCQlyZXR1cm4gbGVuZ3RoID4gNCAmJiBsZW5ndGggPCAxNzsKCQkJfSwKCQkJLyoqCgkJCSAqIOmqjOivgeWvhueggQoJCQkgKi8KCQkJdmFsaWRhdGlvbl9wYXNzd29yZCgpIHsKCQkJCXZhciBsZW5ndGggPSB0aGlzLmZvcm0ucGFzc3dvcmQubGVuZ3RoOwoJCQkJaWYgKCFsZW5ndGgpIHsKCQkJCQlyZXR1cm4gbnVsbDsKCQkJCX0KCQkJCXJldHVybiBsZW5ndGggPiA0ICYmIGxlbmd0aCA8IDE3OwoJCQl9LAoJCQkvKioKCQkJICog5YaN5qyh6aqM6K+B5a+G56CBCgkJCSAqLwoJCQl2YWxpZGF0aW9uX2NvbmZpcm1fcGFzc3dvcmQoKSB7CgkJCQlyZXR1cm4gdGhpcy5jb25maXJtX3Bhc3N3b3JkID09PSB0aGlzLmZvcm0ucGFzc3dvcmQ7CgkJCX0sCgkJfSwKCQltZXRob2RzOiB7CgkJCS8qKgoJCQkgKiDkv67mlLnlr4bnoIEKCQkJICovCgkJCWNoYW5nZV9wYXNzd29yZCgpIHsKCQkJCXZhciBmb3JtID0gT2JqZWN0LmFzc2lnbih7fSx0aGlzLmZvcm0pOwoKCQkJCWlmKHRoaXMuZm9ybS5wYXNzd29yZCA9PT0gdGhpcy5jb25maXJtX3Bhc3N3b3JkICYmIHRoaXMuZm9ybS5vX3Bhc3N3b3JkKXsKCQkJCQl0aGlzLiRwb3N0KCJ+L2FwaS91c2VyL2NoYW5nZV9wYXNzd29yZD8iLCBmb3JtLCAocmVzKSA9PiB7CgkJCQkJCWlmIChyZXMucmVzdWx0KSB7CgkJCQkJCQkvL+W8ueWHuuabtOaUueaIkOWKn++8jDPnp5LlkI7osIPliLDkuLvpobXvvIzpgIDlh7rotKbmiLcKCQkJCQkJCXRoaXMuJHN0b3JlLmNvbW1pdCgic2lnbl9vdXQiKTsKCQkJCQkJCXRoaXMuJHJvdXRlci5wdXNoKCIvYWNjb3VudC9sb2dpbiIpCgkJCQkJCX0gZWxzZSBpZiAocmVzLmVycm9yKSB7CgkJCQkJCQljb25zb2xlLmxvZyhyZXMuZXJyb3IpOwoJCQkJCQkJYWxlcnQocmVzLmVycm9yLm1lc3NhZ2UpOwoJCQkJCQl9CgkJCQkJfSk7CgkJCQl9CgkJCX0sCgkJfSwKCQljb21wb25lbnRzOiB7CgkJCWxpc3RfbWVudV91c2VyLAoJCX0sCgkJbW91bnRlZCgpIHsKCQkJLy8gY29uc29sZS5sb2codGhpcy51c2VyKTsKCQl9LAoJfTsK"},{"version":3,"sources":["password.vue"],"names":[],"mappings":";AA6CA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"password.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\n\t<div class=\"page_user\" id=\"user_password\">\n\t\t<div class=\"warp\">\n\t\t\t<div class=\"container\">\n\t\t\t\t<div class=\"row justify-content-between\">\n\t\t\t\t\t<div class=\"col-12 col-md-3\">\n\t\t\t\t\t\t<div class=\"card_menu\">\n\t\t\t\t\t\t\t<!-- 左侧边栏 -->\n\t\t\t\t\t\t\t<list_menu_user :list_info=\"list_info\"></list_menu_user>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col-12 col-md-9\">\n\t\t\t\t\t\t<div class=\"card_password pl-2\">\n\t\t\t\t\t\t\t<div>密码修改</div>\n\t\t\t\t\t\t\t<!-- 密码修改 -->\n\t\t\t\t\t\t\t<b-form>\n\t\t\t\t\t\t\t\t<b-form-group id=\"input-group-2\" label=\"输入原始密码:\" label-for=\"input-2\"\n\t\t\t\t\t\t\t\t\t:state=\"validation_o_password\" invalid-feedback=\"密码长度为在5-16个字符\"\n\t\t\t\t\t\t\t\t\tvalid-feedback=\"校验通过\">\n\t\t\t\t\t\t\t\t\t<b-form-input id=\"input-2\" v-model=\"form.o_password\" type=\"password\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"原始密码\" trim></b-form-input>\n\t\t\t\t\t\t\t\t</b-form-group>\n\t\t\t\t\t\t\t\t<b-form-group id=\"input-group-2\" label=\"设置新密码:\" label-for=\"input-2\"\n\t\t\t\t\t\t\t\t\t:state=\"validation_password\" invalid-feedback=\"密码长度为在5-16个字符\" valid-feedback=\"校验通过\">\n\t\t\t\t\t\t\t\t\t<b-form-input id=\"input-2\" v-model=\"form.password\" type=\"password\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"设置新密码\" trim></b-form-input>\n\t\t\t\t\t\t\t\t</b-form-group>\n\t\t\t\t\t\t\t\t<b-form-group id=\"input-group-2\" label=\"确认密码:\" label-for=\"input-2\"\n\t\t\t\t\t\t\t\t\t:state=\"validation_confirm_password\" invalid-feedback=\"密码不一致\" valid-feedback=\"\">\n\t\t\t\t\t\t\t\t\t<b-form-input id=\"input-2\" v-model=\"confirm_password\" type=\"password\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"确认密码\" trim></b-form-input>\n\t\t\t\t\t\t\t\t</b-form-group>\n\t\t\t\t\t\t\t</b-form>\n\t\t\t\t\t\t\t<div class=\"password_confim\">\n\t\t\t\t\t\t\t\t<div class=\"btn_item\" @click=\"change_password()\">确认修改</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\timport mixin from \"@/mixins/page.js\";\n\timport list_menu_user from \"@/components/diy/list_menu_user.vue\";\n\n\texport default {\n\t\tmixins: [mixin],\n\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tform: {\n\t\t\t\t\to_password: \"\",\n\t\t\t\t\tpassword: \"\",\n\t\t\t\t},\n\n\t\t\t\tconfirm_password: \"\",\n\n\t\t\t\tlist_info: [{\n\t\t\t\t\t\ttitle: \"个人资料\",\n\t\t\t\t\t\turl: \"/user/info\",\n\t\t\t\t\t\ticon: \"house-fill\",\n\t\t\t\t\t\tselected: false,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: \"密码修改\",\n\t\t\t\t\t\turl: \"/user/password\",\n\t\t\t\t\t\ticon: \"person-fill\",\n\t\t\t\t\t\tselected: true,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: \"收货地址\",\n\t\t\t\t\t\turl: \"/user/address\",\n\t\t\t\t\t\ticon: \"map-fill\",\n\t\t\t\t\t\tselected: false,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: \"收藏\",\n\t\t\t\t\t\turl: \"/user/collect\",\n\t\t\t\t\t\ticon: \"heart-fill\",\n\t\t\t\t\t\tselected: false,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: \"订单\",\n\t\t\t\t\t\turl: \"/order/list\",\n\t\t\t\t\t\ticon: \"file-earmark-minus-fill\",\n\t\t\t\t\t\tselected: false,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: \"购物车\",\n\t\t\t\t\t\turl: \"/cart/list\",\n\t\t\t\t\t\ticon: \"cart-fill\",\n\t\t\t\t\t\tselected: false,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t};\n\t\t},\n\t\tcomputed: {\n\t\t\t/**\n\t\t\t * 验证原始密码\n\t\t\t */\n\t\t\tvalidation_o_password() {\n\t\t\t\tvar length = this.form.password.length;\n\t\t\t\tif (!length) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn length > 4 && length < 17;\n\t\t\t},\n\t\t\t/**\n\t\t\t * 验证密码\n\t\t\t */\n\t\t\tvalidation_password() {\n\t\t\t\tvar length = this.form.password.length;\n\t\t\t\tif (!length) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn length > 4 && length < 17;\n\t\t\t},\n\t\t\t/**\n\t\t\t * 再次验证密码\n\t\t\t */\n\t\t\tvalidation_confirm_password() {\n\t\t\t\treturn this.confirm_password === this.form.password;\n\t\t\t},\n\t\t},\n\t\tmethods: {\n\t\t\t/**\n\t\t\t * 修改密码\n\t\t\t */\n\t\t\tchange_password() {\n\t\t\t\tvar form = Object.assign({},this.form);\n\n\t\t\t\tif(this.form.password === this.confirm_password && this.form.o_password){\n\t\t\t\t\tthis.$post(\"~/api/user/change_password?\", form, (res) => {\n\t\t\t\t\t\tif (res.result) {\n\t\t\t\t\t\t\t//弹出更改成功，3秒后调到主页，退出账户\n\t\t\t\t\t\t\tthis.$store.commit(\"sign_out\");\n\t\t\t\t\t\t\tthis.$router.push(\"/account/login\")\n\t\t\t\t\t\t} else if (res.error) {\n\t\t\t\t\t\t\tconsole.log(res.error);\n\t\t\t\t\t\t\talert(res.error.message);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tcomponents: {\n\t\t\tlist_menu_user,\n\t\t},\n\t\tmounted() {\n\t\t\t// console.log(this.user);\n\t\t},\n\t};\n</script>\n\n<style scoped>\n\t.container {\n\t\tmin-height: 800px;\n\t}\n\n\t.btn_item {\n\t\tcursor: pointer;\n\t\twidth: 100%;\n\t\tbackground-color: var(--color_primary);\n\t\tcolor: #fff;\n\t\ttext-align: center;\n\t\theight: 48px;\n\t\tline-height: 48px;\n\t}\n\n\t.card_password {\n\t\tpadding: 10px;\n\t\twidth: 500px;\n\t\tmargin: auto;\n\t}\n</style>\n"]}]}