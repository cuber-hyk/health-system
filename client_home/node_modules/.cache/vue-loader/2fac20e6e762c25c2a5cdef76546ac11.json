{"remainingRequest":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\views\\search\\details.vue?vue&type=style&index=0&id=4a3b9bf5&scoped=true&lang=css&","dependencies":[{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\views\\search\\details.vue","mtime":1657768166000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5jYXJkX3NlYXJjaCB7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9Ci5jYXJkX3Jlc3VsdF9zZWFyY2ggPiAudGl0bGUgewogIHRleHQtYWxpZ246IGNlbnRlcjsKICBwYWRkaW5nOiAxMHB4IDA7Cn0KLnBhZ2VyIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwp9Ci5zZWFyY2hfYm94IHsKICBkaXNwbGF5OiBmbGV4OwogIG1hcmdpbi1ib3R0b206IDFyZW07Cn0K"},{"version":3,"sources":["details.vue"],"names":[],"mappings":";AAyHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"details.vue","sourceRoot":"src/views/search","sourcesContent":["<template>\n  <div class=\"page_search\">\n    <div class=\"warp\">\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-12\">\n            <div class=\"card_result_search\">\n              <div class=\"title\">搜索结果</div>\n\n              <!-- 搜索栏 -->\n              <div class=\"search_box\">\n                <b-form-input\n                  size=\"sm\"\n                  class=\"mr-sm-2\"\n                  :placeholder=\"'继续搜索'+query.search_title\"\n                  v-model.trim=\"search_val\"\n                  @keyup.enter=\"submit_search\"\n                ></b-form-input>\n                <b-button size=\"sm\" @click=\"submit_search\"\n                  ><b-icon icon=\"search\"></b-icon\n                ></b-button>\n              </div>\n              <list_result_search\n                :list=\"list_result\"\n                :title=\"this.query.source_title\"\n                :source_table=\"this.query.search_type\"\n              ></list_result_search>\n              <div class=\"pager\">\n                <b-pagination\n                  v-model=\"page_result\"\n                  :total-rows=\"count\"\n                  :per-page=\"size\"\n                  @change=\"jumpTo\"\n                ></b-pagination>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport mixin from \"@/mixins/page.js\";\nimport list_result_search from \"@/components/diy/list_result_search.vue\";\n\nexport default {\n  mixins: [mixin],\n  data() {\n    return {\n      query: {\n        word: \"\",\n        search_key: \"\",\n        search_type: \"\",\n        search_title: \"\",\n      },\n      search_val: \"\",\n      list_result: [],\n      page_result: 1,\n      size: 10,\n      count: 0,\n    };\n  },\n  methods: {\n    /**\n     *  获得结果\n     * */\n    get_result(page_result = 1) {\n      if (word == \"\") {\n        return;\n      }\n      var params = {};\n      var { word, search_key, search_type } = this.query;\n      params[search_key] = word;\n      params.page = page_result;\n      params.size = this.size;\n      this.$get(\"~/api/\" + search_type + \"/get_list?like=0\", params, (res) => {\n        if (res.result) {\n          var list_result = res.result.list || [];\n          list_result.map((o) => {\n            var title = o[search_key];\n            o.title =title;\n          });\n          this.list_result = list_result\n          this.count = res.result.count;\n        }\n      });\n    },\n    /**\n     *  跳转\n     * */\n    jumpTo(page_result) {\n      this.get_result(page_result);\n    },\n\n    /**\n     *  搜索\n     * */\n    submit_search() {\n      this.query.word = this.search_val\n      this.get_result();\n    },\n    /**\n     *  获取地址栏参数\n     * */\n    getQueryParams(){\n      for (const key in this.query) {\n        this.query[key] = this.$route.query[key]\n      }\n    }\n  },\n  components: { list_result_search },\n  mounted() {\n    this.getQueryParams();\n    this.get_result();\n  },\n};\n</script>\n\n<style scoped>\n.card_search {\n  text-align: center;\n}\n.card_result_search > .title {\n  text-align: center;\n  padding: 10px 0;\n}\n.pager {\n  display: flex;\n  justify-content: center;\n}\n.search_box {\n  display: flex;\n  margin-bottom: 1rem;\n}\n</style>\n"]}]}