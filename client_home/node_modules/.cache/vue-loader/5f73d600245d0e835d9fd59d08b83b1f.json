{"remainingRequest":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\views\\goods\\details.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\views\\goods\\details.vue","mtime":1657768166000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICBpbXBvcnQgbWl4aW4gZnJvbSAiQC9taXhpbnMvcGFnZS5qcyI7CiAgICBpbXBvcnQgbGlzdF9nb29kc19ob3QgZnJvbSAiQC9jb21wb25lbnRzL2RpeS9saXN0X2dvb2RzX2hvdC52dWUiOwogICAgaW1wb3J0IGxpc3RfY29tbWVudCBmcm9tICJAL2NvbXBvbmVudHMvZGl5L2xpc3RfY29tbWVudC52dWUiOwogICAgaW1wb3J0IGRpdl9nb29kcyBmcm9tICJAL2NvbXBvbmVudHMvZGl5L2Rpdl9nb29kcy52dWUiOwogICAgaW1wb3J0IGZvcm1fZWRpdG9yIGZyb20gIkAvY29tcG9uZW50cy9kaXkvZm9ybV9lZGl0b3IudnVlIjsKCiAgICBleHBvcnQgZGVmYXVsdCB7CiAgICAgICAgbWl4aW5zOiBbbWl4aW5dLAogICAgICAgIGNvbXBvbmVudHM6IHsKICAgICAgICAgICAgbGlzdF9jb21tZW50LAogICAgICAgICAgICBsaXN0X2dvb2RzX2hvdCwKICAgICAgICAgICAgZGl2X2dvb2RzLAogICAgICAgICAgICBmb3JtX2VkaXRvciwKICAgICAgICB9LAogICAgICAgIGRhdGEoKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICB1cmxfZ2V0X29iajogIn4vYXBpL2dvb2RzL2dldF9vYmo/IiwKICAgICAgICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgICAgICAgICAgZ29vZHNfaWQ6IDAsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbGlzdF9jb21tZW50OiBbXSwKICAgICAgICAgICAgICAgIGxpc3RfaG90OiBbXSwKICAgICAgICAgICAgICAgIHNlbGVjdGVkX2luZGV4OiAyLAogICAgICAgICAgICAgICAgZm9ybV9jb21tZW50OiB7CiAgICAgICAgICAgICAgICAgICAgc291cmNlX3RhYmxlOiAiZ29vZHMiLAogICAgICAgICAgICAgICAgICAgIHNvdXJjZV9maWVsZDogImdvb2RzX2lkIiwKICAgICAgICAgICAgICAgICAgICBzb3VyY2VfaWQ6IDAsCiAgICAgICAgICAgICAgICAgICAgcmVwbHlfdG9faWQ6IDAsCiAgICAgICAgICAgICAgICAgICAgY29udGVudDonJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIC8vIOmhtemdouaVsAogICAgICAgICAgICAgICAgY291bnRfcGFnZXM6IDEsCiAgICAgICAgICAgICAgICAvLyDmmK/lkKborr7nva7ov4cKICAgICAgICAgICAgICAgIC8vIHNldGVkX2NvdW50X3BhZ2VzOiB0cnVlLAogICAgICAgICAgICAgICAgb2JqOiB7CiAgICAgICAgICAgICAgICAgICAgZ29vZHNfaWQ6IDAsCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICIiLAogICAgICAgICAgICAgICAgICAgIGltZzogIiIsCiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICIiLAogICAgICAgICAgICAgICAgICAgIHByaWNlX2FnbzogMCwKICAgICAgICAgICAgICAgICAgICBwcmljZTogMCwKICAgICAgICAgICAgICAgICAgICBzYWxlczogMCwKICAgICAgICAgICAgICAgICAgICBpbnZlbnRvcnk6IDAsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogIiIsCiAgICAgICAgICAgICAgICAgICAgaGl0czogMCwKICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnJywKICAgICAgICAgICAgICAgICAgICBjcmVhdGVfdGltZTogIjIwMjEtMDItMjAgMjA6NDg6MDciLAogICAgICAgICAgICAgICAgICAgIHVwZGF0ZV90aW1lOiAiMjAyMS0wMy0zMCAxNzo0ODowNyIsCiAgICAgICAgICAgICAgICAgICAgaW1nXzE6ICIiLAogICAgICAgICAgICAgICAgICAgIGltZ18yOiAiIiwKICAgICAgICAgICAgICAgICAgICBpbWdfMzogIiIsCiAgICAgICAgICAgICAgICAgICAgaW1nXzQ6ICIiLAogICAgICAgICAgICAgICAgICAgIGltZ181OiAiIiwKICAgICAgICAgICAgICAgICAgICBzb3VyY2VfdGFibGU6ICIiLAogICAgICAgICAgICAgICAgICAgIHNvdXJjZV9maWVsZDogIiIsCiAgICAgICAgICAgICAgICAgICAgc291cmNlX2lkOiAwLAogICAgICAgICAgICAgICAgICAgIG51bV9idXk6IDEsCiAgICAgICAgICAgICAgICAgICAgY3VzdG9taXplX2ZpZWxkOiIiLAogICAgICAgICAgICAgICAgICAgIHVzZXJfaWQ6MAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHB1Ymxpc2hfZmxhZzpmYWxzZQogICAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgbWV0aG9kczogewogICAgICAgICAgICAvKioKICAgICAgICAgICAgICog6I635Y+W6K+E6K665ZCOCiAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uIOWTjeW6lOWvueixoQogICAgICAgICAgICAgKi8KICAgICAgICAgICAgZ2V0X29ial9hZnRlcihqc29uKSB7CiAgICAgICAgICAgICAgICB2YXIgb2JqID0ganNvbi5yZXN1bHQub2JqOwoJCQkJb2JqLm51bV9idXkgPSAxOwoJCQkJdGhpcy5mb3JtX2NvbW1lbnQuc291cmNlX2lkID0gb2JqLmdvb2RzX2lkOwogICAgICAgICAgICAgICAgdGhpcy5nZXRfY29tbWVudChvYmopOwogICAgICAgICAgICAgICAgdGhpcy5mb3JtX2NvbW1lbnQuc291cmNlX2lkID0gb2JqLmdvb2RzX2lkOwogICAgICAgICAgICAgICAgdGhpcy4kZ2V0KCJ+L2FwaS9vcmRlci9nZXRfb2JqPyIsIHsiZ29vZHNfaWQiOm9iai5nb29kc19pZCwidXNlcl9pZCI6dGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VyX2lkLCJzdGF0ZSI6IuW3suS7mOasviJ9LCAoanNvbikgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChqc29uLnJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnB1Ymxpc2hfZmxhZyA9IHRydWUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9LAogICAgICAgICAgICAvKioKICAgICAgICAgICAgICog6I635b6X54Ot6Zeo5ZWG5ZOBCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBnZXRfaG90X2dvb2RzKCkgewogICAgICAgICAgICAgICAgdGhpcy4kZ2V0KAogICAgICAgICAgICAgICAgICAgICJ+L2FwaS9nb29kcy9nZXRfbGlzdCIsCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiAxLAogICAgICAgICAgICAgICAgICAgICAgICBzaXplOiA1LAogICAgICAgICAgICAgICAgICAgICAgICBvcmRlcmJ5OiAiaGl0cyIsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMucmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RfaG90ID0gcmVzLnJlc3VsdC5saXN0OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIOabtOaWsOivhOiuugogICAgICAgICAgICAgKi8KICAgICAgICAgICAgdXBkYXRlX2NvbW1lbnQoKSB7CiAgICAgICAgICAgICAgICB0aGlzLmdldF9jb21tZW50KHRoaXMub2JqKTsKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiDojrflj5bor4TorroKICAgICAgICAgICAgICogQHBhcmFtIHsgT2JqZWN0IH0gb2JqIOaWh+eroOWvueixoQogICAgICAgICAgICAgKiBAcGFyYW0geyBOdW1iZXIgfSBwYWdlIOWIhumhteaVsAogICAgICAgICAgICAgKiBAcGFyYW0geyBOdW1iZXIgfSBzaXplIOivhOiuuuaYvuekuuadoeaVsAogICAgICAgICAgICAgKi8KICAgICAgICAgICAgZ2V0X2NvbW1lbnQob2JqLCBwYWdlID0gMSwgc2l6ZSA9IDUpIHsKICAgICAgICAgICAgICAgIHRoaXMuJGdldCgKICAgICAgICAgICAgICAgICAgICAifi9hcGkvY29tbWVudC9nZXRfbGlzdD8iLAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX3RhYmxlOiAiZ29vZHMiLAogICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VfZmllbGQ6ICJnb29kc19pZCIsCiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9pZDogb2JqLmdvb2RzX2lkLAogICAgICAgICAgICAgICAgICAgICAgICBwYWdlLAogICAgICAgICAgICAgICAgICAgICAgICBzaXplLAogICAgICAgICAgICAgICAgICAgICAgICBvcmRlcmJ5OiAiY3JlYXRlX3RpbWUgZGVzYyIsCiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGx5X3RvX2lkOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAoanNvbikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvbi5yZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaXN0X2NvbW1lbnQgPSBqc29uLnJlc3VsdC5saXN0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdF9jb21tZW50Lm1hcChvID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLmxpc3RfcmVwbHkgPSBbXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkX3JlcGx5KGxpc3RfY29tbWVudCkudGhlbigobGlzdCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdF9jb21tZW50ID0gbGlzdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YiG6aG15ZmoCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudF9wYWdlcyA9IE1hdGguY2VpbChqc29uLnJlc3VsdC5jb3VudCAvIHNpemUpIHx8IDEKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiBAcGFyYW0geyBBcnJheSB9IGxpc3Qg6K+E6K665YiX6KGoCiAgICAgICAgICAgICAqIOa3u+WKoOWbnuWkjeWIsOivhOiuuuWIl+ihqAogICAgICAgICAgICAgKi8KICAgICAgICAgICAgYWRkX3JlcGx5KGxpc3QpIHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGxpc3QubGVuZ3RoOyBpZHgrKykgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvYmogPSBsaXN0W2lkeF07CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGdldCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ+L2FwaS9jb21tZW50L2dldF9saXN0PyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX3RhYmxlOiAiZ29vZHMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9maWVsZDogImdvb2RzX2lkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VfaWQ6IG9iai5nb29kc19pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcmJ5OiAiY3JlYXRlX3RpbWUgZGVzYyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbHlfdG9faWQ6IG9iai5jb21tZW50X2lkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyZXMpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoubGlzdF9yZXBseSA9IHJlcy5yZXN1bHQubGlzdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJlc29sdmUobGlzdCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIOWIhumhteWZqAogICAgICAgICAgICAgKiBAcGFyYW0geyBOdW1iZXIgfSBwYWdlX251bSDliIbpobXmlbAKICAgICAgICAgICAgICogQHJldHVybiB7IE9iamVjdCB9IOafpeivouWvueixoQogICAgICAgICAgICAgKi8KICAgICAgICAgICAgbGlua19nZW4ocGFnZV9udW0pIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHRoaXMucXVlcnksCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9LAogICAgICAgICAgICAvKioKICAgICAgICAgICAgICog5Yqg6L295LiL5LiA6aG1CiAgICAgICAgICAgICAqLwogICAgICAgICAgICBjaGFuZ2VfcGFnZShwYWdlX251bSkgewogICAgICAgICAgICAgICAgdGhpcy5nZXRfY29tbWVudCh0aGlzLm9iaiwgcGFnZV9udW0pOwogICAgICAgICAgICAgICAgdGhpcy5mb3JtX2NvbW1lbnQucmVwbHlfdG9faWQgPSAwOwogICAgICAgICAgICB9LAogICAgICAgICAgICAvLyDojrflvpfllYblk4Hova7mkq3lm74KICAgICAgICAgICAgY3VzdG9taXplX2ZpZWxkX2xpc3Q6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMub2JqLmN1c3RvbWl6ZV9maWVsZCkgewogICAgICAgICAgICAgICAgICAgIGxldCBsaXN0X2ZpZWxkcyA9IEpTT04ucGFyc2UodGhpcy5vYmouY3VzdG9taXplX2ZpZWxkKQogICAgICAgICAgICAgICAgICAgIHJldHVybiBsaXN0X2ZpZWxkczsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBbXQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBjb21wdXRlZDogewogICAgICAgICAgICAvKioKICAgICAgICAgICAgICog6I635b6X5Zu+54mH5YiX6KGoCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBsaXN0X2ltZygpIHsKICAgICAgICAgICAgICAgIHZhciB7aW1nXzEsIGltZ18yLCBpbWdfMywgaW1nXzQsaW1nXzV9ID0gdGhpcy5vYmo7CiAgICAgICAgICAgICAgICB2YXIgbGlzdF9pbWcgPSBbXTsKICAgICAgICAgICAgICAgIGlmIChpbWdfMSkgewogICAgICAgICAgICAgICAgICAgIGxpc3RfaW1nLnB1c2goaW1nXzEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGltZ18yKSB7CiAgICAgICAgICAgICAgICAgICAgbGlzdF9pbWcucHVzaChpbWdfMik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoaW1nXzMpIHsKICAgICAgICAgICAgICAgICAgICBsaXN0X2ltZy5wdXNoKGltZ18zKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChpbWdfNCkgewogICAgICAgICAgICAgICAgICAgIGxpc3RfaW1nLnB1c2goaW1nXzQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGltZ181KSB7CiAgICAgICAgICAgICAgICAgICAgbGlzdF9pbWcucHVzaChpbWdfNSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdF9pbWc7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJlc3BvbmRlbnQoKSB7CiAgICAgICAgICAgICAgICB2YXIgcmVwbHlfdG9faWQgPSB0aGlzLmZvcm1fY29tbWVudC5yZXBseV90b19pZDsKICAgICAgICAgICAgICAgIHZhciByZXNwb25kZW50ID0gIiI7CiAgICAgICAgICAgICAgICB0aGlzLmxpc3RfY29tbWVudC5tYXAoKG8pID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoby5jb21tZW50X2lkID09PSByZXBseV90b19pZCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXNwb25kZW50ID0gby5uaWNrbmFtZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25kZW50OwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBtb3VudGVkKCkgewogICAgICAgICAgICB0aGlzLmdldF9ob3RfZ29vZHMoKTsKICAgICAgICB9LAoKICAgIH07Cg=="},{"version":3,"sources":["details.vue"],"names":[],"mappings":";AAgHA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"details.vue","sourceRoot":"src/views/goods","sourcesContent":["<template>\n    <div class=\"page_goods\" id=\"goods_details\">\n        <div class=\"warp\" v-if=\"$check_action('/goods/details', 'get')\">\n            <div class=\"container\">\n                <div class=\"row goods_details_box\">\n                    <div class=\"col-12 col-lg-10 col-md-12\">\n                        <div class=\"pr-md-2\">\n                            <!-- 商品详情 -->\n                            <div class=\"card_div_goods\">\n                                <div_goods v-if=\"obj.goods_id\" :obj=\"obj\" :list_img=\"list_img\"/>\n                            </div>\n                            <div class=\"card_bottom_goods\">\n                                <div class=\"options pl-3\">\n                  <span\n                          @click=\"selected_index = 1\"\n                          :class=\"{ selected: selected_index === 1 }\"\n                  >详情</span\n                  >\n                                    <span\n                                            @click=\"selected_index = 2\"\n                                            :class=\"{ selected: selected_index === 2 }\"\n                                    >评论</span\n                                    >\n                                </div>\n                                <div v-if=\"selected_index === 2\" class=\"comment_box\">\n                                    <list_comment\n                                            class=\"w-100\"\n                                            :list=\"list_comment\"\n                                            :obj=\"form_comment\"\n                                    />\n\n                                    <!-- 分页器 -->\n                                    <b-pagination-nav\n                                            :base-url=\"$route.path\"\n                                            :number-of-pages=\"count_pages\"\n                                            :link-gen=\"link_gen\"\n                                            @change=\"change_page\"\n                                            first-number\n                                            last-number\n                                    />\n\n\n                                    <div class=\"form_editor\">\n                                        <div class=\"fl ml-3\" v-show=\"form_comment.reply_to_id\">\n                                            对 <i>{{ respondent }}</i> 回复\n                                        </div>\n                                        <div class=\"fr mr-3\" v-show=\"form_comment.reply_to_id\">\n                                            <b-button\n                                                    variant=\"outline-primary\"\n                                                    size=\"sm\"\n                                                    @click=\"form_comment.reply_to_id = 0\"\n                                            >重置回复人\n                                            </b-button\n                                            >\n                                        </div>\n                                        <form_editor\n                                                class=\"fn\"\n                                                :form=\"form_comment\"\n                                                :publish_flag = \"publish_flag\"\n                                                @update_comment=\"update_comment\"\n                                        />\n                                    </div>\n                                </div>\n                                <div class=\"goods_desc_box\" v-else>\n                                    <div class=\"goods_detail_item\" v-for=\"o in customize_field_list()\" :key=\"o\">\n                                        <label>{{o.field_name+\" : \"}}</label>\n                                        <span v-if=\"o.type==='image'\">\n                                            <img style=\"height: 150px\" :src=\"$fullUrl(o.field_value)\" v-if=\"o.field_value\" />\n                                        </span>\n                                        <span v-else-if=\"o.type==='video'\">\n                                            <router-link :to=\"'/media/video?filename=' + $fullUrl(o.field_value)\" v-if=\"o.field_value\" >\n                                                <span>\n                                                    查看视频\n                                                </span>\n                                            </router-link>\n                                        </span>\n                                        <span v-else-if=\"o.type==='audio'\">\n\t\t\t\t\t\t\t                <audio v-if=\"o.field_value\" style=\"text-align: left\" :src=\"$fullUrl(o.field_value)\" controls></audio>\n                                        </span>\n                                        <span v-else-if=\"o.type==='file'\">\n\t\t\t\t\t\t\t                <a :href=\"$fullUrl(o.field_value)\" v-if=\"o.field_value\" target=\"_blank\" style=\"color: rgb(64, 158, 255);\">点击下载</a>\n                                        </span>\n                                        <span v-else-if=\"o.type==='date'\">\n\t\t\t\t\t\t\t                {{$toTime(o.field_value,\"yyyy-MM-dd\")}}\n                                        </span>\n                                        <span v-else-if=\"o.type==='time'\">\n\t\t\t\t\t\t\t                {{$toTime(o.field_value,\"hh:mm:ss\")}}\n                                        </span>\n                                        <span v-else-if=\"o.type==='datetime'\">\n\t\t\t\t\t\t\t                {{$toTime(o.field_value,\"yyyy-MM-dd hh:mm:ss\")}}\n                                        </span>\n                                        <span v-else>{{o.field_value}}</span>\n                                    </div>\n                                    <div class=\"goods_detail_editor\" v-html=\"obj.content\"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"col-12 col-lg-2\">\n                        <div class=\"card_aside\">\n                            <div class=\"title\">今日推荐</div>\n                            <list_goods_hot :list=\"list_hot\"/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import mixin from \"@/mixins/page.js\";\n    import list_goods_hot from \"@/components/diy/list_goods_hot.vue\";\n    import list_comment from \"@/components/diy/list_comment.vue\";\n    import div_goods from \"@/components/diy/div_goods.vue\";\n    import form_editor from \"@/components/diy/form_editor.vue\";\n\n    export default {\n        mixins: [mixin],\n        components: {\n            list_comment,\n            list_goods_hot,\n            div_goods,\n            form_editor,\n        },\n        data() {\n            return {\n                url_get_obj: \"~/api/goods/get_obj?\",\n                query: {\n                    goods_id: 0,\n                },\n                list_comment: [],\n                list_hot: [],\n                selected_index: 2,\n                form_comment: {\n                    source_table: \"goods\",\n                    source_field: \"goods_id\",\n                    source_id: 0,\n                    reply_to_id: 0,\n                    content:''\n                },\n                // 页面数\n                count_pages: 1,\n                // 是否设置过\n                // seted_count_pages: true,\n                obj: {\n                    goods_id: 0,\n                    title: \"\",\n                    img: \"\",\n                    description: \"\",\n                    price_ago: 0,\n                    price: 0,\n                    sales: 0,\n                    inventory: 0,\n                    type: \"\",\n                    hits: 0,\n                    content: '',\n                    create_time: \"2021-02-20 20:48:07\",\n                    update_time: \"2021-03-30 17:48:07\",\n                    img_1: \"\",\n                    img_2: \"\",\n                    img_3: \"\",\n                    img_4: \"\",\n                    img_5: \"\",\n                    source_table: \"\",\n                    source_field: \"\",\n                    source_id: 0,\n                    num_buy: 1,\n                    customize_field:\"\",\n                    user_id:0\n                },\n                publish_flag:false\n            };\n        },\n        methods: {\n            /**\n             * 获取评论后\n             * @param {Object} json 响应对象\n             */\n            get_obj_after(json) {\n                var obj = json.result.obj;\n\t\t\t\tobj.num_buy = 1;\n\t\t\t\tthis.form_comment.source_id = obj.goods_id;\n                this.get_comment(obj);\n                this.form_comment.source_id = obj.goods_id;\n                this.$get(\"~/api/order/get_obj?\", {\"goods_id\":obj.goods_id,\"user_id\":this.$store.state.user.user_id,\"state\":\"已付款\"}, (json) => {\n                    if (json.result) {\n                        this.publish_flag = true\n                    }\n                })\n            },\n            /**\n             * 获得热门商品\n             */\n            get_hot_goods() {\n                this.$get(\n                    \"~/api/goods/get_list\",\n                    {\n                        page: 1,\n                        size: 5,\n                        orderby: \"hits\",\n                    },\n                    (res) => {\n                        if (res.result) {\n                            this.list_hot = res.result.list;\n                        }\n                    }\n                );\n            },\n            /**\n             * 更新评论\n             */\n            update_comment() {\n                this.get_comment(this.obj);\n            },\n\n            /**\n             * 获取评论\n             * @param { Object } obj 文章对象\n             * @param { Number } page 分页数\n             * @param { Number } size 评论显示条数\n             */\n            get_comment(obj, page = 1, size = 5) {\n                this.$get(\n                    \"~/api/comment/get_list?\",\n                    {\n                        source_table: \"goods\",\n                        source_field: \"goods_id\",\n                        source_id: obj.goods_id,\n                        page,\n                        size,\n                        orderby: \"create_time desc\",\n                        reply_to_id: \"0\",\n                    },\n                    (json) => {\n                        if (json.result) {\n                            var list_comment = json.result.list;\n                            list_comment.map(o => {\n                                o.list_reply = []\n                            })\n                            this.add_reply(list_comment).then((list) => {\n                                this.list_comment = list;\n                            });\n                            // 分页器\n                          this.count_pages = Math.ceil(json.result.count / size) || 1\n                        }\n                    }\n                );\n            },\n            /**\n             * @param { Array } list 评论列表\n             * 添加回复到评论列表\n             */\n            add_reply(list) {\n                return new Promise((resolve) => {\n                    for (let idx = 0; idx < list.length; idx++) {\n                        const obj = list[idx];\n                        this.$get(\n                            \"~/api/comment/get_list?\",\n                            {\n                                source_table: \"goods\",\n                                source_field: \"goods_id\",\n                                source_id: obj.goods_id,\n                                orderby: \"create_time desc\",\n                                reply_to_id: obj.comment_id,\n                            },\n                            (res) => {\n                                if (res.result) {\n                                    obj.list_reply = res.result.list;\n                                }\n                            }\n                        );\n                    }\n                    resolve(list);\n                });\n            },\n            /**\n             * 分页器\n             * @param { Number } page_num 分页数\n             * @return { Object } 查询对象\n             */\n            link_gen(page_num) {\n                return {\n                    query: this.query,\n                };\n            },\n            /**\n             * 加载下一页\n             */\n            change_page(page_num) {\n                this.get_comment(this.obj, page_num);\n                this.form_comment.reply_to_id = 0;\n            },\n            // 获得商品轮播图\n            customize_field_list: function() {\n                if (this.obj.customize_field) {\n                    let list_fields = JSON.parse(this.obj.customize_field)\n                    return list_fields;\n                }\n                return []\n            }\n        },\n        computed: {\n            /**\n             * 获得图片列表\n             */\n            list_img() {\n                var {img_1, img_2, img_3, img_4,img_5} = this.obj;\n                var list_img = [];\n                if (img_1) {\n                    list_img.push(img_1);\n                }\n                if (img_2) {\n                    list_img.push(img_2);\n                }\n                if (img_3) {\n                    list_img.push(img_3);\n                }\n                if (img_4) {\n                    list_img.push(img_4);\n                }\n                if (img_5) {\n                    list_img.push(img_5);\n                }\n                return list_img;\n            },\n            respondent() {\n                var reply_to_id = this.form_comment.reply_to_id;\n                var respondent = \"\";\n                this.list_comment.map((o) => {\n                    if (o.comment_id === reply_to_id) {\n                        respondent = o.nickname;\n                    }\n                });\n                return respondent;\n            }\n        },\n        mounted() {\n            this.get_hot_goods();\n        },\n\n    };\n</script>\n\n<style scoped>\n\n    .card_aside {\n        margin: 2rem 0.5rem 0.5rem 0.5rem;\n        border-radius: 0.5rem;\n        background-color: var(--color_primary);\n    }\n\n    .card_aside .title {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        color: white;\n        font-size: 1.2rem;\n        font-weight: bold;\n        height: 5rem;\n    }\n\n    .card_div_goods {\n        margin-top: 2rem;\n    }\n\n    .card_bottom_goods {\n        margin-top: 60px;\n        padding: 5px;\n        border: 1px solid #eee;\n    }\n\n    .options {\n        font-size: 20px;\n        padding: 15px 0;\n        border-bottom: 1px solid #eee;\n    }\n\n    .options span {\n        cursor: pointer;\n        padding-right: 40px;\n        font-weight: 600;\n    }\n\n    .options span.selected {\n        color: var(--color_primary);\n    }\n\n    .options span:hover {\n        color: var(--color_primary);\n    }\n\n    .form_editor {\n        padding: 10px;\n    }\n\n    .comment_box {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n    }\n\n</style>\n"]}]}