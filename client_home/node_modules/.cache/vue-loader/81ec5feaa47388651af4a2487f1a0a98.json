{"remainingRequest":"D:\\springboot\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\springboot\\client_home\\src\\views\\user\\info.vue?vue&type=style&index=0&id=5d917ec8&scoped=true&lang=css&","dependencies":[{"path":"D:\\springboot\\client_home\\src\\views\\user\\info.vue","mtime":1677466920000},{"path":"D:\\springboot\\client_home\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\springboot\\client_home\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\springboot\\client_home\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\springboot\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\springboot\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5jb250YWluZXIgewogIG1pbi1oZWlnaHQ6IDgwMHB4Owp9CgouY29udGVudF9tc2cgewogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgLyogYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWNvbG9yX2RlZmF1bHRfaCk7CiAgbWFyZ2luLXJpZ2h0OiA1cHg7ICovCn0KCi5maWd1cmVfYXZhdGFyIHsKICBwYWRkaW5nOiA1cHg7CiAgaGVpZ2h0OiA2MHB4OwogIGxpbmUtaGVpZ2h0OiA2MHB4Owp9Cgoubmlja25hbWUgewogIGRpc3BsYXk6IGZsZXg7CiAgcGFkZGluZzogNXB4OwogIGxpbmUtaGVpZ2h0OiAzMHB4Owp9CgouaW5wdXRfbmlja25hbWUgLmJ0bl9zYXZlIHsKICB3aWR0aDogNHJlbTsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgaGVpZ2h0OiAzMXB4OwogIGxpbmUtaGVpZ2h0OiAzMXB4OwogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWNvbG9yX2dyZXkpOwogIGJvcmRlci1yYWRpdXM6IDVweDsKICBtYXJnaW4tcmlnaHQ6IDRweDsKfQoKLmJ0bl9zYXZlOmhvdmVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvcl9zdWNjZXNzKTsKICBib3JkZXI6IG5vbmU7CiAgY29sb3I6IHdoaXRlOwp9CgoucmlnaHRfbXNnIHsKICBtYXJnaW46IGF1dG87Cn0KCi5yaWdodF9tc2cgLmNoYW5nZV9hdmF0YXJfYm94IHsKICBjdXJzb3I6IHBvaW50ZXI7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIGRpc3BsYXk6IGZsZXg7CiAgbWFyZ2luLWxlZnQ6IDVweDsKfQoKLnJpZ2h0X3dyYXAgewogIG1hcmdpbjogMCAxMHB4Owp9CgoucmlnaHRfbXNnIC5jaGFuZ2VfYXZhdGFyX2JveCAjaW5wdXRfZmlsZSB7CiAgY3Vyc29yOiBwb2ludGVyOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgb3BhY2l0eTogMDsKICB6LWluZGV4OiAxMDAwOwogIGZvbnQtc2l6ZTogMDsKfQoKLmNoYW5nZV9uaWNrbmFtZV9ib3ggewogIG1hcmdpbi10b3A6IDEwcHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIGRpc3BsYXk6IGZsZXg7CiAgbWFyZ2luLWxlZnQ6IDVweDsKfQo="},{"version":3,"sources":["info.vue"],"names":[],"mappings":";AA4PA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"info.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\r\n  <div class=\"page_user\" id=\"user_info\">\r\n    <div class=\"warp\">\r\n      <div class=\"container\">\r\n        <div>\r\n          <div class=\" col-md-12\">\r\n            <div class=\"\">\r\n              <!-- 左侧边栏 -->\r\n              <list_menu_user :list_info=\"list_info\"></list_menu_user>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"col-12 col-md-12\">\r\n            <div class=\"card_info pl-2\">\r\n              <!-- 个人资料 -->\r\n              <div class=\"div_info\">\r\n                <span> 个人资料 </span>\r\n                <div class=\"content_msg\">\r\n                  <div class=\"left_msg\">\r\n                    <div class=\"figure_avatar\">\r\n                      <span>头像：</span>\r\n                      <b-img class=\"user_avator\"\r\n                             :src=\"obj.avatar ? $fullUrl(obj.avatar) : '/img/default.png'\" alt=\"\"\r\n                             style=\"width: 3rem; height: 3rem\"/>\r\n                    </div>\r\n                    <div class=\"nickname\">\r\n                      <div>\r\n                        <span>昵称：</span>\r\n                      </div>\r\n                      <div :style=\"'display:' + display_name + ';'\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span style=\"font-size: 1.2rem; color: var(--color_grey)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ obj.nickname }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n                      </div>\r\n                      <div class=\"input_nickname\" :style=\"'display:' + display_input + ';'\">\r\n                        <input type=\"text\" id=\"nickname\" v-model=\"form.nickname\"\r\n                               :focus=\"focus_input\"/>\r\n                        <div class=\"btn_save\" @click=\"save_nickname()\">\r\n                          保存\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"right_msg\">\r\n                  <div class=\"change_avatar_box\">\r\n                    <div class=\"change_avatar\">\r\n                      <span>头像更改</span>\r\n                    </div>\r\n                    <div class=\"right_wrap\">\r\n                      <b-icon icon=\"arrow-right-square\"></b-icon>\r\n                    </div>\r\n                    <input type=\"file\" @change=\"change_avatar($event.target.files)\" id=\"input_file\"\r\n                           title=\" \"/>\r\n                  </div>\r\n                  <div class=\"change_nickname_box\" @click=\"change_nickname()\">\r\n                    <div class=\"change_nickname\">\r\n                      <span>昵称更改</span>\r\n                    </div>\r\n                    <div class=\"right_wrap\">\r\n                      <b-icon icon=\"arrow-right-square\"></b-icon>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import mixin from \"@/mixins/page.js\";\r\n  import list_menu_user from \"@/components/diy/list_menu_user.vue\";\r\n\r\n  export default {\r\n    mixins: [mixin],\r\n    data() {\r\n      return {\r\n        url_get_obj: \"~/api/user/get_obj?\",\r\n        query: {\r\n          user_id: this.$store.state.user.user_id\r\n        },\r\n        display_input: \"none\",\r\n        display_name: \"block\",\r\n        form: {},\r\n        // 输入聚焦\r\n        focus_input: false,\r\n        list_info: [{\r\n          title: \"资料管理\",\r\n          url: \"/user/info\",\r\n          icon: \"\",\r\n          selected: true,\r\n        },\r\n          {\r\n            title: \"密码管理\",\r\n            url: \"/user/password\",\r\n            icon: \"\",\r\n            selected: false,\r\n          },\r\n                                      {\r\n                title: \"收藏\",\r\n                url: \"/user/collect\",\r\n                icon: \"\",\r\n                selected: false,\r\n              },\r\n                                ],\r\n        file: null,\r\n      };\r\n    },\r\n    methods: {\r\n      /**\r\n       * 修改头像\r\n       * @param { Object } files 上传文件对象\r\n       */\r\n      async change_avatar(files) {\r\n        var _this = this;\r\n        var form = new FormData();\r\n        form.append(\"file\", files[0]);\r\n        var res = await this.$post(\"~/api/user/upload?\", form);\r\n        console.log(res)\r\n        if (res.result) {\r\n          var avatar = res.result.url;\r\n          this.$post(\r\n              \"~/api/user/set?user_id=\" + _this.user.user_id, {\r\n                avatar,\r\n              },\r\n              (res) => {\r\n                this.user.avatar = avatar;\r\n                this.obj.avatar = avatar;\r\n              }\r\n          );\r\n        } else {\r\n          this.$toast(res.error.message);\r\n        }\r\n      },\r\n      /**\r\n       * 跳出修改昵称输入框\r\n       */\r\n      change_nickname() {\r\n        this.display_input = \"flex\";\r\n        this.display_name = \"none\";\r\n        this.focus_input = true;\r\n      },\r\n      /**\r\n       * 保存昵称修改\r\n       */\r\n      save_nickname() {\r\n        var user_id = this.user.user_id;\r\n        var nickname = this.form.nickname;\r\n        this.$post(\r\n            \"~/api/user/set?user_id=\" + user_id, {\r\n              nickname,\r\n            },\r\n            (res) => {\r\n              console.log(res);\r\n              this.focus_input = false;\r\n              this.display_input = \"none\";\r\n              this.display_name = \"block\";\r\n              this.user.nickname = nickname;\r\n              this.obj.nickname = nickname;\r\n            }\r\n        );\r\n      },\r\n      get_obj_before(params) {\r\n        params.user_id = this.$store.state.user.user_id;\r\n        return params\r\n      }\r\n\r\n    },\r\n    components: {\r\n      list_menu_user,\r\n    },\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .container {\r\n    min-height: 800px;\r\n  }\r\n\r\n  .content_msg {\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-bottom: 30px;\r\n    /* border-bottom: 1px solid var(--color_default_h);\r\n    margin-right: 5px; */\r\n  }\r\n\r\n  .figure_avatar {\r\n    padding: 5px;\r\n    height: 60px;\r\n    line-height: 60px;\r\n  }\r\n\r\n  .nickname {\r\n    display: flex;\r\n    padding: 5px;\r\n    line-height: 30px;\r\n  }\r\n\r\n  .input_nickname .btn_save {\r\n    width: 4rem;\r\n    text-align: center;\r\n    height: 31px;\r\n    line-height: 31px;\r\n    border: 1px solid var(--color_grey);\r\n    border-radius: 5px;\r\n    margin-right: 4px;\r\n  }\r\n\r\n  .btn_save:hover {\r\n    background-color: var(--color_success);\r\n    border: none;\r\n    color: white;\r\n  }\r\n\r\n  .right_msg {\r\n    margin: auto;\r\n  }\r\n\r\n  .right_msg .change_avatar_box {\r\n    cursor: pointer;\r\n    position: relative;\r\n    display: flex;\r\n    margin-left: 5px;\r\n  }\r\n\r\n  .right_wrap {\r\n    margin: 0 10px;\r\n  }\r\n\r\n  .right_msg .change_avatar_box #input_file {\r\n    cursor: pointer;\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    opacity: 0;\r\n    z-index: 1000;\r\n    font-size: 0;\r\n  }\r\n\r\n  .change_nickname_box {\r\n    margin-top: 10px;\r\n    cursor: pointer;\r\n    display: flex;\r\n    margin-left: 5px;\r\n  }\r\n</style>\r\n"]}]}