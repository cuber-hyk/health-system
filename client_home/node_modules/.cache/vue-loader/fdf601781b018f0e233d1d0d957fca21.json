{"remainingRequest":"C:\\Users\\胡运宽\\Desktop\\springboot-new\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\胡运宽\\Desktop\\springboot-new\\client_home\\src\\views\\user\\password.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\胡运宽\\Desktop\\springboot-new\\client_home\\src\\views\\user\\password.vue","mtime":1677466920000},{"path":"C:\\Users\\胡运宽\\Desktop\\springboot-new\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\胡运宽\\Desktop\\springboot-new\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\胡运宽\\Desktop\\springboot-new\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\胡运宽\\Desktop\\springboot-new\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIGltcG9ydCBtaXhpbiBmcm9tICJAL21peGlucy9wYWdlLmpzIjsNCiAgaW1wb3J0IGxpc3RfbWVudV91c2VyIGZyb20gIkAvY29tcG9uZW50cy9kaXkvbGlzdF9tZW51X3VzZXIudnVlIjsNCg0KICBleHBvcnQgZGVmYXVsdCB7DQogICAgbWl4aW5zOiBbbWl4aW5dLA0KDQogICAgZGF0YSgpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIGZvcm06IHsNCiAgICAgICAgICBvX3Bhc3N3b3JkOiAiIiwNCiAgICAgICAgICBwYXNzd29yZDogIiIsDQogICAgICAgIH0sDQoNCiAgICAgICAgY29uZmlybV9wYXNzd29yZDogIiIsDQoNCiAgICAgICAgbGlzdF9pbmZvOiBbew0KICAgICAgICAgIHRpdGxlOiAi6LWE5paZ566h55CGIiwNCiAgICAgICAgICB1cmw6ICIvdXNlci9pbmZvIiwNCiAgICAgICAgICBpY29uOiAiIiwNCiAgICAgICAgICBzZWxlY3RlZDogZmFsc2UsDQogICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgdGl0bGU6ICLlr4bnoIHnrqHnkIYiLA0KICAgICAgICAgICAgdXJsOiAiL3VzZXIvcGFzc3dvcmQiLA0KICAgICAgICAgICAgaWNvbjogIiIsDQogICAgICAgICAgICBzZWxlY3RlZDogdHJ1ZSwNCiAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgdGl0bGU6ICLmlLbol48iLA0KICAgICAgICAgICAgICAgIHVybDogIi91c2VyL2NvbGxlY3QiLA0KICAgICAgICAgICAgICAgIGljb246ICIiLA0KICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBmYWxzZSwNCiAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSwNCiAgICAgIH07DQogICAgfSwNCiAgICBjb21wdXRlZDogew0KICAgICAgLyoqDQogICAgICAgKiDpqozor4Hljp/lp4vlr4bnoIENCiAgICAgICAqLw0KICAgICAgdmFsaWRhdGlvbl9vX3Bhc3N3b3JkKCkgew0KICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5mb3JtLnBhc3N3b3JkLmxlbmd0aDsNCiAgICAgICAgaWYgKCFsZW5ndGgpIHsNCiAgICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gbGVuZ3RoID4gNCAmJiBsZW5ndGggPCAxNzsNCiAgICAgIH0sDQogICAgICAvKioNCiAgICAgICAqIOmqjOivgeWvhueggQ0KICAgICAgICovDQogICAgICB2YWxpZGF0aW9uX3Bhc3N3b3JkKCkgew0KICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5mb3JtLnBhc3N3b3JkLmxlbmd0aDsNCiAgICAgICAgaWYgKCFsZW5ndGgpIHsNCiAgICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gbGVuZ3RoID4gNCAmJiBsZW5ndGggPCAxNzsNCiAgICAgIH0sDQogICAgICAvKioNCiAgICAgICAqIOWGjeasoemqjOivgeWvhueggQ0KICAgICAgICovDQogICAgICB2YWxpZGF0aW9uX2NvbmZpcm1fcGFzc3dvcmQoKSB7DQogICAgICAgIHJldHVybiB0aGlzLmNvbmZpcm1fcGFzc3dvcmQgPT09IHRoaXMuZm9ybS5wYXNzd29yZDsNCiAgICAgIH0sDQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAvKioNCiAgICAgICAqIOS/ruaUueWvhueggQ0KICAgICAgICovDQogICAgICBjaGFuZ2VfcGFzc3dvcmQoKSB7DQogICAgICAgIHZhciBmb3JtID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5mb3JtKTsNCg0KICAgICAgICBpZiAodGhpcy5mb3JtLnBhc3N3b3JkID09PSB0aGlzLmNvbmZpcm1fcGFzc3dvcmQgJiYgdGhpcy5mb3JtLm9fcGFzc3dvcmQpIHsNCiAgICAgICAgICB0aGlzLiRwb3N0KCJ+L2FwaS91c2VyL2NoYW5nZV9wYXNzd29yZD8iLCBmb3JtLCAocmVzKSA9PiB7DQogICAgICAgICAgICBpZiAocmVzLnJlc3VsdCkgew0KICAgICAgICAgICAgICAvL+W8ueWHuuabtOaUueaIkOWKn++8jDPnp5LlkI7osIPliLDkuLvpobXvvIzpgIDlh7rotKbmiLcNCiAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzaWduX291dCIpOw0KICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2FjY291bnQvbG9naW4iKQ0KICAgICAgICAgICAgfSBlbHNlIGlmIChyZXMuZXJyb3IpIHsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmVycm9yKTsNCiAgICAgICAgICAgICAgYWxlcnQocmVzLmVycm9yLm1lc3NhZ2UpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9LA0KICAgIH0sDQogICAgY29tcG9uZW50czogew0KICAgICAgbGlzdF9tZW51X3VzZXIsDQogICAgfSwNCiAgICBtb3VudGVkKCkgew0KICAgICAgLy8gY29uc29sZS5sb2codGhpcy51c2VyKTsNCiAgICB9LA0KICB9Ow0K"},{"version":3,"sources":["password.vue"],"names":[],"mappings":";AA8CA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"password.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\r\n  <div class=\"page_user\" id=\"user_password\">\r\n    <div class=\"warp\">\r\n      <div class=\"container\">\r\n        <div class=\"\">\r\n          <div class=\" col-md-12\">\r\n            <div class=\"\">\r\n              <!-- 左侧边栏 -->\r\n              <list_menu_user :list_info=\"list_info\"></list_menu_user>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-12 col-md-12\">\r\n            <div class=\"card_password pl-2\">\r\n              <div>密码修改</div>\r\n              <!-- 密码修改 -->\r\n              <b-form>\r\n                <b-form-group id=\"input-group-2\" label=\"输入原始密码:\" label-for=\"input-2\"\r\n                              :state=\"validation_o_password\" invalid-feedback=\"密码长度为在5-16个字符\"\r\n                              valid-feedback=\"校验通过\">\r\n                  <b-form-input id=\"input-2\" v-model=\"form.o_password\" type=\"password\"\r\n                                placeholder=\"原始密码\" trim></b-form-input>\r\n                </b-form-group>\r\n                <b-form-group id=\"input-group-2\" label=\"设置新密码:\" label-for=\"input-2\"\r\n                              :state=\"validation_password\" invalid-feedback=\"密码长度为在5-16个字符\"\r\n                              valid-feedback=\"校验通过\">\r\n                  <b-form-input id=\"input-2\" v-model=\"form.password\" type=\"password\"\r\n                                placeholder=\"设置新密码\" trim></b-form-input>\r\n                </b-form-group>\r\n                <b-form-group id=\"input-group-2\" label=\"确认密码:\" label-for=\"input-2\"\r\n                              :state=\"validation_confirm_password\" invalid-feedback=\"密码不一致\" valid-feedback=\"\">\r\n                  <b-form-input id=\"input-2\" v-model=\"confirm_password\" type=\"password\"\r\n                                placeholder=\"确认密码\" trim></b-form-input>\r\n                </b-form-group>\r\n              </b-form>\r\n              <div class=\"password_confim\">\r\n                <div class=\"btn_item\" @click=\"change_password()\">确认修改</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import mixin from \"@/mixins/page.js\";\r\n  import list_menu_user from \"@/components/diy/list_menu_user.vue\";\r\n\r\n  export default {\r\n    mixins: [mixin],\r\n\r\n    data() {\r\n      return {\r\n        form: {\r\n          o_password: \"\",\r\n          password: \"\",\r\n        },\r\n\r\n        confirm_password: \"\",\r\n\r\n        list_info: [{\r\n          title: \"资料管理\",\r\n          url: \"/user/info\",\r\n          icon: \"\",\r\n          selected: false,\r\n        },\r\n          {\r\n            title: \"密码管理\",\r\n            url: \"/user/password\",\r\n            icon: \"\",\r\n            selected: true,\r\n          },\r\n                                      {\r\n                title: \"收藏\",\r\n                url: \"/user/collect\",\r\n                icon: \"\",\r\n                selected: false,\r\n              },\r\n                                ],\r\n      };\r\n    },\r\n    computed: {\r\n      /**\r\n       * 验证原始密码\r\n       */\r\n      validation_o_password() {\r\n        var length = this.form.password.length;\r\n        if (!length) {\r\n          return null;\r\n        }\r\n        return length > 4 && length < 17;\r\n      },\r\n      /**\r\n       * 验证密码\r\n       */\r\n      validation_password() {\r\n        var length = this.form.password.length;\r\n        if (!length) {\r\n          return null;\r\n        }\r\n        return length > 4 && length < 17;\r\n      },\r\n      /**\r\n       * 再次验证密码\r\n       */\r\n      validation_confirm_password() {\r\n        return this.confirm_password === this.form.password;\r\n      },\r\n    },\r\n    methods: {\r\n      /**\r\n       * 修改密码\r\n       */\r\n      change_password() {\r\n        var form = Object.assign({}, this.form);\r\n\r\n        if (this.form.password === this.confirm_password && this.form.o_password) {\r\n          this.$post(\"~/api/user/change_password?\", form, (res) => {\r\n            if (res.result) {\r\n              //弹出更改成功，3秒后调到主页，退出账户\r\n              this.$store.commit(\"sign_out\");\r\n              this.$router.push(\"/account/login\")\r\n            } else if (res.error) {\r\n              console.log(res.error);\r\n              alert(res.error.message);\r\n            }\r\n          });\r\n        }\r\n      },\r\n    },\r\n    components: {\r\n      list_menu_user,\r\n    },\r\n    mounted() {\r\n      // console.log(this.user);\r\n    },\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .container {\r\n    min-height: 800px;\r\n  }\r\n\r\n  .btn_item {\r\n    cursor: pointer;\r\n    width: 100%;\r\n    background-color: var(--color_primary);\r\n    color: #fff;\r\n    text-align: center;\r\n    height: 48px;\r\n    line-height: 48px;\r\n  }\r\n\r\n  .card_password {\r\n    padding: 10px;\r\n    width: 500px;\r\n    margin: auto;\r\n  }\r\n</style>\r\n"]}]}