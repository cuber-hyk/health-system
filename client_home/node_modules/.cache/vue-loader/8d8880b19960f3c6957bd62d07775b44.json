{"remainingRequest":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-piczoom\\src\\components\\PicZoom.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-piczoom\\src\\components\\PicZoom.vue","mtime":1522905033000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgZXhwb3J0IGRlZmF1bHQgew0KICAgICAgICBwcm9wczp7DQogICAgICAgICAgICBzY2FsZTp7DQogICAgICAgICAgICAgICAgdHlwZTpOdW1iZXIsDQogICAgICAgICAgICAgICAgZGVmYXVsdDoyLjUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB1cmw6ew0KICAgICAgICAgICAgICAgIHR5cGU6U3RyaW5nLA0KICAgICAgICAgICAgICAgIHJlcXVpcmVkOnRydWUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBiaWdVcmw6ew0KICAgICAgICAgICAgICAgIHR5cGU6U3RyaW5nLA0KICAgICAgICAgICAgICAgIGRlZmF1bHQ6bnVsbA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHNjcm9sbDp7DQogICAgICAgICAgICAgICAgdHlwZTpCb29sZWFuLA0KICAgICAgICAgICAgICAgIGRlZmF1bHQ6ZmFsc2UNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBzaG93RWlkdDp7DQogICAgICAgICAgICAgICAgdHlwZTpCb29sZWFuLA0KICAgICAgICAgICAgICAgIGRlZmF1bHQ6ZmFsc2UNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZGF0YSAoKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIGlkOm51bGwsDQogICAgICAgICAgICAgICAgY292ZXI6bnVsbCwNCiAgICAgICAgICAgICAgICBpbWdib3g6bnVsbCwNCiAgICAgICAgICAgICAgICBpbWd3cmFwOm51bGwsDQogICAgICAgICAgICAgICAgb3JnaW5Vcmw6bnVsbCwNCiAgICAgICAgICAgICAgICBiaWdJbWdVcmw6bnVsbCwNCiAgICAgICAgICAgICAgICBiaWdPcmdpblVybDpudWxsLA0KICAgICAgICAgICAgICAgIGltZ1VybDpudWxsLA0KICAgICAgICAgICAgICAgIGltZzpudWxsLA0KICAgICAgICAgICAgICAgIGNhbnZhczpudWxsLA0KICAgICAgICAgICAgICAgIGN0eDpudWxsLA0KICAgICAgICAgICAgICAgIHJlY3RUaW1lc1g6MCwNCiAgICAgICAgICAgICAgICByZWN0VGltZXNZOjAsDQogICAgICAgICAgICAgICAgaW1nVGltZXNYOjAsDQogICAgICAgICAgICAgICAgaW1nVGltZXNZOjAsDQogICAgICAgICAgICAgICAgaW5pdDpmYWxzZSwNCiAgICAgICAgICAgICAgICBzdGVwOjAsDQogICAgICAgICAgICAgICAgYmlnU3RlcDowLA0KICAgICAgICAgICAgICAgIHZlcnRpY2FsOmZhbHNlLA0KICAgICAgICAgICAgICAgIHNob3dJbWc6dHJ1ZQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBjcmVhdGVkKCl7DQogICAgICAgIOOAgOOAgHZhciAkY2hhcnMgPSAnQUJDREVGR0hKS01OUFFSU1RXWFlaYWJjZGVmaGlqa21ucHJzdHd4eXoyMzQ1Njc4JzsgICAgLyoqKirpu5jorqTljrvmjonkuoblrrnmmJPmt7fmt4bnmoTlrZfnrKZvT0xsLDlncSxWdixVdSxJMSoqKiovDQogICAgICAgIOOAgOOAgHZhciBtYXhQb3MgPSAkY2hhcnMubGVuZ3RoOw0KICAgICAgICDjgIDjgIB2YXIgc3RyID0gJyc7DQogICAgICAgIOOAgOOAgGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykgew0KICAgICAgICAgICAgICAgIHN0ciArPSAkY2hhcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1heFBvcykpOw0KICAgICAgICDjgIDjgIB9DQogICAgICAgICAgICB0aGlzLmlkPXN0cg0KICAgICAgICAgICAgdGhpcy5pbWdVcmw9dGhpcy51cmwNCiAgICAgICAgICAgIHRoaXMub3JnaW5Vcmw9dGhpcy51cmwNCiAgICAgICAgICAgIHRoaXMuYmlnSW1nVXJsPXRoaXMuYmlnVXJsDQogICAgICAgICAgICB0aGlzLmJpZ09yZ2luVXJsPXRoaXMuYmlnVXJsDQogICAgICAgIH0sDQogICAgICAgIHdhdGNoOnsNCiAgICAgICAgICAgIHVybDpmdW5jdGlvbih2YWwpew0KICAgICAgICAgICAgICAgIHRoaXMuaW1nVXJsPXZhbA0KICAgICAgICAgICAgICAgIHRoaXMub3JnaW5Vcmw9dmFsDQogICAgICAgICAgICAgICAgdGhpcy5pbml0VGltZSgpDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgYmlnVXJsOmZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgdGhpcy5iaWdJbWdVcmw9YmlnVXJsDQogICAgICAgICAgICAgICAgdGhpcy5iaWdPcmdpblVybD1iaWdVcmwNCiAgICAgICAgICAgICAgICB0aGlzLmluaXRUaW1lKCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgbW91bnRlZCgpew0KICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCk9PnsNCiAgICAgICAgICAgICAgICB0aGlzLmluaXRUaW1lKCkNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIG1ldGhvZHM6IHsNCiAgICAgICAgICAgIGluaXRUaW1lKCl7DQogICAgICAgICAgICAgICAgdGhpcy5pbml0PWZhbHNlDQogICAgICAgICAgICAgICAgbGV0IGJveD10aGlzLiRyZWZzW3RoaXMuaWRdDQogICAgICAgICAgICAgICAgdGhpcy5pbWdib3g9Ym94DQogICAgICAgICAgICAgICAgdGhpcy5jb3Zlcj1ib3gucXVlcnlTZWxlY3RvcignLm1vdXNlLWNvdmVyJykNCiAgICAgICAgICAgICAgICB0aGlzLmNvdmVyLnN0eWxlLndpZHRoPSh0aGlzLmltZ2JveC5vZmZzZXRXaWR0aC90aGlzLnNjYWxlKSsncHgnDQogICAgICAgICAgICAgICAgdGhpcy5jb3Zlci5zdHlsZS5oZWlnaHQ9KHRoaXMuaW1nYm94Lm9mZnNldEhlaWdodC90aGlzLnNjYWxlKSsncHgnDQogICAgICAgICAgICAgICAgdGhpcy5jb3Zlci5zdHlsZS5sZWZ0PSctMTAwJScNCiAgICAgICAgICAgICAgICB0aGlzLmNvdmVyLnN0eWxlLnRvcD0nLTEwMCUnDQogICAgICAgICAgICAgICAgdGhpcy5pbWd3cmFwPWJveC5xdWVyeVNlbGVjdG9yKCdpbWcnKQ0KICAgICAgICAgICAgICAgIGxldCBpbWdzcmM7DQogICAgICAgICAgICAgICAgaWYodGhpcy5iaWdJbWdVcmwpew0KICAgICAgICAgICAgICAgICAgICBpbWdzcmM9dGhpcy5iaWdJbWdVcmwNCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgaW1nc3JjPXRoaXMuaW1nVXJsDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIHRoaXMuaW1nPW5ldyBJbWFnZSgpDQogICAgICAgICAgICAgICAgdGhpcy5pbWcuc3JjPWltZ3NyYw0KICAgICAgICAgICAgICAgIHRoaXMuaW1nLm9ubG9hZD0oKT0+ew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY3RUaW1lc1g9KHRoaXMuaW1nYm94Lm9mZnNldFdpZHRoL3RoaXMuc2NhbGUpL3RoaXMuaW1nd3JhcC5vZmZzZXRXaWR0aCwNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWN0VGltZXNZPSh0aGlzLmltZ2JveC5vZmZzZXRIZWlnaHQvdGhpcy5zY2FsZSkvdGhpcy5pbWd3cmFwLm9mZnNldEhlaWdodA0KICAgICAgICAgICAgICAgICAgICB0aGlzLmltZ1RpbWVzWD10aGlzLmltZy53aWR0aC90aGlzLmltZ3dyYXAub2Zmc2V0V2lkdGgsDQogICAgICAgICAgICAgICAgICAgIHRoaXMuaW1nVGltZXNZPXRoaXMuaW1nLmhlaWdodC90aGlzLmltZ3dyYXAub2Zmc2V0SGVpZ2h0DQogICAgICAgICAgICAgICAgICAgIHRoaXMudmVydGljYWw9dGhpcy5pbWcud2lkdGg8dGhpcy5pbWcuaGVpZ2h0DQogICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdD10cnVlDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKHRoaXMuY2FudmFzKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmNhbnZhcyk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzPW51bGwNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5jYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykNCiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5jbGFzc05hbWU9J21vdXNlLWNvdmVyLWNhbnZhcycNCiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5zdHlsZS5wb3NpdGlvbj0nYWJzb2x1dGUnDQogICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUubGVmdD10aGlzLmltZ2JveC5vZmZzZXRMZWZ0K3RoaXMuaW1nYm94Lm9mZnNldFdpZHRoKzEwKydweCcNCiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5zdHlsZS50b3A9dGhpcy5pbWdib3gub2Zmc2V0VG9wKydweCcNCiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5zdHlsZS5ib3JkZXI9JzFweCBzb2xpZCAjZWVlJw0KICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLnpJbmRleD0nOTk5OTknDQogICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0PXRoaXMuaW1nYm94Lm9mZnNldEhlaWdodA0KICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLndpZHRoPXRoaXMuaW1nYm94Lm9mZnNldFdpZHRoDQogICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUuZGlzcGxheT0nbm9uZScNCiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZCh0aGlzLmNhbnZhcykNCiAgICAgICAgICAgICAgICB0aGlzLmN0eD10aGlzLmNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOw0KICAgICAgICAgICAgICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLDAsdGhpcy5jYW52YXMud2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0KTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBpbml0Qm94KCl7DQogICAgICAgICAgICAgICAgdGhpcy5zaG93SW1nPWZhbHNlDQogICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUuZGlzcGxheT0nbm9uZScNCiAgICAgICAgICAgICAgICBsZXQgYm94PXRoaXMuJHJlZnNbdGhpcy5pZF0NCiAgICAgICAgICAgICAgICBsZXQgaW1nc3JjOw0KICAgICAgICAgICAgICAgIGlmKHRoaXMuYmlnSW1nVXJsKXsNCiAgICAgICAgICAgICAgICAgICAgaW1nc3JjPXRoaXMuYmlnSW1nVXJsDQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgIGltZ3NyYz10aGlzLmltZ1VybA0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5pbWc9bmV3IEltYWdlKCkNCiAgICAgICAgICAgICAgICB0aGlzLmltZy5zcmM9aW1nc3JjDQogICAgICAgICAgICAgICAgdGhpcy5pbWcub25sb2FkPSgpPT57DQogICAgICAgICAgICAgICAgICAgIHRoaXMudmVydGljYWw9dGhpcy5pbWcud2lkdGg8dGhpcy5pbWcuaGVpZ2h0DQogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0ltZz10cnVlDQogICAgICAgICAgICAgICAgICAgIGxldCB0aHVtYj1ib3gucXVlcnlTZWxlY3RvcignaW1nJykNCiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY3RUaW1lc1g9KHRoaXMuaW1nYm94Lm9mZnNldFdpZHRoL3RoaXMuc2NhbGUpL2JveC5xdWVyeVNlbGVjdG9yKCdpbWcnKS5vZmZzZXRXaWR0aCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVjdFRpbWVzWT0odGhpcy5pbWdib3gub2Zmc2V0SGVpZ2h0L3RoaXMuc2NhbGUpL2JveC5xdWVyeVNlbGVjdG9yKCdpbWcnKS5vZmZzZXRIZWlnaHQNCiAgICAgICAgICAgICAgICAgICAgfSwgMjApOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBtb3VzZW1vdmUoZSl7DQogICAgICAgICAgICAgICAgaWYoIXRoaXMuaW5pdCl7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBsZXQgX3RoaXM9dGhpcw0KICAgICAgICAgICAgICAgIC8v6I635Y+W5a6e6ZmF55qEb2Zmc2V0DQogICAgICAgICAgICAgICAgZnVuY3Rpb24gb2Zmc2V0KGN1ckVsZSl7DQogICAgICAgICAgICAgICAgICAgIHZhciB0b3RhbExlZnQgPSBudWxsLHRvdGFsVG9wID0gbnVsbCxwYXIgPSBjdXJFbGUub2Zmc2V0UGFyZW50Ow0KICAgICAgICAgICAgICAgICAgICAvL+mmluWFiOWKoOiHquW3seacrOi6q+eahOW3puWBj+enu+WSjOS4iuWBj+enuw0KICAgICAgICAgICAgICAgICAgICB0b3RhbExlZnQrPWN1ckVsZS5vZmZzZXRMZWZ0Ow0KICAgICAgICAgICAgICAgICAgICB0b3RhbFRvcCs9Y3VyRWxlLm9mZnNldFRvcA0KICAgICAgICAgICAgICAgICAgICAvL+WPquimgeayoeacieaJvuWIsGJvZHnvvIzmiJHku6zlsLHmiorniLbnuqflj4LnhafniannmoTovrnmoYblkozlgY/np7vkuZ/ov5vooYzntK/liqANCiAgICAgICAgICAgICAgICAgICAgd2hpbGUocGFyKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSA4LjAiKT09PS0xKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v57Sv5Yqg54i257qn5Y+C54Wn54mp55qE6L655qGGDQogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbExlZnQrPXBhci5jbGllbnRMZWZ0Ow0KICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxUb3ArPXBhci5jbGllbnRUb3ANCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgLy/ntK/liqDniLbnuqflj4LnhafnianmnKzouqvnmoTlgY/np7sNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsTGVmdCs9cGFyLm9mZnNldExlZnQ7DQogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFRvcCs9cGFyLm9mZnNldFRvcA0KICAgICAgICAgICAgICAgICAgICAgICAgcGFyID0gcGFyLm9mZnNldFBhcmVudDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICByZXR1cm57DQogICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OnRvdGFsTGVmdCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDp0b3RhbFRvcA0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0WFkoZXZlKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgICAgICB4IDogZXZlLmNsaWVudFggLShfdGhpcy5jb3Zlci5vZmZzZXRXaWR0aC8yKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHkgOiBldmUuY2xpZW50WS0oX3RoaXMuY292ZXIub2Zmc2V0SGVpZ2h0LzIpIA0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBsZXQgb0V2ZW50ID0gZSB8fCBldmVudDsNCiAgICAgICAgICAgICAgICBsZXQgcG9zID0gZ2V0WFkob0V2ZW50KTsNCiAgICAgICAgICAgICAgICBsZXQgaW1nd3JhcD1vZmZzZXQodGhpcy5pbWd3cmFwKQ0KICAgICAgICAgICAgICAgIGxldCByYW5nZT17DQogICAgICAgICAgICAgICAgICAgIG1pblg6aW1nd3JhcC5sZWZ0LA0KICAgICAgICAgICAgICAgICAgICBtYXhYOmltZ3dyYXAubGVmdCt0aGlzLmltZ3dyYXAub2Zmc2V0V2lkdGgtdGhpcy5jb3Zlci5vZmZzZXRXaWR0aCwNCiAgICAgICAgICAgICAgICAgICAgbWluWTppbWd3cmFwLnRvcC1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLA0KICAgICAgICAgICAgICAgICAgICBtYXhZOmltZ3dyYXAudG9wLWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ArdGhpcy5pbWd3cmFwLm9mZnNldEhlaWdodC10aGlzLmNvdmVyLm9mZnNldEhlaWdodCwNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYocG9zLng+cmFuZ2UubWF4WCl7DQogICAgICAgICAgICAgICAgICAgIHBvcy54PXJhbmdlLm1heFgNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYocG9zLng8cmFuZ2UubWluWCl7DQogICAgICAgICAgICAgICAgICAgIHBvcy54PXJhbmdlLm1pblgNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYocG9zLnk+cmFuZ2UubWF4WSl7DQogICAgICAgICAgICAgICAgICAgIHBvcy55PXJhbmdlLm1heFkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYocG9zLnk8cmFuZ2UubWluWSl7DQogICAgICAgICAgICAgICAgICAgIHBvcy55PXJhbmdlLm1pblkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5jb3Zlci5zdHlsZS5sZWZ0PXBvcy54KydweCcNCiAgICAgICAgICAgICAgICB0aGlzLmNvdmVyLnN0eWxlLnRvcD1wb3MueSsncHgnDQogICAgICAgICAgICAgICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsMCx0aGlzLmltZ3dyYXAub2Zmc2V0V2lkdGgsdGhpcy5pbWd3cmFwLm9mZnNldEhlaWdodCk7DQogICAgICAgICAgICAgICAgbGV0IHN0YXJ0WD1wb3MueC0oaW1nd3JhcC5sZWZ0LWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0KSwNCiAgICAgICAgICAgICAgICBzdGFydFk9cG9zLnktKGltZ3dyYXAudG9wLWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApDQogICAgICAgICAgICAgICAgdGhpcy5jdHguZHJhd0ltYWdlKHRoaXMuaW1nLHN0YXJ0WCp0aGlzLmltZ1RpbWVzWCxzdGFydFkqdGhpcy5pbWdUaW1lc1ksdGhpcy5pbWcud2lkdGgqdGhpcy5yZWN0VGltZXNYLHRoaXMuaW1nLmhlaWdodCp0aGlzLnJlY3RUaW1lc1ksMCwwLHRoaXMuaW1nYm94Lm9mZnNldFdpZHRoLHRoaXMuaW1nYm94Lm9mZnNldEhlaWdodCk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgbW91c2VvdmVyKGUpew0KICAgICAgICAgICAgICAgIGlmKCF0aGlzLmluaXQpew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZT1lfHxldmVudA0KICAgICAgICAgICAgICAgIGlmKCF0aGlzLnNjcm9sbCl7DQogICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZXdoZWVsIixmdW5jdGlvbihldil7DQogICAgICAgICAgICAgICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgICAgICAgICB9LGZhbHNlKTsNCg0KICAgICAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NTW91c2VTY3JvbGwiLGZ1bmN0aW9uKGV2KXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgICAgICAgICAgIH0sZmFsc2UpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICB0aGlzLmNvdmVyLnN0eWxlLmRpc3BsYXk9J2Jsb2NrJw0KICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLmRpc3BsYXk9J2Jsb2NrJw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIG1vdXNlbGVhdmUoKXsNCiAgICAgICAgICAgICAgICBpZighdGhpcy5pbml0KXsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuY292ZXIuc3R5bGUuZGlzcGxheT0nbm9uZScNCiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5zdHlsZS5kaXNwbGF5PSdub25lJw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHJvdGF0ZShkaXJlY3Rpb24pew0KICAgICAgICAgICAgICAgIHZhciBvcmdpbkltZz1uZXcgSW1hZ2UoKQ0KICAgICAgICAgICAgICAgIG9yZ2luSW1nLmNyb3NzT3JpZ2luID0gIkFub255bW91cyI7DQogICAgICAgICAgICAgICAgb3JnaW5JbWcuc3JjPXRoaXMub3JnaW5VcmwNCiAgICAgICAgICAgICAgICBvcmdpbkltZy5vbmxvYWQ9KCk9PnsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVJbWcob3JnaW5JbWcsZGlyZWN0aW9uLHRoaXMuc3RlcCkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYodGhpcy5iaWdPcmdpblVybCl7DQogICAgICAgICAgICAgICAgICAgIHZhciBiaWdPcmdpbkltZz1uZXcgSW1hZ2UoKQ0KICAgICAgICAgICAgICAgICAgICBvcmdpbkltZy5jcm9zc09yaWdpbiA9ICJBbm9ueW1vdXMiOw0KICAgICAgICAgICAgICAgICAgICBiaWdPcmdpbkltZy5zcmM9dGhpcy5iaWdPcmdpblVybA0KICAgICAgICAgICAgICAgICAgICBiaWdPcmdpbkltZy5vbmxvYWQ9KCk9PnsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm90YXRlSW1nKGJpZ09yZ2luSW1nLGRpcmVjdGlvbix0aGlzLmJpZ1N0ZXAsdHJ1ZSkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICByb3RhdGVJbWcoaW1nLGRpcmVjdGlvbixzdGVwLGlzQmlnPWZhbHNlKXsNCiAgICAgICAgICAgICAgICB2YXIgbWluX3N0ZXAgPSAwOw0KICAgICAgICAgICAgICAgIHZhciBtYXhfc3RlcCA9IDM7DQogICAgICAgICAgICAgICAgaWYgKGltZyA9PSBudWxsKSByZXR1cm47DQogICAgICAgICAgICAgICAgLy9pbWfnmoTpq5jluqblkozlrr3luqbkuI3og73lnKhpbWflhYPntKDpmpDol4/lkI7ojrflj5bvvIzlkKbliJnkvJrlh7rplJkgICAgDQogICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IGltZy5oZWlnaHQ7DQogICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gaW1nLndpZHRoOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGlmIChzdGVwID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgc3RlcCA9IG1pbl9zdGVwOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09ICdyaWdodCcpIHsNCiAgICAgICAgICAgICAgICAgICAgc3RlcCsrOw0KICAgICAgICAgICAgICAgICAgICAvL+aXi+i9rOWIsOWOn+S9jee9ru+8jOWNs+i2hei/h+acgOWkp+WAvCAgICANCiAgICAgICAgICAgICAgICAgICAgc3RlcCA+IG1heF9zdGVwICYmIChzdGVwID0gbWluX3N0ZXApOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHN0ZXAtLTsNCiAgICAgICAgICAgICAgICAgICAgc3RlcCA8IG1pbl9zdGVwICYmIChzdGVwID0gbWF4X3N0ZXApOw0KICAgICAgICAgICAgICAgIH0gICANCiAgICAgICAgICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykgIA0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIC8v5peL6L2s6KeS5bqm5Lul5byn5bqm5YC85Li65Y+C5pWwICAgIA0KICAgICAgICAgICAgICAgIHZhciBkZWdyZWUgPSBzdGVwICogOTAgKiBNYXRoLlBJIC8gMTgwOw0KICAgICAgICAgICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsNCiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSBoZWlnaHQ7DQogICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHdpZHRoOw0KICAgICAgICAgICAgICAgIGN0eC5yb3RhdGUoZGVncmVlKTsNCiAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgLWhlaWdodCk7DQogICAgICAgICAgICAgICAgc3dpdGNoIChzdGVwKSB7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgMDoNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoOw0KICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICBjYXNlIDE6DQogICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSBoZWlnaHQ7DQogICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gd2lkdGg7DQogICAgICAgICAgICAgICAgICAgICAgICBjdHgucm90YXRlKGRlZ3JlZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgLWhlaWdodCk7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOg0KICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7DQogICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0Ow0KICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnJvdGF0ZShkZWdyZWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIC13aWR0aCwgLWhlaWdodCk7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOg0KICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gaGVpZ2h0Ow0KICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHdpZHRoOw0KICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnJvdGF0ZShkZWdyZWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIC13aWR0aCwgMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdmFyIG5ld0ltZz1jYW52YXMudG9EYXRhVVJMKCkNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBpZihpc0JpZyl7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuYmlnSW1nVXJsPW5ld0ltZw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmJpZ1N0ZXA9c3RlcA0KICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRCb3goKQ0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmltZ1VybD1uZXdJbWcNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGVwPXN0ZXANCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCk9PnsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdEJveCgpDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgfQ0KICAgIH0NCg=="},{"version":3,"sources":["PicZoom.vue"],"names":[],"mappings":";AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PicZoom.vue","sourceRoot":"node_modules/vue-piczoom/src/components","sourcesContent":["<template>\r\n    <div class=\"magnifier-box\" :class=\"vertical?'vertical':''\" :ref=\"id\" @mousemove=\"mousemove\" @mouseover=\"mouseover\" @mouseleave=\"mouseleave\">\r\n        <img v-show=\"showImg\" :src=\"imgUrl\" alt=\"\">\r\n        <div class=\"mouse-cover\"></div>\r\n        <div class=\"edit-wrap\" v-if=\"showEidt\">\r\n            <span class=\"rotate-left\" @click=\"rotate('left')\"></span>\r\n            <span class=\"rotate-right\" @click=\"rotate('right')\"></span>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        props:{\r\n            scale:{\r\n                type:Number,\r\n                default:2.5\r\n            },\r\n            url:{\r\n                type:String,\r\n                required:true\r\n            },\r\n            bigUrl:{\r\n                type:String,\r\n                default:null\r\n            },\r\n            scroll:{\r\n                type:Boolean,\r\n                default:false\r\n            },\r\n            showEidt:{\r\n                type:Boolean,\r\n                default:false\r\n            }\r\n        },\r\n        data () {\r\n            return {\r\n                id:null,\r\n                cover:null,\r\n                imgbox:null,\r\n                imgwrap:null,\r\n                orginUrl:null,\r\n                bigImgUrl:null,\r\n                bigOrginUrl:null,\r\n                imgUrl:null,\r\n                img:null,\r\n                canvas:null,\r\n                ctx:null,\r\n                rectTimesX:0,\r\n                rectTimesY:0,\r\n                imgTimesX:0,\r\n                imgTimesY:0,\r\n                init:false,\r\n                step:0,\r\n                bigStep:0,\r\n                vertical:false,\r\n                showImg:true\r\n            }\r\n        },\r\n        created(){\r\n        　　var $chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678';    /****默认去掉了容易混淆的字符oOLl,9gq,Vv,Uu,I1****/\r\n        　　var maxPos = $chars.length;\r\n        　　var str = '';\r\n        　　for (let i = 0; i < 10; i++) {\r\n                str += $chars.charAt(Math.floor(Math.random() * maxPos));\r\n        　　}\r\n            this.id=str\r\n            this.imgUrl=this.url\r\n            this.orginUrl=this.url\r\n            this.bigImgUrl=this.bigUrl\r\n            this.bigOrginUrl=this.bigUrl\r\n        },\r\n        watch:{\r\n            url:function(val){\r\n                this.imgUrl=val\r\n                this.orginUrl=val\r\n                this.initTime()\r\n            },\r\n            bigUrl:function(){\r\n                this.bigImgUrl=bigUrl\r\n                this.bigOrginUrl=bigUrl\r\n                this.initTime()\r\n            }\r\n        },\r\n        mounted(){\r\n            this.$nextTick(()=>{\r\n                this.initTime()\r\n            })\r\n        },\r\n        methods: {\r\n            initTime(){\r\n                this.init=false\r\n                let box=this.$refs[this.id]\r\n                this.imgbox=box\r\n                this.cover=box.querySelector('.mouse-cover')\r\n                this.cover.style.width=(this.imgbox.offsetWidth/this.scale)+'px'\r\n                this.cover.style.height=(this.imgbox.offsetHeight/this.scale)+'px'\r\n                this.cover.style.left='-100%'\r\n                this.cover.style.top='-100%'\r\n                this.imgwrap=box.querySelector('img')\r\n                let imgsrc;\r\n                if(this.bigImgUrl){\r\n                    imgsrc=this.bigImgUrl\r\n                }else{\r\n                    imgsrc=this.imgUrl\r\n                }\r\n                \r\n                this.img=new Image()\r\n                this.img.src=imgsrc\r\n                this.img.onload=()=>{\r\n                    this.rectTimesX=(this.imgbox.offsetWidth/this.scale)/this.imgwrap.offsetWidth,\r\n                    this.rectTimesY=(this.imgbox.offsetHeight/this.scale)/this.imgwrap.offsetHeight\r\n                    this.imgTimesX=this.img.width/this.imgwrap.offsetWidth,\r\n                    this.imgTimesY=this.img.height/this.imgwrap.offsetHeight\r\n                    this.vertical=this.img.width<this.img.height\r\n                    this.init=true\r\n                }\r\n                if(this.canvas){\r\n                    this.canvas.parentNode.removeChild(this.canvas);\r\n                    this.canvas=null\r\n                }\r\n                this.canvas=document.createElement('canvas')\r\n                this.canvas.className='mouse-cover-canvas'\r\n                this.canvas.style.position='absolute'\r\n                this.canvas.style.left=this.imgbox.offsetLeft+this.imgbox.offsetWidth+10+'px'\r\n                this.canvas.style.top=this.imgbox.offsetTop+'px'\r\n                this.canvas.style.border='1px solid #eee'\r\n                this.canvas.style.zIndex='99999'\r\n                this.canvas.height=this.imgbox.offsetHeight\r\n                this.canvas.width=this.imgbox.offsetWidth\r\n                this.canvas.style.display='none'\r\n                document.body.append(this.canvas)\r\n                this.ctx=this.canvas.getContext(\"2d\");\r\n                this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);\r\n            },\r\n            initBox(){\r\n                this.showImg=false\r\n                this.canvas.style.display='none'\r\n                let box=this.$refs[this.id]\r\n                let imgsrc;\r\n                if(this.bigImgUrl){\r\n                    imgsrc=this.bigImgUrl\r\n                }else{\r\n                    imgsrc=this.imgUrl\r\n                    \r\n                }\r\n                this.img=new Image()\r\n                this.img.src=imgsrc\r\n                this.img.onload=()=>{\r\n                    this.vertical=this.img.width<this.img.height\r\n                    this.showImg=true\r\n                    let thumb=box.querySelector('img')\r\n                    setTimeout(() => {\r\n                        this.rectTimesX=(this.imgbox.offsetWidth/this.scale)/box.querySelector('img').offsetWidth,\r\n                        this.rectTimesY=(this.imgbox.offsetHeight/this.scale)/box.querySelector('img').offsetHeight\r\n                    }, 20);\r\n                }\r\n                \r\n            },\r\n            mousemove(e){\r\n                if(!this.init){\r\n                    return false\r\n                }\r\n                let _this=this\r\n                //获取实际的offset\r\n                function offset(curEle){\r\n                    var totalLeft = null,totalTop = null,par = curEle.offsetParent;\r\n                    //首先加自己本身的左偏移和上偏移\r\n                    totalLeft+=curEle.offsetLeft;\r\n                    totalTop+=curEle.offsetTop\r\n                    //只要没有找到body，我们就把父级参照物的边框和偏移也进行累加\r\n                    while(par){\r\n                        if(navigator.userAgent.indexOf(\"MSIE 8.0\")===-1){\r\n                        //累加父级参照物的边框\r\n                        totalLeft+=par.clientLeft;\r\n                        totalTop+=par.clientTop\r\n                        }\r\n                        \r\n                        //累加父级参照物本身的偏移\r\n                        totalLeft+=par.offsetLeft;\r\n                        totalTop+=par.offsetTop\r\n                        par = par.offsetParent;\r\n                    }\r\n                \r\n                    return{\r\n                        left:totalLeft,\r\n                        top:totalTop\r\n                    }\r\n                }\r\n\r\n                function getXY(eve) {\r\n                    return {\r\n                        x : eve.clientX -(_this.cover.offsetWidth/2),\r\n                        y : eve.clientY-(_this.cover.offsetHeight/2) \r\n                    };\r\n                }\r\n                let oEvent = e || event;\r\n                let pos = getXY(oEvent);\r\n                let imgwrap=offset(this.imgwrap)\r\n                let range={\r\n                    minX:imgwrap.left,\r\n                    maxX:imgwrap.left+this.imgwrap.offsetWidth-this.cover.offsetWidth,\r\n                    minY:imgwrap.top-document.documentElement.scrollTop,\r\n                    maxY:imgwrap.top-document.documentElement.scrollTop+this.imgwrap.offsetHeight-this.cover.offsetHeight,\r\n                }\r\n                if(pos.x>range.maxX){\r\n                    pos.x=range.maxX\r\n                }\r\n                if(pos.x<range.minX){\r\n                    pos.x=range.minX\r\n                }\r\n                if(pos.y>range.maxY){\r\n                    pos.y=range.maxY\r\n                }\r\n                if(pos.y<range.minY){\r\n                    pos.y=range.minY\r\n                }\r\n                this.cover.style.left=pos.x+'px'\r\n                this.cover.style.top=pos.y+'px'\r\n                this.ctx.clearRect(0,0,this.imgwrap.offsetWidth,this.imgwrap.offsetHeight);\r\n                let startX=pos.x-(imgwrap.left-document.documentElement.scrollLeft),\r\n                startY=pos.y-(imgwrap.top-document.documentElement.scrollTop)\r\n                this.ctx.drawImage(this.img,startX*this.imgTimesX,startY*this.imgTimesY,this.img.width*this.rectTimesX,this.img.height*this.rectTimesY,0,0,this.imgbox.offsetWidth,this.imgbox.offsetHeight);\r\n                \r\n            },\r\n            mouseover(e){\r\n                if(!this.init){\r\n                    return false\r\n                }\r\n                e=e||event\r\n                if(!this.scroll){\r\n                    e.currentTarget.addEventListener(\"mousewheel\",function(ev){\r\n                        ev.preventDefault();\r\n                    },false);\r\n\r\n                    e.currentTarget.addEventListener(\"DOMMouseScroll\",function(ev){\r\n                        ev.preventDefault();\r\n                    },false);\r\n                }\r\n                \r\n                this.cover.style.display='block'\r\n                this.canvas.style.display='block'\r\n            },\r\n            mouseleave(){\r\n                if(!this.init){\r\n                    return false\r\n                }\r\n                this.cover.style.display='none'\r\n                this.canvas.style.display='none'\r\n            },\r\n            rotate(direction){\r\n                var orginImg=new Image()\r\n                orginImg.crossOrigin = \"Anonymous\";\r\n                orginImg.src=this.orginUrl\r\n                orginImg.onload=()=>{\r\n                    this.rotateImg(orginImg,direction,this.step)\r\n                }\r\n                if(this.bigOrginUrl){\r\n                    var bigOrginImg=new Image()\r\n                    orginImg.crossOrigin = \"Anonymous\";\r\n                    bigOrginImg.src=this.bigOrginUrl\r\n                    bigOrginImg.onload=()=>{\r\n                        this.rotateImg(bigOrginImg,direction,this.bigStep,true)\r\n                    }\r\n                }\r\n                \r\n            },\r\n            rotateImg(img,direction,step,isBig=false){\r\n                var min_step = 0;\r\n                var max_step = 3;\r\n                if (img == null) return;\r\n                //img的高度和宽度不能在img元素隐藏后获取，否则会出错    \r\n                var height = img.height;\r\n                var width = img.width;\r\n                \r\n                if (step == null) {\r\n                    step = min_step;\r\n                }\r\n                if (direction == 'right') {\r\n                    step++;\r\n                    //旋转到原位置，即超过最大值    \r\n                    step > max_step && (step = min_step);\r\n                } else {\r\n                    step--;\r\n                    step < min_step && (step = max_step);\r\n                }   \r\n                var canvas = document.createElement('canvas')  \r\n                \r\n                //旋转角度以弧度值为参数    \r\n                var degree = step * 90 * Math.PI / 180;\r\n                var ctx = canvas.getContext('2d');\r\n                canvas.width = height;\r\n                canvas.height = width;\r\n                ctx.rotate(degree);\r\n                ctx.drawImage(img, 0, -height);\r\n                switch (step) {\r\n                    case 0:\r\n                        canvas.width = width;\r\n                        canvas.height = height;\r\n                        ctx.drawImage(img, 0, 0);\r\n                        break;\r\n                    case 1:\r\n                        canvas.width = height;\r\n                        canvas.height = width;\r\n                        ctx.rotate(degree);\r\n                        ctx.drawImage(img, 0, -height);\r\n                        break;\r\n                    case 2:\r\n                        canvas.width = width;\r\n                        canvas.height = height;\r\n                        ctx.rotate(degree);\r\n                        ctx.drawImage(img, -width, -height);\r\n                        break;\r\n                    case 3:\r\n                        canvas.width = height;\r\n                        canvas.height = width;\r\n                        ctx.rotate(degree);\r\n                        ctx.drawImage(img, -width, 0);\r\n                        break;\r\n                }\r\n                var newImg=canvas.toDataURL()\r\n                \r\n                if(isBig){\r\n                    this.bigImgUrl=newImg\r\n                    this.bigStep=step\r\n                    this.initBox()\r\n                }else{\r\n                    this.imgUrl=newImg\r\n                    this.step=step\r\n                    this.$nextTick(()=>{\r\n                        this.initBox()\r\n                    })\r\n                }\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .magnifier-box{\r\n        width: 100%;\r\n        height: 100%;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        overflow: hidden;\r\n        position: relative;\r\n        .edit-wrap{\r\n            position: absolute;\r\n            top: 5px;\r\n            right: 0;\r\n            z-index: 9999999;\r\n            background: rgba(0,0,0,0.4);\r\n            padding: 5px 15px 0 15px;\r\n            border-radius: 15px;\r\n            .rotate-left{\r\n                display: inline-block;\r\n                cursor: pointer;\r\n                width: 16px;\r\n                height: 16px;\r\n                background: url(../rotate.png);\r\n                background-size: 100% 100%;\r\n                -moz-transform:scaleX(-1);\r\n                -webkit-transform:scaleX(-1);\r\n                -o-transform:scaleX(-1);\r\n                transform:scaleX(-1);\r\n                /*IE*/\r\n                filter:FlipH;\r\n            }\r\n            .rotate-right{\r\n                margin-left: 10px;\r\n                cursor: pointer;\r\n                display: inline-block;\r\n                width: 16px;\r\n                height: 16px;\r\n                background: url(../rotate.png);\r\n                background-size: 100% 100%;\r\n            }\r\n        }\r\n        img{\r\n            width: 100%;\r\n        };\r\n        .mouse-cover{\r\n            position: fixed;\r\n            background-color: rgba(0,0,0,0.5);\r\n            cursor:move\r\n        };\r\n        .mouse-cover-canvas{\r\n            position:fixed;\r\n            left:100%;\r\n            top:0;\r\n            width:100%;\r\n            height:100%;\r\n        }\r\n        &.vertical{\r\n            img{\r\n                height: 100%;\r\n                width: auto\r\n            }\r\n        }\r\n    }\r\n</style>\r\n\r\n"]}]}