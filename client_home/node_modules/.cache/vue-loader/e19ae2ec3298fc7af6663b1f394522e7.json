{"remainingRequest":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\views\\search\\details.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\views\\search\\details.vue","mtime":1657768166000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBtaXhpbiBmcm9tICJAL21peGlucy9wYWdlLmpzIjsKaW1wb3J0IGxpc3RfcmVzdWx0X3NlYXJjaCBmcm9tICJAL2NvbXBvbmVudHMvZGl5L2xpc3RfcmVzdWx0X3NlYXJjaC52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW21peGluXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcXVlcnk6IHsKICAgICAgICB3b3JkOiAiIiwKICAgICAgICBzZWFyY2hfa2V5OiAiIiwKICAgICAgICBzZWFyY2hfdHlwZTogIiIsCiAgICAgICAgc2VhcmNoX3RpdGxlOiAiIiwKICAgICAgfSwKICAgICAgc2VhcmNoX3ZhbDogIiIsCiAgICAgIGxpc3RfcmVzdWx0OiBbXSwKICAgICAgcGFnZV9yZXN1bHQ6IDEsCiAgICAgIHNpemU6IDEwLAogICAgICBjb3VudDogMCwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioKICAgICAqICDojrflvpfnu5PmnpwKICAgICAqICovCiAgICBnZXRfcmVzdWx0KHBhZ2VfcmVzdWx0ID0gMSkgewogICAgICBpZiAod29yZCA9PSAiIikgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgcGFyYW1zID0ge307CiAgICAgIHZhciB7IHdvcmQsIHNlYXJjaF9rZXksIHNlYXJjaF90eXBlIH0gPSB0aGlzLnF1ZXJ5OwogICAgICBwYXJhbXNbc2VhcmNoX2tleV0gPSB3b3JkOwogICAgICBwYXJhbXMucGFnZSA9IHBhZ2VfcmVzdWx0OwogICAgICBwYXJhbXMuc2l6ZSA9IHRoaXMuc2l6ZTsKICAgICAgdGhpcy4kZ2V0KCJ+L2FwaS8iICsgc2VhcmNoX3R5cGUgKyAiL2dldF9saXN0P2xpa2U9MCIsIHBhcmFtcywgKHJlcykgPT4gewogICAgICAgIGlmIChyZXMucmVzdWx0KSB7CiAgICAgICAgICB2YXIgbGlzdF9yZXN1bHQgPSByZXMucmVzdWx0Lmxpc3QgfHwgW107CiAgICAgICAgICBsaXN0X3Jlc3VsdC5tYXAoKG8pID0+IHsKICAgICAgICAgICAgdmFyIHRpdGxlID0gb1tzZWFyY2hfa2V5XTsKICAgICAgICAgICAgby50aXRsZSA9dGl0bGU7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMubGlzdF9yZXN1bHQgPSBsaXN0X3Jlc3VsdAogICAgICAgICAgdGhpcy5jb3VudCA9IHJlcy5yZXN1bHQuY291bnQ7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvKioKICAgICAqICDot7PovawKICAgICAqICovCiAgICBqdW1wVG8ocGFnZV9yZXN1bHQpIHsKICAgICAgdGhpcy5nZXRfcmVzdWx0KHBhZ2VfcmVzdWx0KTsKICAgIH0sCgogICAgLyoqCiAgICAgKiAg5pCc57SiCiAgICAgKiAqLwogICAgc3VibWl0X3NlYXJjaCgpIHsKICAgICAgdGhpcy5xdWVyeS53b3JkID0gdGhpcy5zZWFyY2hfdmFsCiAgICAgIHRoaXMuZ2V0X3Jlc3VsdCgpOwogICAgfSwKICAgIC8qKgogICAgICogIOiOt+WPluWcsOWdgOagj+WPguaVsAogICAgICogKi8KICAgIGdldFF1ZXJ5UGFyYW1zKCl7CiAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMucXVlcnkpIHsKICAgICAgICB0aGlzLnF1ZXJ5W2tleV0gPSB0aGlzLiRyb3V0ZS5xdWVyeVtrZXldCiAgICAgIH0KICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsgbGlzdF9yZXN1bHRfc2VhcmNoIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0UXVlcnlQYXJhbXMoKTsKICAgIHRoaXMuZ2V0X3Jlc3VsdCgpOwogIH0sCn07Cg=="},{"version":3,"sources":["details.vue"],"names":[],"mappings":";AA4CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"details.vue","sourceRoot":"src/views/search","sourcesContent":["<template>\n  <div class=\"page_search\">\n    <div class=\"warp\">\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-12\">\n            <div class=\"card_result_search\">\n              <div class=\"title\">搜索结果</div>\n\n              <!-- 搜索栏 -->\n              <div class=\"search_box\">\n                <b-form-input\n                  size=\"sm\"\n                  class=\"mr-sm-2\"\n                  :placeholder=\"'继续搜索'+query.search_title\"\n                  v-model.trim=\"search_val\"\n                  @keyup.enter=\"submit_search\"\n                ></b-form-input>\n                <b-button size=\"sm\" @click=\"submit_search\"\n                  ><b-icon icon=\"search\"></b-icon\n                ></b-button>\n              </div>\n              <list_result_search\n                :list=\"list_result\"\n                :title=\"this.query.source_title\"\n                :source_table=\"this.query.search_type\"\n              ></list_result_search>\n              <div class=\"pager\">\n                <b-pagination\n                  v-model=\"page_result\"\n                  :total-rows=\"count\"\n                  :per-page=\"size\"\n                  @change=\"jumpTo\"\n                ></b-pagination>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport mixin from \"@/mixins/page.js\";\nimport list_result_search from \"@/components/diy/list_result_search.vue\";\n\nexport default {\n  mixins: [mixin],\n  data() {\n    return {\n      query: {\n        word: \"\",\n        search_key: \"\",\n        search_type: \"\",\n        search_title: \"\",\n      },\n      search_val: \"\",\n      list_result: [],\n      page_result: 1,\n      size: 10,\n      count: 0,\n    };\n  },\n  methods: {\n    /**\n     *  获得结果\n     * */\n    get_result(page_result = 1) {\n      if (word == \"\") {\n        return;\n      }\n      var params = {};\n      var { word, search_key, search_type } = this.query;\n      params[search_key] = word;\n      params.page = page_result;\n      params.size = this.size;\n      this.$get(\"~/api/\" + search_type + \"/get_list?like=0\", params, (res) => {\n        if (res.result) {\n          var list_result = res.result.list || [];\n          list_result.map((o) => {\n            var title = o[search_key];\n            o.title =title;\n          });\n          this.list_result = list_result\n          this.count = res.result.count;\n        }\n      });\n    },\n    /**\n     *  跳转\n     * */\n    jumpTo(page_result) {\n      this.get_result(page_result);\n    },\n\n    /**\n     *  搜索\n     * */\n    submit_search() {\n      this.query.word = this.search_val\n      this.get_result();\n    },\n    /**\n     *  获取地址栏参数\n     * */\n    getQueryParams(){\n      for (const key in this.query) {\n        this.query[key] = this.$route.query[key]\n      }\n    }\n  },\n  components: { list_result_search },\n  mounted() {\n    this.getQueryParams();\n    this.get_result();\n  },\n};\n</script>\n\n<style scoped>\n.card_search {\n  text-align: center;\n}\n.card_result_search > .title {\n  text-align: center;\n  padding: 10px 0;\n}\n.pager {\n  display: flex;\n  justify-content: center;\n}\n.search_box {\n  display: flex;\n  margin-bottom: 1rem;\n}\n</style>\n"]}]}