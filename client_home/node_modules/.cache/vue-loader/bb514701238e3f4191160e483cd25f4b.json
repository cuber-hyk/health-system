{"remainingRequest":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\src\\components\\diy\\form_address.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\src\\components\\diy\\form_address.vue","mtime":1675233590000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgaW1wb3J0IG1peGluIGZyb20gIkAvbWl4aW5zL3BhZ2UuanMiOw0KDQogICAgZXhwb3J0IGRlZmF1bHQgew0KICAgICAgICBtaXhpbnM6IFttaXhpbl0sDQogICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICBkYXRhOiB7DQogICAgICAgICAgICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHt9LA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIC8vIHZtOiB7DQogICAgICAgICAgICAvLyAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgICAgICAgLy8gICAgIGRlZmF1bHQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIC8vICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIC8vICAgICAgICAgICAgIGFkZHJlc3M6ICJhZGRyZXNzIiwNCiAgICAgICAgICAgIC8vICAgICAgICAgICAgIGFkZHJlc3NfaWQ6ICJhZGRyZXNzX2lkIiwNCiAgICAgICAgICAgIC8vICAgICAgICAgICAgIG5hbWU6ICJuYW1lIiwNCiAgICAgICAgICAgIC8vICAgICAgICAgICAgIHBob25lOiAicGhvbmUiLA0KICAgICAgICAgICAgLy8gICAgICAgICB9Ow0KICAgICAgICAgICAgLy8gICAgIH0sDQogICAgICAgICAgICAvLyB9LA0KICAgICAgICB9LA0KICAgICAgICBtZXRob2RzOiB7DQogICAgICAgICAgICAvKioNCiAgICAgICAgICAgICAqIOS/neWtmOWcsOWdgA0KICAgICAgICAgICAgICovDQogICAgICAgICAgICBzYXZlX2FkZHJlc3MoKSB7DQogICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7DQogICAgICAgICAgICAgICAgdmFyIHthZGRyZXNzLCBuYW1lLCBwaG9uZSwgYWRkcmVzc19pZCwgdXNlcl9pZH0gPSBkYXRhOw0KICAgICAgICAgICAgICAgIHVzZXJfaWQgPSB0aGlzLnVzZXIudXNlcl9pZDsNCiAgICAgICAgICAgICAgICBpZiAoYWRkcmVzc19pZCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRwb3N0KA0KICAgICAgICAgICAgICAgICAgICAgICAgYH4vYXBpL2FkZHJlc3Mvc2V0P2FkZHJlc3NfaWQ9JHthZGRyZXNzX2lkfWAsDQogICAgICAgICAgICAgICAgICAgICAgICB7YWRkcmVzcywgbmFtZSwgcGhvbmUsIHVzZXJfaWR9LA0KICAgICAgICAgICAgICAgICAgICAgICAgKHJlcykgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi4vYWRkcmVzcyIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJGdldCgnfi9hcGkvYWRkcmVzcy9jb3VudD8nLCB7DQogICAgICAgICAgICAgICAgICAgICAgICB1c2VyX2lkDQogICAgICAgICAgICAgICAgICAgIH0sIChyZXMpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5yZXN1bHQpDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnJlc3VsdCA9PT0gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHBvc3QoDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB+L2FwaS9hZGRyZXNzL2FkZD9gLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YWRkcmVzcywgbmFtZSwgcGhvbmUsIGRlZmF1bHQ6IDEsIHVzZXJfaWR9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocmVzKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi4vYWRkcmVzcyIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcG9zdCgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfi9hcGkvYWRkcmVzcy9hZGQ/YCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YWRkcmVzcywgbmFtZSwgcGhvbmUsIHVzZXJfaWR9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyZXMpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLi9hZGRyZXNzIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICB9LA0KICAgICAgICBtb3VudGVkKCkgew0KICAgICAgICB9LA0KICAgIH07DQo="},{"version":3,"sources":["form_address.vue"],"names":[],"mappings":";AAsCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"form_address.vue","sourceRoot":"src/components/diy","sourcesContent":["<template>\r\n    <div class=\"form_address\">\r\n        <div class=\"header\">修改收货地址</div>\r\n        <div class=\"warp\">\r\n            <div class=\"container\">\r\n                <div class=\"row justify-content-between\">\r\n                    <div class=\"col-3\">\r\n                        <div class=\"card_menu\">\r\n                            <div class=\"name\">\r\n                                <span>收货人</span>\r\n                                <input type=\"text\" v-model=\"data.name\"/>\r\n                            </div>\r\n                            <div class=\"phone\">\r\n                                <span>手机号</span>\r\n                                <input type=\"text\" v-model=\"data.phone\"/>\r\n                            </div>\r\n                            <div class=\"address\">\r\n                                <span>详细地址</span>\r\n                                <b-form-textarea\r\n                                        id=\"textarea\"\r\n                                        v-model=\"data.address\"\r\n                                        placeholder=\"请输入地址\"\r\n                                        rows=\"3\"\r\n                                        max-rows=\"6\"\r\n                                ></b-form-textarea>\r\n                            </div>\r\n                            <button class=\"btn_save\" type=\"default\" @click=\"save_address()\">\r\n                                保存\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import mixin from \"@/mixins/page.js\";\r\n\r\n    export default {\r\n        mixins: [mixin],\r\n        props: {\r\n            data: {\r\n                type: Object,\r\n                default: {},\r\n            },\r\n            // vm: {\r\n            //     type: Object,\r\n            //     default: function () {\r\n            //         return {\r\n            //             address: \"address\",\r\n            //             address_id: \"address_id\",\r\n            //             name: \"name\",\r\n            //             phone: \"phone\",\r\n            //         };\r\n            //     },\r\n            // },\r\n        },\r\n        methods: {\r\n            /**\r\n             * 保存地址\r\n             */\r\n            save_address() {\r\n                var data = this.data;\r\n                var {address, name, phone, address_id, user_id} = data;\r\n                user_id = this.user.user_id;\r\n                if (address_id) {\r\n                    this.$post(\r\n                        `~/api/address/set?address_id=${address_id}`,\r\n                        {address, name, phone, user_id},\r\n                        (res) => {\r\n                            // console.log(res);\r\n                            this.$router.push(\"./address\");\r\n                        }\r\n                    );\r\n                } else {\r\n                    this.$get('~/api/address/count?', {\r\n                        user_id\r\n                    }, (res) => {\r\n                        // console.log(res.result)\r\n                        if (res.result === 0) {\r\n                            this.$post(\r\n                                `~/api/address/add?`,\r\n                                {address, name, phone, default: 1, user_id},\r\n                                (res) => {\r\n                                    console.log(res);\r\n                                    this.$router.push(\"./address\");\r\n                                }\r\n                            );\r\n                        }else {\r\n                          this.$post(\r\n                                  `~/api/address/add?`,\r\n                                  {address, name, phone, user_id},\r\n                                  (res) => {\r\n                                    // console.log(res);\r\n                                    this.$router.push(\"./address\");\r\n                                  }\r\n                          );\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n        },\r\n        mounted() {\r\n        },\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    .form_address {\r\n        padding: 0 0.8rem;\r\n        min-height: 580px;\r\n    }\r\n\r\n    .header {\r\n        justify-content: center;\r\n        text-align: center;\r\n    }\r\n\r\n    .form_address input {\r\n        display: inline-block;\r\n    }\r\n\r\n    .form_address > div {\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 0.5rem 0;\r\n        border-bottom: 1px solid #f4f4f4;\r\n        font-size: 0.9rem;\r\n    }\r\n\r\n    .form_address > div > text {\r\n        width: 4.5rem;\r\n    }\r\n\r\n    .form_address > div > input {\r\n        font-size: 0.9rem;\r\n    }\r\n\r\n    .form_address > div > textarea {\r\n        font-size: 0.9rem;\r\n    }\r\n\r\n    .address {\r\n        align-items: baseline;\r\n    }\r\n\r\n    .form_address .address > text {\r\n        width: 5.5rem;\r\n        margin-right: 0.5rem;\r\n    }\r\n\r\n    .btn_save {\r\n        margin-top: 0.5rem;\r\n        color: var(--color_primary);\r\n    }\r\n</style>\r\n"]}]}