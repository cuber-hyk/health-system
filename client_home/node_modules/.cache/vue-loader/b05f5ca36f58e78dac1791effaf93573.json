{"remainingRequest":"C:\\Users\\123\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\123\\client_home\\src\\components\\diy\\div_book_information.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\123\\client_home\\src\\components\\diy\\div_book_information.vue","mtime":1666697568000},{"path":"C:\\Users\\123\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\123\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\123\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\123\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoJaW1wb3J0IG1peGluIGZyb20gIkAvbWl4aW5zL2NvbXBvbmVudC5qcyI7DQoJaW1wb3J0IG1peGluUGFnZSBmcm9tICJAL21peGlucy9wYWdlLmpzIjsNCg0KCWV4cG9ydCBkZWZhdWx0IHsNCgkJbWl4aW5zOiBbbWl4aW4sbWl4aW5QYWdlXSwNCgkJY29tcG9uZW50czogew0KDQoJCX0sDQoJCXByb3BzOiB7DQoJCQlvYmo6IHsNCgkJCQl0eXBlOiBPYmplY3QsDQoJCQkJZGVmYXVsdDogZnVuY3Rpb24oKSB7DQoJCQkJCXJldHVybiB7fTsNCgkJCQl9LA0KCQkJfQ0KCQl9LA0KCQlkYXRhKCkgew0KCQkJcmV0dXJuIHsNCgkJCQlwcmFpc2VMZW46IHRoaXMub2JqWyJwcmFpc2VfbGVuIl0sDQoJCQkJaW1nTGlzdDogWw0KCQkJCQkJew0KCQkJCQkJCXRpdGxlOiAi5bCB6Z2iIiwNCgkJCQkJCQluYW1lOiAiY292ZXIiLA0KCQkJCQkJCXR5cGU6ICLlm77niYciDQoJCQkJCQl9LA0KCQkJCV0sDQoJCQkJaXRlbUxpc3Q6IFsNCgkJCQkJCXsNCgkJCQkJCQl0aXRsZTogIuWbvuS5pue8luWPtyIsDQoJCQkJCQkJbmFtZTogImJvb2tfbnVtYmVyIiwNCgkJCQkJCQl0eXBlOiAi5paH5pysIg0KCQkJCQkJfSwNCgkJCQkJCXsNCgkJCQkJCQl0aXRsZTogIuWbvuS5puWQjeensCIsDQoJCQkJCQkJbmFtZTogImJvb2tfbmFtZSIsDQoJCQkJCQkJdHlwZTogIuaWh+acrCINCgkJCQkJCX0sDQoJCQkJCQl7DQoJCQkJCQkJdGl0bGU6ICLlm77kuabnsbvliKsiLA0KCQkJCQkJCW5hbWU6ICJib29rX2NhdGVnb3J5IiwNCgkJCQkJCQl0eXBlOiAi5LiL5a+7Ig0KCQkJCQkJfSwNCgkJCQkJCXsNCgkJCQkJCQl0aXRsZTogIuaVsOmHjyIsDQoJCQkJCQkJbmFtZTogInF1YW50aXR5IiwNCgkJCQkJCQl0eXBlOiAi5pWw5a2XIg0KCQkJCQkJfSwNCgkJCQkJCXsNCgkJCQkJCQl0aXRsZTogIuS9nOiAhSIsDQoJCQkJCQkJbmFtZTogImF1dGhvciIsDQoJCQkJCQkJdHlwZTogIuaWh+acrCINCgkJCQkJCX0sDQoJCQkJCQl7DQoJCQkJCQkJdGl0bGU6ICLlh7rniYjnpL4iLA0KCQkJCQkJCW5hbWU6ICJwcmVzcyIsDQoJCQkJCQkJdHlwZTogIuaWh+acrCINCgkJCQkJCX0sDQoJCQkJXSwNCgkJCQlyaWNoTGlzdDogWw0KCQkJCQkJew0KCQkJCQkJCXRpdGxlOiAi5Zu+5Lmm5LuL57uNIiwNCgkJCQkJCQluYW1lOiAiYm9va19pbnRyb2R1Y3Rpb24iLA0KCQkJCQkJCXR5cGU6ICLnvJbovpEiDQoJCQkJCQl9LA0KCQkJCV0sDQoJCQkJCQkJCQkJCX07DQoJCX0sDQoJCW1ldGhvZHM6IHsNCgkJCQkJCQkJDQoJCQkJLyoqDQoJCQkgKiDmlLnlj5jngrnotZ7mlbANCgkJCSAqLw0KCQkJY2hhbmdlX3ByYWlzZShvYmopIHsNCgkJCQl2YXIgdXNlcl9pZCA9IHRoaXMudXNlci51c2VyX2lkOw0KDQoJCQkJdmFyIHF1ZXJ5ID0gew0KCQkJCQlzb3VyY2VfdGFibGU6ICJib29rX2luZm9ybWF0aW9uIiwNCgkJCQkJc291cmNlX2ZpZWxkOiAiYm9va19pbmZvcm1hdGlvbl9pZCIsDQoJCQkJCXNvdXJjZV9pZDogdGhpcy5vYmpbImJvb2tfaW5mb3JtYXRpb25faWQiXSwNCgkJCQkJdXNlcl9pZA0KCQkJCX07DQoNCgkJCQl2YXIgX3RoaXMgPSB0aGlzOw0KDQoJCQkJLy8g54K56LWe54q25oCBDQoJCQkJaWYgKHRoaXMuc3RhdGVfcHJhaXNlKSB7DQoJCQkJCXRoaXMuc3RhdGVfcHJhaXNlID0gZmFsc2U7DQoJCQkJCXRoaXMuJGdldCgnfi9hcGkvcHJhaXNlL2RlbD8nLCBxdWVyeSwgKHJlcykgPT4gew0KCQkJCQkJaWYocmVzLnJlc3VsdCl7DQogICAgICAgICAgICAgIF90aGlzLnByYWlzZUxlbiA9IHBhcnNlSW50KF90aGlzLnByYWlzZUxlbiktMTsNCiAgICAgICAgICAgICAgdmFyIHByYWlzZV9sZW4gPSBfdGhpcy5wcmFpc2VMZW47DQoJCQkJCQkJdGhpcy4kcG9zdCgnfi9hcGkvYm9va19pbmZvcm1hdGlvbi9zZXQ/Ym9va19pbmZvcm1hdGlvbl9pZD0nICsgX3RoaXMub2JqWyJib29rX2luZm9ybWF0aW9uX2lkIl0sIHsNCgkJCQkJCQkJcHJhaXNlX2xlbg0KCQkJCQkJCX0sIChyZXMpID0+IHsNCgkJCQkJCQkJaWYocmVzLnJlc3VsdCl7DQoJCQkJCQkJCQljb25zb2xlLmxvZygi5re75Yqg54K56LWe5pWw54q25oCB77yaIiAscmVzLnJlc3VsdCk7DQoJCQkJCQkJCX0NCgkJCQkJCQkJZWxzZSBpZihyZXMuZXJyb3Ipew0KCQkJCQkJCQkJY29uc29sZS5lcnJvcihyZXMuZXJyb3IpOw0KCQkJCQkJCQl9DQoJCQkJCQkJfSk7DQoJCQkJCQkJLy8gdGhpcy4kdG9hc3QoIuWPlua2iOeCuei1niIpOw0KCQkJCQkJCXRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5Y+W5raI54K56LWeIikNCgkJCQkJCX0NCgkJCQkJCWVsc2UgaWYgKHJlcy5lcnJvcil7DQoJCQkJCQkJdGhpcy4kdG9hc3QocmVzLmVycm9yLm1lc3NhZ2UpOw0KCQkJCQkJCWNvbnNvbGUuZXJyb3IocmVzLmVycm9yKTsNCgkJCQkJCX0NCgkJCQkJfSk7DQoJCQkJfSBlbHNlIHsNCgkJCQkJdGhpcy5zdGF0ZV9wcmFpc2UgPSB0cnVlOw0KCQkJCQl0aGlzLiRwb3N0KCd+L2FwaS9wcmFpc2UvYWRkPycsIHF1ZXJ5LCAocmVzKSA9PiB7DQoJCQkJCQlpZiAocmVzLnJlc3VsdCkgew0KICAgICAgICAgICAgICBfdGhpcy5wcmFpc2VMZW4gPSBwYXJzZUludChfdGhpcy5wcmFpc2VMZW4pKzE7DQogICAgICAgICAgICAgIHZhciBwcmFpc2VfbGVuID0gX3RoaXMucHJhaXNlTGVuOw0KCQkJCQkJCXRoaXMuJHBvc3QoJ34vYXBpL2Jvb2tfaW5mb3JtYXRpb24vc2V0P2Jvb2tfaW5mb3JtYXRpb25faWQ9JyArIF90aGlzLm9ialsiYm9va19pbmZvcm1hdGlvbl9pZCJdLCB7DQoJCQkJCQkJCXByYWlzZV9sZW4NCgkJCQkJCQl9LCAocmVzKSA9PiB7DQoJCQkJCQkJCWlmKHJlcy5yZXN1bHQpew0KCQkJCQkJCQkJY29uc29sZS5sb2coIua3u+WKoOeCuei1nuaVsOeKtuaAge+8miIgLHJlcy5yZXN1bHQpOw0KCQkJCQkJCQl9DQoJCQkJCQkJCWVsc2UgaWYocmVzLmVycm9yKXsNCgkJCQkJCQkJCWNvbnNvbGUuZXJyb3IocmVzLmVycm9yKTsNCgkJCQkJCQkJfQ0KCQkJCQkJCX0pOw0KCQkJCQkJCS8vIHRoaXMuJHRvYXN0KCLngrnotZ7miJDlip8iKTsNCgkJCQkJCQl0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIueCuei1nuaIkOWKnyIpDQoJCQkJCQl9DQoJCQkJCQllbHNlIGlmIChyZXMuZXJyb3IpIHsNCgkJCQkJCQl0aGlzLiR0b2FzdChyZXMuZXJyb3IubWVzc2FnZSk7DQoJCQkJCQkJY29uc29sZS5lcnJvcihyZXMuZXJyb3IpOw0KCQkJCQkJfQ0KCQkJCQl9KTsNCgkJCQl9Ow0KCQkJfSwNCiAgICAgIC8qKg0KICAgICAgICog6I635Y+W54K56LWeDQogICAgICAgKi8NCiAgICAgIGdldF9wcmFpc2UoKSB7DQogICAgICAgIHZhciB1c2VyX2lkID0gdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VyX2lkOw0KICAgICAgICB0aGlzLiRnZXQoIn4vYXBpL3ByYWlzZS9jb3VudD8iLCB7DQogICAgICAgICAgc291cmNlX3RhYmxlOiAiYm9va19pbmZvcm1hdGlvbiIsDQogICAgICAgICAgc291cmNlX2ZpZWxkOiAiYm9va19pbmZvcm1hdGlvbl9pZCIsDQogICAgICAgICAgc291cmNlX2lkOiB0aGlzLm9iai5ib29rX2luZm9ybWF0aW9uX2lkLA0KICAgICAgICAgIHVzZXJfaWQNCiAgICAgICAgfSwgKHJlcykgPT4gew0KICAgICAgICAgIGlmIChyZXMucmVzdWx0IHx8IHJlcy5yZXN1bHQgPT09IDApIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJzYWRzZmFzZiIrSlNPTi5zdHJpbmdpZnkocmVzKSkNCiAgICAgICAgICAgIHRoaXMuc3RhdGVfcHJhaXNlID0gcmVzLnJlc3VsdCA/IHRydWUgOiBmYWxzZTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCLngrnotZ7nirbmgIHvvJoiICx0aGlzLnN0YXRlX3ByYWlzZSk7DQogICAgICAgICAgfQ0KICAgICAgICAgIGVsc2UgaWYgKHJlcy5lcnJvcil7DQogICAgICAgICAgICB0aGlzLiR0b2FzdChyZXMuZXJyb3IubWVzc2FnZSk7DQogICAgICAgICAgICBjb25zb2xlLmVycm9yKHJlcy5lcnJvcik7DQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfSwNCg0KCQkJCS8qKg0KCQkJICog5pS55Y+Y5pS26JeP54q25oCBDQoJCQkgKi8NCgkJCWNoYW5nZV9jb2xsZWN0KCkgew0KCQkJCXZhciB1c2VyX2lkID0gdGhpcy51c2VyLnVzZXJfaWQ7DQoNCgkJCQl2YXIgcXVlcnkgPSB7DQoJCQkJCXNvdXJjZV90YWJsZTogImJvb2tfaW5mb3JtYXRpb24iLA0KCQkJCQlzb3VyY2VfZmllbGQ6ICJib29rX2luZm9ybWF0aW9uX2lkIiwNCgkJCQkJc291cmNlX2lkOiB0aGlzLm9ialsiYm9va19pbmZvcm1hdGlvbl9pZCJdLA0KCQkJCQl1c2VyX2lkDQoJCQkJfTsNCg0KCQkJCS8vIOaUtuiXj+eKtuaAgQ0KCQkJCWlmICh0aGlzLnN0YXRlX2NvbGxlY3QpIHsNCgkJCQkJdGhpcy5zdGF0ZV9jb2xsZWN0ID0gZmFsc2U7DQoJCQkJCXRoaXMuJGdldCgnfi9hcGkvY29sbGVjdC9kZWw/JywgcXVlcnksIChyZXMpID0+IHsNCgkJCQkJCWlmKHJlcy5yZXN1bHQpew0KCQkJCQkJCS8vIHRoaXMuJHRvYXN0KCLlj5bmtojmlLbol48iKTsNCgkJCQkJCQl0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuWPlua2iOaUtuiXjyIpDQoJCQkJCQl9DQoJCQkJCQllbHNlIGlmIChyZXMuZXJyb3Ipew0KCQkJCQkJCXRoaXMuJHRvYXN0KHJlcy5lcnJvci5tZXNzYWdlKTsNCgkJCQkJCQljb25zb2xlLmVycm9yKHJlcy5lcnJvcik7DQoJCQkJCQl9DQoJCQkJCX0pOw0KCQkJCX0gZWxzZSB7DQoJCQkJCXRoaXMuc3RhdGVfY29sbGVjdCA9IHRydWU7DQoJCQkJCQkJCQkJCQkJcXVlcnkudGl0bGUgPSB0aGlzLm9iai5ib29rX25hbWUNCgkJCQkJCQkJCQkJCQkJcXVlcnkuaW1nID0gdGhpcy5vYmouY292ZXINCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCXRoaXMuJHBvc3QoJ34vYXBpL2NvbGxlY3QvYWRkPycsIHF1ZXJ5LCAocmVzKSA9PiB7DQoJCQkJCQlpZiAocmVzLnJlc3VsdCkgew0KCQkJCQkJCS8vIHRoaXMuJHRvYXN0KCLmlLbol4/miJDlip8iKTsNCgkJCQkJCQl0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuaUtuiXj+aIkOWKnyIpDQoJCQkJCQl9DQoJCQkJCQllbHNlIGlmIChyZXMuZXJyb3IpIHsNCgkJCQkJCQl0aGlzLiR0b2FzdChyZXMuZXJyb3IubWVzc2FnZSk7DQoJCQkJCQkJY29uc29sZS5lcnJvcihyZXMuZXJyb3IpOw0KCQkJCQkJfQ0KCQkJCQl9KTsNCgkJCQl9Ow0KCQkJfSwNCiAgICAgIGNoZWNrX2NvbGxlY3QoKSB7DQogICAgICAgIHZhciB1c2VyX2lkID0gdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VyX2lkOw0KICAgICAgICB2YXIgYm9va19pbmZvcm1hdGlvbl9pZCA9IHRoaXMub2JqLmJvb2tfaW5mb3JtYXRpb25faWQ7DQogICAgICAgIHRoaXMuJGdldCgnfi9hcGkvY29sbGVjdC9jb3VudD8nLCB7DQogICAgICAgICAgdXNlcl9pZCwNCiAgICAgICAgICBzb3VyY2VfdGFibGU6ICJib29rX2luZm9ybWF0aW9uIiwNCiAgICAgICAgICBzb3VyY2VfZmllbGQ6ICJib29rX2luZm9ybWF0aW9uX2lkIiwNCiAgICAgICAgICBzb3VyY2VfaWQ6IGJvb2tfaW5mb3JtYXRpb25faWQNCiAgICAgICAgfSwgKHJlcykgPT4gew0KICAgICAgICAgIHRoaXMuc3RhdGVfY29sbGVjdCA9IHJlcy5yZXN1bHQNCiAgICAgICAgfSk7DQogICAgICB9DQoJCX0sDQoJCWNyZWF0ZWQoKSB7DQoJCQkJCQkJCSAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICB0aGlzLmdldF9wcmFpc2UoKTsNCiAgICAgICAgdGhpcy5jaGVja19jb2xsZWN0KCk7DQogICAgICB9LCAxMDAwKTsNCgkJfSwNCgkJd2F0Y2g6ew0KCQkJb2JqOnsNCgkJCQlkZWVwOiB0cnVlLA0KCQkJCWhhbmRsZXIoKXsNCgkJCQkJdGhpcy5wcmFpc2VMZW4gPSB0aGlzLm9ialsicHJhaXNlX2xlbiJdDQoJCQkJfQ0KCQkJfQ0KCQl9LA0KCX07DQo="},{"version":3,"sources":["div_book_information.vue"],"names":[],"mappings":";AA8GA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"div_book_information.vue","sourceRoot":"src/components/diy","sourcesContent":["<template>\r\n\t<div class=\"diy_details_box diy_div_book_information\">\r\n\t\t<div class=\"warp\">\r\n\t\t\t<div class=\"container\">\r\n\t\t\t\t\t<div class=\"details_title\">详情</div>\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t<div class=\"row_top_wrap\">\r\n\t\t\t\t\t\t<!-- 图片 -->\r\n\t\t\t\t\t\t\t<div class=\"row_1\" v-if=\"imgList.length\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"diy_img\" v-for=\"(item,index) in imgList\" :key=\"item+index\">\r\n\t\t\t\t\t\t\t\t\t<img :src=\"$fullUrl(obj[item.name])\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<!-- 内容 -->\r\n\t\t\t\t\t\t\t<div class=\"row_2\" :class=\"{flex_row2: !imgList.length}\">\r\n\t\t\t\t\t\t\t\t<div :class=\"{flex_row2_item: !imgList.length}\" v-for=\"(item,index) in itemList\" :key=\"item+index\" v-show=\"$check_field('get',item.name)\">\r\n\t\t\t\t\t\t\t<div class=\"view\">\r\n\t\t\t\t\t\t\t\t<div class=\"diy_title\">\r\n\t\t\t\t\t\t\t\t\t<span>{{item.title}}:</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"diy_field diy_uid\" :class=\"{flex_row2_item_text:imgList.length}\" v-if=\"item.type == 'UID'\">\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t{{ get_user_info(obj[item.name]) }}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"diy_field diy_video\" :class=\"{flex_row2_item_text:imgList.length}\" v-else-if=\"item.type == '视频'\">\r\n\t\t\t\t\t\t\t\t\t<router-link :to=\"'/media/video?filename=' + $fullUrl(obj[item.name])\" v-if=\"obj[item.name]\" >\r\n\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t查看视频\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</router-link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"diy_field diy_music\" :class=\"{flex_row2_item_text:imgList.length}\" v-else-if=\"item.type == '音频'\">\r\n\t\t\t\t\t\t\t\t\t<audio v-if=\"obj[item.name]\" style=\"text-align: left\" :src=\"$fullUrl(obj[item.name])\" controls></audio>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"diy_field diy_music\" :class=\"{flex_row2_item_text:imgList.length}\" v-else-if=\"item.type == '文件'\">\r\n\t\t\t\t\t\t\t\t\t<a :href=\"$fullUrl(obj[item.name])\" target=\"_blank\" style=\"color: rgb(64, 158, 255);\">点击下载</a>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"diy_field diy_date\" :class=\"{flex_row2_item_text:imgList.length}\" v-else-if=\"item.type == '日期'\">\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t{{ $toTime(obj[item.name] ,\"yyyy-MM-dd\") }}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"diy_field diy_time\" :class=\"{flex_row2_item_text:imgList.length}\" v-else-if=\"item.type == '时间'\">\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t{{ $toTime(obj[item.name] ,\"hh:mm:ss\") }}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"diy_field diy_datetime\" :class=\"{flex_row2_item_text:imgList.length}\" v-else-if=\"item.type == '日长'\">\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t{{ $toTime(obj[item.name] ,\"yyyy-MM-dd hh:mm:ss\") }}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"diy_field diy_phone\" :class=\"{flex_row2_item_text:imgList.length}\"  v-else-if=\"item.type == '电话' || item.type == '手机'\">\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t{{ obj[item.name] }}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"diy_field diy_number\" :class=\"{flex_row2_item_text:imgList.length}\" v-else-if=\"item.type == '数字'\">\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t{{ obj[item.name] }}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"diy_field diy_desc\" :class=\"{flex_row2_item_text:imgList.length}\" v-else-if=\"item.type == '多文本'\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t{{ obj[item.name] }}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<!-- <div class=\"diy_field diy_html\"  v-else-if=\"item.type == '编辑'\" v-html=\"obj[item.name]\" >\r\n\r\n\t\t\t\t\t\t\t\t</div> -->\r\n\t\t\t\t\t\t\t\t<div class=\"diy_field diy_text\" :class=\"{flex_row2_item_text:imgList.length}\" v-else>\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t{{ obj[item.name] }}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"view praise_wrap\">\r\n\t\t\t\t\t\t\t<span class=\"diy_title\">点赞数：</span>\t<span class=\"diy_field diy_text\">\r\n\t\t\t\t\t\t{{ praiseLen }}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"details_btn_wrap\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn-primary details_btn\" v-if=\"$check_action('/book_borrowing/edit','add')\" @click=\"to_form('/book_borrowing/edit')\" > 借阅 </button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn-primary details_btn\" v-if=\"$check_action('/book_information/details','set')\" @click=\"change_praise()\" >点赞</button>\r\n\t\t\t\t\t\t\t\t<button class=\"btn btn-primary details_btn\" v-if=\"$check_action('/book_information/details','set')\" @click=\"change_collect()\" >收藏</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- 富文本 -->\r\n\t\t\t\t<div class=\"rich_text\" v-for=\"(item,index) in richList\" :key=\"item+index\" v-show=\"$check_field('get',item.name)\">\r\n\t\t\t\t\t\t<div class=\"view\">\r\n\t\t\t\t\t\t<div class=\"diy_title\">\r\n\t\t\t\t\t\t\t<span v-text=\"item.title\"></span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"diy_html\" v-html=\"obj[item.name]\" >\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport mixin from \"@/mixins/component.js\";\r\n\timport mixinPage from \"@/mixins/page.js\";\r\n\r\n\texport default {\r\n\t\tmixins: [mixin,mixinPage],\r\n\t\tcomponents: {\r\n\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tobj: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn {};\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpraiseLen: this.obj[\"praise_len\"],\r\n\t\t\t\timgList: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: \"封面\",\r\n\t\t\t\t\t\t\tname: \"cover\",\r\n\t\t\t\t\t\t\ttype: \"图片\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\titemList: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: \"图书编号\",\r\n\t\t\t\t\t\t\tname: \"book_number\",\r\n\t\t\t\t\t\t\ttype: \"文本\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: \"图书名称\",\r\n\t\t\t\t\t\t\tname: \"book_name\",\r\n\t\t\t\t\t\t\ttype: \"文本\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: \"图书类别\",\r\n\t\t\t\t\t\t\tname: \"book_category\",\r\n\t\t\t\t\t\t\ttype: \"下寻\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: \"数量\",\r\n\t\t\t\t\t\t\tname: \"quantity\",\r\n\t\t\t\t\t\t\ttype: \"数字\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: \"作者\",\r\n\t\t\t\t\t\t\tname: \"author\",\r\n\t\t\t\t\t\t\ttype: \"文本\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: \"出版社\",\r\n\t\t\t\t\t\t\tname: \"press\",\r\n\t\t\t\t\t\t\ttype: \"文本\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\trichList: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: \"图书介绍\",\r\n\t\t\t\t\t\t\tname: \"book_introduction\",\r\n\t\t\t\t\t\t\ttype: \"编辑\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t/**\r\n\t\t\t * 改变点赞数\r\n\t\t\t */\r\n\t\t\tchange_praise(obj) {\r\n\t\t\t\tvar user_id = this.user.user_id;\r\n\r\n\t\t\t\tvar query = {\r\n\t\t\t\t\tsource_table: \"book_information\",\r\n\t\t\t\t\tsource_field: \"book_information_id\",\r\n\t\t\t\t\tsource_id: this.obj[\"book_information_id\"],\r\n\t\t\t\t\tuser_id\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar _this = this;\r\n\r\n\t\t\t\t// 点赞状态\r\n\t\t\t\tif (this.state_praise) {\r\n\t\t\t\t\tthis.state_praise = false;\r\n\t\t\t\t\tthis.$get('~/api/praise/del?', query, (res) => {\r\n\t\t\t\t\t\tif(res.result){\r\n              _this.praiseLen = parseInt(_this.praiseLen)-1;\r\n              var praise_len = _this.praiseLen;\r\n\t\t\t\t\t\t\tthis.$post('~/api/book_information/set?book_information_id=' + _this.obj[\"book_information_id\"], {\r\n\t\t\t\t\t\t\t\tpraise_len\r\n\t\t\t\t\t\t\t}, (res) => {\r\n\t\t\t\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"添加点赞数状态：\" ,res.result);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(res.error){\r\n\t\t\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t// this.$toast(\"取消点赞\");\r\n\t\t\t\t\t\t\tthis.$message.success(\"取消点赞\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (res.error){\r\n\t\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.state_praise = true;\r\n\t\t\t\t\tthis.$post('~/api/praise/add?', query, (res) => {\r\n\t\t\t\t\t\tif (res.result) {\r\n              _this.praiseLen = parseInt(_this.praiseLen)+1;\r\n              var praise_len = _this.praiseLen;\r\n\t\t\t\t\t\t\tthis.$post('~/api/book_information/set?book_information_id=' + _this.obj[\"book_information_id\"], {\r\n\t\t\t\t\t\t\t\tpraise_len\r\n\t\t\t\t\t\t\t}, (res) => {\r\n\t\t\t\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"添加点赞数状态：\" ,res.result);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(res.error){\r\n\t\t\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t// this.$toast(\"点赞成功\");\r\n\t\t\t\t\t\t\tthis.$message.success(\"点赞成功\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (res.error) {\r\n\t\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t},\r\n      /**\r\n       * 获取点赞\r\n       */\r\n      get_praise() {\r\n        var user_id = this.$store.state.user.user_id;\r\n        this.$get(\"~/api/praise/count?\", {\r\n          source_table: \"book_information\",\r\n          source_field: \"book_information_id\",\r\n          source_id: this.obj.book_information_id,\r\n          user_id\r\n        }, (res) => {\r\n          if (res.result || res.result === 0) {\r\n            console.log(\"sadsfasf\"+JSON.stringify(res))\r\n            this.state_praise = res.result ? true : false;\r\n            console.log(\"点赞状态：\" ,this.state_praise);\r\n          }\r\n          else if (res.error){\r\n            this.$toast(res.error.message);\r\n            console.error(res.error);\r\n          }\r\n        })\r\n      },\r\n\r\n\t\t\t\t/**\r\n\t\t\t * 改变收藏状态\r\n\t\t\t */\r\n\t\t\tchange_collect() {\r\n\t\t\t\tvar user_id = this.user.user_id;\r\n\r\n\t\t\t\tvar query = {\r\n\t\t\t\t\tsource_table: \"book_information\",\r\n\t\t\t\t\tsource_field: \"book_information_id\",\r\n\t\t\t\t\tsource_id: this.obj[\"book_information_id\"],\r\n\t\t\t\t\tuser_id\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// 收藏状态\r\n\t\t\t\tif (this.state_collect) {\r\n\t\t\t\t\tthis.state_collect = false;\r\n\t\t\t\t\tthis.$get('~/api/collect/del?', query, (res) => {\r\n\t\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\t\t// this.$toast(\"取消收藏\");\r\n\t\t\t\t\t\t\tthis.$message.success(\"取消收藏\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (res.error){\r\n\t\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.state_collect = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tquery.title = this.obj.book_name\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tquery.img = this.obj.cover\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$post('~/api/collect/add?', query, (res) => {\r\n\t\t\t\t\t\tif (res.result) {\r\n\t\t\t\t\t\t\t// this.$toast(\"收藏成功\");\r\n\t\t\t\t\t\t\tthis.$message.success(\"收藏成功\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (res.error) {\r\n\t\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t},\r\n      check_collect() {\r\n        var user_id = this.$store.state.user.user_id;\r\n        var book_information_id = this.obj.book_information_id;\r\n        this.$get('~/api/collect/count?', {\r\n          user_id,\r\n          source_table: \"book_information\",\r\n          source_field: \"book_information_id\",\r\n          source_id: book_information_id\r\n        }, (res) => {\r\n          this.state_collect = res.result\r\n        });\r\n      }\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t\t\t\t\t\t      setTimeout(() => {\r\n        this.get_praise();\r\n        this.check_collect();\r\n      }, 1000);\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\tobj:{\r\n\t\t\t\tdeep: true,\r\n\t\t\t\thandler(){\r\n\t\t\t\t\tthis.praiseLen = this.obj[\"praise_len\"]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style>\r\n/* .diy_details{\r\n\twidth: 1140px;\r\n\tmargin: 0 auto 50px;\r\n\tbackground: #fff;\r\n\tbox-sizing: border-box;\r\n\tpadding: 30px;\r\n}\r\n.details_title{\r\n\twidth: 100%;\r\n\theight: 50px;\r\n\tline-height: 50px;\r\n\tbackground: rgb(4, 126, 134);\r\n\tfont-size: 22px;\r\n\tcolor: #fff;\r\n\tmargin-bottom: 40px;\r\n\tpadding-left: 15px;\r\n\toverflow: hidden;\r\n}\r\n\t.row_top_wrap{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tmargin-bottom: 45px;\r\n\t\tmin-height: 225px;\r\n\t}\r\n.row_top_wrap .row_1{\r\n\twidth: 300px;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tmargin-right: 20px;\r\n}\r\n.row_top_wrap .row_1 .diy_img,\r\n.row_top_wrap .row_1 .diy_img img{\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tborder-radius: 15px;\r\n\tmargin-bottom: 4px;\r\n\tbox-shadow: 0 2px 16px 2px #ccc;\r\n}\r\n.diy_details_box .warp .container .row{\r\n\tjustify-content: start;\r\n}\r\n.row_top_wrap .row_2{\r\n\twidth: 840px;\r\n}\r\n.diy_details_box .warp .container,\r\n.diy_details_box .warp .container .row{\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n}\r\n.row_top_wrap .row_2 .view{\r\n\tdisplay: flex;\r\n\tmargin-bottom: 15px;\r\n}\r\n.row_top_wrap .row_2 .view .diy_title{\r\n\twidth: 100px;\r\n\ttext-align: right;\r\n\tfont-size: 20px;\r\n\theight: 32px;\r\n\tline-height: 32px;\r\n}\r\n.row_top_wrap .row_2 .view .diy_field{\r\n\tmargin-left: 15px;\r\n\tfont-size: 18px;\r\n}\r\n.rich_text{\r\n\tmargin-bottom: 25px;\r\n\tborder-bottom: 1px solid #ccc;\r\n\tpadding-top: 25px;\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\tpadding-bottom: 25px;\r\n}\r\n.rich_text .diy_title{\r\n\tfont-size: 22px;\r\n\theight: 24px;\r\n\tline-height: 24px;\r\n\tpadding-left: 10px;\r\n\tborder-left: 6px solid rgb(5, 141, 130);\r\n\tmargin-bottom: 25px;\r\n\r\n}\r\n.rich_text .diy_html h1,\r\n.rich_text .diy_html h2,\r\n.rich_text .diy_html h3{\r\n\tfont-size: 18px!important;\r\n\tcolor: #333!important;\r\n\tfont-weight: bold!important;\r\n\tmargin-bottom: 15px!important;\r\n}\r\n.rich_text .diy_html p,\r\n.rich_text .diy_html div,\r\n.rich_text .diy_html a,\r\n.rich_text .diy_html span{\r\n\tfont-size: 16px!important;\r\n\tcolor: #666!important;\r\n}\r\n.rich_text .diy_html img{\r\n\tmax-width: 100%!important;\r\n}\r\n.praise_wrap{\r\n\tmargin-top: 45px;\r\n\twidth: 100%;\r\n\ttext-align: right;\r\n}\r\n.praise_wrap .diy_title{\r\n\tcolor: #333;\r\n}\r\n.praise_wrap .diy_text{\r\n\r\n\tcolor: rgba(14, 134, 143, 0.685);\r\n}\r\n.details_btn_wrap{\r\n\ttext-align: right;\r\n\tmargin: 30px 0;\r\n\tborder-top: 1px solid #ccc;\r\n\tborder-bottom: 2px dashed rgba(14, 134, 143, 0.685);\r\n\tpadding-top: 40px;\r\n\tpadding-bottom: 40px;\r\n\twidth: 100%;\r\n}\r\n.details_btn{\r\n\tmargin-left: 20px;\r\n\twidth: 100px;\r\n\theight: 40px;\r\n\ttext-align: center;\r\n\tbackground: rgb(3, 129, 112);\r\n\tborder-color: rgb(3, 129, 112);\r\n}\r\n.details_btn:hover{\r\n\tbackground: rgb(2, 158, 137);\r\n\tborder-color: rgb(3, 129, 112);\r\n}\r\n.mt{\r\n\tfont-size: 22px;\r\n    height: 24px;\r\n    line-height: 24px!important;\r\n    padding-left: 10px;\r\n    border-left: 6px solid rgb(5, 141, 130);\r\n    margin-bottom: 25px;\r\n}\r\n.diy_details .form_editor_block{\r\n\theight: 300px;\r\n}\r\n.diy_details .fn .btn_publish{\r\n\tmargin: 110px 0 30px;\r\n\ttext-align: center;\r\n}\r\n.diy_details .fn .btn_publish .btn{\r\n\twidth: 150px;\r\n\tdisplay: inline-block;\r\n\t\tbackground: rgb(2, 158, 137);\r\n\tborder-color: rgb(3, 129, 112)!important;\r\n\tcolor: #fff!important;\r\n}\r\n.diy_details .fn .btn_publish .btn:hover{\r\n\tbackground: rgb(2, 158, 137);\r\n\tborder-color: rgb(3, 129, 112);\r\n\r\n}\r\n.comment_box{\r\n\tborder-bottom: 2px dashed rgb(3, 129, 112);\r\n\tpadding-bottom: 30px;\r\n\tmargin-bottom: 40px;\r\n}\r\n.diy_details .pagination{\r\n\tjustify-content: center;\r\n\tpadding-top: 25px;\r\n\tborder-top: 1px solid #ccc;\r\n}\r\n.form_edit_box .details_form_editor_title{\r\n\t    font-size: 22px;\r\n    height: 24px;\r\n    line-height: 24px;\r\n    padding-left: 10px;\r\n    border-left: 6px solid rgb(5, 141, 130);\r\n    margin-bottom: 40px;\r\n\r\n}\r\n.answer_title{\r\n\tfont-family:'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;\r\n\tfont-size: 18px;\r\n\tcolor: rgb(3, 129, 112);\r\n}\r\n.reset_answer_personnel{\r\n\twidth: 120px;\r\n\theight: 40px;\r\n\ttext-align: center;\r\n\tbackground: rgb(3, 129, 112);\r\n\tborder-color: rgb(3, 129, 112)!important;\r\n\tcolor: #fff!important;\r\n\tfont-size: 14px;\r\n\tfont-family:'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;\r\n\tposition: relative;\r\n\ttop: -5px;\r\n\r\n}\r\n.reset_answer_personnel:hover{\r\n\tbackground: rgb(3, 129, 112);\r\n\tborder-color: rgb(3, 129, 112)!important;\r\n\r\n} */\r\n</style>\r\n"]}]}