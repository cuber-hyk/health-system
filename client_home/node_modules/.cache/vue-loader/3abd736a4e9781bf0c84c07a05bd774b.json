{"remainingRequest":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\views\\forum\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\views\\forum\\list.vue","mtime":1657768166000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgaW1wb3J0IG1peGluIGZyb20gIkAvbWl4aW5zL3BhZ2UuanMiOwogIGltcG9ydCBsaXN0X2ZvcnVtIGZyb20gIkAvY29tcG9uZW50cy9kaXkvbGlzdF9mb3J1bS52dWUiOwogIGltcG9ydCBsaXN0X2ZvcnVtX2hvdCBmcm9tICJAL2NvbXBvbmVudHMvZGl5L2xpc3RfZm9ydW1faG90LnZ1ZSI7CgogIGV4cG9ydCBkZWZhdWx0IHsKICAgIG1peGluczogW21peGluXSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgbGlzdF9mb3J1bSwKICAgICAgbGlzdF9mb3J1bV9ob3QsCiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB1cmxfZ2V0X2xpc3Q6ICJ+L2FwaS9mb3J1bS9nZXRfbGlzdD9saWtlPTAiLAogICAgICAgIGxpc3Q6IFtdLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBwYWdlOiAxLAogICAgICAgICAgc2l6ZTogOCwKICAgICAgICAgIHRpdGxlOiIiLAogICAgICAgICAgdHlwZToiIgogICAgICAgIH0sCiAgICAgICAgbGlzdF9ob3Q6IFtdLAogICAgICAgIGxpc3RfZm9ydW1fdHlwZTogW10sCiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIHNvcnRfbGlzdDogWwogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAi54Ot5bqm5LuO6auY5Yiw5L2OIiwKICAgICAgICAgICAgdmFsdWU6ICJgaGl0c2AgZGVzYyIsCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAi54Ot5bqm5LuO5L2O5Yiw6auYIiwKICAgICAgICAgICAgdmFsdWU6ICJgaGl0c2AgYXNjIiwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICLmm7TmlrDml7bpl7Tku47pq5jliLDkvY4iLAogICAgICAgICAgICB2YWx1ZTogImBjcmVhdGVfdGltZWAgZGVzYyIsCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAi5pu05paw5pe26Ze05LuO5L2O5Yiw6auYIiwKICAgICAgICAgICAgdmFsdWU6ICJgY3JlYXRlX3RpbWVgIGFzYyIsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgc2VhcmNoX3ZhbDoiIgogICAgICB9OwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgLyoqCiAgICAgICAqIOiOt+WPluivhOiuuuWQjgogICAgICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiDlk43lupTlr7nosaEKICAgICAgICovCiAgICAgIGdldF9saXN0X2FmdGVyKGpzb24pIHt9LAoKICAgICAgLyoqCiAgICAgICAqIOiOt+WPlueDremXqOiuuuWdmwogICAgICAgKi8KICAgICAgZ2V0X2hvdF9mb3J1bSgpIHsKICAgICAgICB0aGlzLiRnZXQoCiAgICAgICAgICAgICAgICAifi9hcGkvZm9ydW0vZ2V0X2xpc3QiLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBwYWdlOiAxLAogICAgICAgICAgICAgICAgICBzaXplOiAxMCwKICAgICAgICAgICAgICAgICAgb3JkZXJieTogImhpdHMiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIChyZXMpID0+IHsKICAgICAgICAgICAgICAgICAgaWYgKHJlcy5yZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RfaG90ID0gcmVzLnJlc3VsdC5saXN0OwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgKTsKICAgICAgfSwKICAgICAgLyoqCiAgICAgICAq5re75Yqg6K665Z2b57G75Z6L6L+H5rukCiAgICAgICAqLwogICAgICBnZXRfZm9ydW1fdHlwZSgpIHsKICAgICAgICB0aGlzLiRnZXQoCiAgICAgICAgICAgICAgICAifi9hcGkvZm9ydW1fdHlwZS9nZXRfbGlzdCIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgKHJlcykgPT4gewogICAgICAgICAgICAgICAgICBpZiAocmVzLnJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgIHJlcy5yZXN1bHQubGlzdC5tYXAoKG8pID0+IHRoaXMubGlzdF9mb3J1bV90eXBlLnB1c2goby5uYW1lKSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICApOwogICAgICB9LAogICAgICAvKioKICAgICAgICog5ZWG5ZOB562b6YCJ6YCJ5oupCiAgICAgICAqLwogICAgICBmaWx0ZXJfZ29vZHMobykgewogICAgICAgIGlmIChvID09ICLlhajpg6giKSB7CiAgICAgICAgICB0aGlzLnF1ZXJ5LnR5cGUgPSAwOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnF1ZXJ5LnR5cGUgPSBvOwogICAgICAgIH0KICAgICAgICB0aGlzLnNlYXJjaCgpOwogICAgICB9LAogICAgICAvKioKICAgICAgICog5o6S5bqPCiAgICAgICAqLwogICAgICBzb3J0X2dvb2RzKG8pIHsKICAgICAgICB0aGlzLnF1ZXJ5Lm9yZGVyYnkgPSBvLnZhbHVlOwogICAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICAgIH0sCiAgICAgIC8qKgogICAgICAgKiAg5pCc57SiCiAgICAgICAqICovCiAgICAgIHN1Ym1pdF9zZWFyY2goKSB7CiAgICAgICAgdGhpcy5xdWVyeS50aXRsZSA9IHRoaXMuc2VhcmNoX3ZhbDsKICAgICAgICB0aGlzLiRnZXQodGhpcy51cmxfZ2V0X2xpc3QsIHRoaXMucXVlcnksIChqc29uKSA9PiB7CiAgICAgICAgICBpZiAoanNvbi5yZXN1bHQgJiYganNvbi5yZXN1bHQubGlzdCkgewogICAgICAgICAgICB0aGlzLmxpc3QgPSBqc29uLnJlc3VsdC5saXN0CiAgICAgICAgICAgIHRoaXMuY291bnQgPSBqc29uLnJlc3VsdC5jb3VudAogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLy8gdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIC8vICAgcGF0aDogIi9zZWFyY2gvZGV0YWlscyIsCiAgICAgICAgLy8gICBxdWVyeTogewogICAgICAgIC8vICAgICB3b3JkOiB0aGlzLnNlYXJjaF92YWwsCiAgICAgICAgLy8gICAgIHNlYXJjaF9rZXk6InRpdGxlIiwKICAgICAgICAvLyAgICAgc2VhcmNoX3R5cGU6ICJmb3J1bSIsCiAgICAgICAgLy8gICAgIHNlYXJjaF90aXRsZTogIuiuuuWdmyIsCiAgICAgICAgLy8gICB9LAogICAgICAgIC8vIH0pOwogICAgICB9LAogICAgICBnb1RvUGFnZSh2KXsKICAgICAgICB0aGlzLnF1ZXJ5LnBhZ2UgPSB2OwogICAgICAgIHRoaXMuZ29Ub05ldyh2KQogICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgLy8gdGhpcy50aXRsZSA9ICLnrZvpgIkiOwogICAgICAvLyB0aGlzLmdldF9ob3RfZm9ydW0oKTsKICAgICAgdGhpcy5nZXRfZm9ydW1fdHlwZSgpOwogICAgfSwKICB9Owo="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";AA0FA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/forum","sourcesContent":["<template>\n  <div class=\"page_forum\" id=\"forum_index\">\n    <div class=\"warp\" v-if=\"$check_action('/forum/list','get')\">\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-12 col-md-9\">\n            <div class=\"card_forum_list\">\n              <!--<h4>论坛列表</h4>-->\n\n              <!-- 搜索栏 -->\n              <div class=\"search_box\">\n                <b-form-input\n                        size=\"sm\"\n                        class=\"mr-sm-2\"\n                        placeholder=\"局部搜索\"\n                        v-model.trim=\"search_val\"\n                        @keyup.enter=\"submit_search\"\n                ></b-form-input>\n                <select v-model=\"query.type\" style=\"width: 200px\">\n                  <option value=\"\">全部</option>\n                  <option v-for=\"(o,i) in list_forum_type\" :value=\"o\">{{o}}</option>\n                </select>\n                <b-button size=\"sm\" @click=\"submit_search\"\n                ><b-icon icon=\"search\"></b-icon\n                ></b-button>\n                <router-link  style=\"margin-left: 10px\" v-if=\"user_group == '管理员' || $check_action('/forum/list','add')\" class=\"add_forum\" to=\"/forum/view\">\n                  发布内容\n                </router-link>\n              </div>\n              <!--<div class=\"filter_block\">-->\n              <!--&lt;!&ndash; 筛选 &ndash;&gt;-->\n              <!--<div class=\"bar_filter\">-->\n              <!--<b-dropdown :text=\"title\" variant=\"outline-dark\" left>-->\n              <!--<b-dropdown-item-->\n              <!--v-for=\"(o, i) in list_forum_type\"-->\n              <!--:key=\"i\"-->\n              <!--@click=\"filter_goods(o)\"-->\n              <!--&gt;-->\n              <!--{{ o }}-->\n              <!--</b-dropdown-item>-->\n              <!--</b-dropdown>-->\n              <!--</div>-->\n              <!--&lt;!&ndash; /筛选 &ndash;&gt;-->\n              <!--&lt;!&ndash; 排序 &ndash;&gt;-->\n              <!--<div-->\n              <!--class=\"bar_sort\"-->\n              <!--:class=\"{ active: query.orderby == '`hits` desc' }\"-->\n              <!--&gt;-->\n              <!--<b-dropdown text=\"排序\" variant=\"outline-dark\" left>-->\n              <!--<b-dropdown-item-->\n              <!--v-for=\"(o, i) in sort_list\"-->\n              <!--:key=\"i\"-->\n              <!--@click=\"sort_goods(o)\"-->\n              <!--&gt;-->\n              <!--{{ o.name }}-->\n              <!--</b-dropdown-item>-->\n              <!--</b-dropdown>-->\n              <!--</div>-->\n              <!--&lt;!&ndash;/排序 &ndash;&gt;-->\n              <!--</div>-->\n              <!-- 论坛列表 -->\n              <list_forum :list=\"list\"></list_forum>\n            </div>\n          </div>\n          <!--<div class=\"col-12 col-md-3\">-->\n          <!--<div class=\"card_list_hot\">-->\n          <!--&lt;!&ndash; 热门论坛列表 &ndash;&gt;-->\n          <!--<h4>热门论坛列表</h4>-->\n          <!--<list_forum_hot :list=\"list_hot\"></list_forum_hot>-->\n          <!--</div>-->\n          <!--</div>-->\n        </div>\n\n        <div class=\"row\">\n          <!-- 分页器 -->\n          <div class=\"col overflow-auto flex_cc\">\n            <b-pagination\n                v-model=\"query.page\"\n                :total-rows=\"count\"\n                :per-page=\"query.size\"\n                @change=\"goToPage\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import mixin from \"@/mixins/page.js\";\n  import list_forum from \"@/components/diy/list_forum.vue\";\n  import list_forum_hot from \"@/components/diy/list_forum_hot.vue\";\n\n  export default {\n    mixins: [mixin],\n    components: {\n      list_forum,\n      list_forum_hot,\n    },\n    data() {\n      return {\n        url_get_list: \"~/api/forum/get_list?like=0\",\n        list: [],\n        query: {\n          page: 1,\n          size: 8,\n          title:\"\",\n          type:\"\"\n        },\n        list_hot: [],\n        list_forum_type: [],\n        title: \"\",\n        sort_list: [\n          {\n            name: \"热度从高到低\",\n            value: \"`hits` desc\",\n          },\n          {\n            name: \"热度从低到高\",\n            value: \"`hits` asc\",\n          },\n          {\n            name: \"更新时间从高到低\",\n            value: \"`create_time` desc\",\n          },\n          {\n            name: \"更新时间从低到高\",\n            value: \"`create_time` asc\",\n          },\n        ],\n        search_val:\"\"\n      };\n    },\n    methods: {\n      /**\n       * 获取评论后\n       * @param {Object} json 响应对象\n       */\n      get_list_after(json) {},\n\n      /**\n       * 获取热门论坛\n       */\n      get_hot_forum() {\n        this.$get(\n                \"~/api/forum/get_list\",\n                {\n                  page: 1,\n                  size: 10,\n                  orderby: \"hits\",\n                },\n                (res) => {\n                  if (res.result) {\n                    this.list_hot = res.result.list;\n                  }\n                }\n        );\n      },\n      /**\n       *添加论坛类型过滤\n       */\n      get_forum_type() {\n        this.$get(\n                \"~/api/forum_type/get_list\",\n                {\n                },\n                (res) => {\n                  if (res.result) {\n                    res.result.list.map((o) => this.list_forum_type.push(o.name));\n                  }\n                }\n        );\n      },\n      /**\n       * 商品筛选选择\n       */\n      filter_goods(o) {\n        if (o == \"全部\") {\n          this.query.type = 0;\n        } else {\n          this.query.type = o;\n        }\n        this.search();\n      },\n      /**\n       * 排序\n       */\n      sort_goods(o) {\n        this.query.orderby = o.value;\n        this.search();\n      },\n      /**\n       *  搜索\n       * */\n      submit_search() {\n        this.query.title = this.search_val;\n        this.$get(this.url_get_list, this.query, (json) => {\n          if (json.result && json.result.list) {\n            this.list = json.result.list\n            this.count = json.result.count\n          }\n        })\n        // this.$router.push({\n        //   path: \"/search/details\",\n        //   query: {\n        //     word: this.search_val,\n        //     search_key:\"title\",\n        //     search_type: \"forum\",\n        //     search_title: \"论坛\",\n        //   },\n        // });\n      },\n      goToPage(v){\n        this.query.page = v;\n        this.goToNew(v)\n      }\n    },\n    mounted() {\n      // this.title = \"筛选\";\n      // this.get_hot_forum();\n      this.get_forum_type();\n    },\n  };\n</script>\n\n<style scoped>\n  .flex_cc {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .container {\n    min-height: 800px;\n  }\n  .forum_list h4 {\n    font-size: 20px;\n  }\n  .list_hot {\n    flex: 0 0 30%;\n    overflow: hidden;\n  }\n  .list_hot h4 {\n    font-size: 20px;\n  }\n  .filter_block {\n    display: flex;\n    flex-direction: row;\n    justify-content: start;\n    margin-bottom: 10px;\n  }\n  .bar_filter {\n    display: flex;\n    align-items: center;\n  }\n  li {\n    list-style: none;\n  }\n  .bar_sort {\n    margin-left: 5px;\n  }\n  .search_box{\n    display: flex;\n    margin-bottom: 1rem;\n  }\n  .add_forum{\n    display: block;\n    background-color: dodgerblue;\n    color: white !important;\n    width: 100px;\n    text-align: center;\n    line-height: 30px;\n    border-radius: 5px;\n  }\n</style>\n"]}]}