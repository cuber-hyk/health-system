{"remainingRequest":"F:\\专利管理系统\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\专利管理系统\\client_home\\src\\views\\forum\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\专利管理系统\\client_home\\src\\views\\forum\\list.vue","mtime":1669188328000},{"path":"F:\\专利管理系统\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\专利管理系统\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"F:\\专利管理系统\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\专利管理系统\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIGltcG9ydCBtaXhpbiBmcm9tICJAL21peGlucy9wYWdlLmpzIjsNCiAgaW1wb3J0IGxpc3RfZm9ydW0gZnJvbSAiQC9jb21wb25lbnRzL2RpeS9saXN0X2ZvcnVtLnZ1ZSI7DQogIGltcG9ydCBsaXN0X2ZvcnVtX2hvdCBmcm9tICJAL2NvbXBvbmVudHMvZGl5L2xpc3RfZm9ydW1faG90LnZ1ZSI7DQoNCiAgZXhwb3J0IGRlZmF1bHQgew0KICAgIG1peGluczogW21peGluXSwNCiAgICBjb21wb25lbnRzOiB7DQogICAgICBsaXN0X2ZvcnVtLA0KICAgICAgbGlzdF9mb3J1bV9ob3QsDQogICAgfSwNCiAgICBkYXRhKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgdXJsX2dldF9saXN0OiAifi9hcGkvZm9ydW0vZ2V0X2xpc3Q/bGlrZT0wIiwNCiAgICAgICAgbGlzdDogW10sDQogICAgICAgIHF1ZXJ5OiB7DQogICAgICAgICAgcGFnZTogMSwNCiAgICAgICAgICBzaXplOiA4LA0KICAgICAgICAgIHRpdGxlOiIiLA0KICAgICAgICAgIHR5cGU6IiINCiAgICAgICAgfSwNCiAgICAgICAgbGlzdF9ob3Q6IFtdLA0KICAgICAgICBsaXN0X2ZvcnVtX3R5cGU6IFtdLA0KICAgICAgICB0aXRsZTogIiIsDQogICAgICAgIHNvcnRfbGlzdDogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIG5hbWU6ICLng63luqbku47pq5jliLDkvY4iLA0KICAgICAgICAgICAgdmFsdWU6ICJgaGl0c2AgZGVzYyIsDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICBuYW1lOiAi54Ot5bqm5LuO5L2O5Yiw6auYIiwNCiAgICAgICAgICAgIHZhbHVlOiAiYGhpdHNgIGFzYyIsDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICBuYW1lOiAi5pu05paw5pe26Ze05LuO6auY5Yiw5L2OIiwNCiAgICAgICAgICAgIHZhbHVlOiAiYGNyZWF0ZV90aW1lYCBkZXNjIiwNCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIG5hbWU6ICLmm7TmlrDml7bpl7Tku47kvY7liLDpq5giLA0KICAgICAgICAgICAgdmFsdWU6ICJgY3JlYXRlX3RpbWVgIGFzYyIsDQogICAgICAgICAgfSwNCiAgICAgICAgXSwNCiAgICAgICAgc2VhcmNoX3ZhbDoiIg0KICAgICAgfTsNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgIC8qKg0KICAgICAgICog6I635Y+W6K+E6K665ZCODQogICAgICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiDlk43lupTlr7nosaENCiAgICAgICAqLw0KICAgICAgZ2V0X2xpc3RfYWZ0ZXIoanNvbikge30sDQoNCiAgICAgIC8qKg0KICAgICAgICog6I635Y+W54Ot6Zeo6K665Z2bDQogICAgICAgKi8NCiAgICAgIGdldF9ob3RfZm9ydW0oKSB7DQogICAgICAgIHRoaXMuJGdldCgNCiAgICAgICAgICAgICAgICAifi9hcGkvZm9ydW0vZ2V0X2xpc3QiLA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgIHBhZ2U6IDEsDQogICAgICAgICAgICAgICAgICBzaXplOiAxMCwNCiAgICAgICAgICAgICAgICAgIG9yZGVyYnk6ICJoaXRzIiwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIChyZXMpID0+IHsNCiAgICAgICAgICAgICAgICAgIGlmIChyZXMucmVzdWx0KSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdF9ob3QgPSByZXMucmVzdWx0Lmxpc3Q7DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICApOw0KICAgICAgfSwNCiAgICAgIC8qKg0KICAgICAgICrmt7vliqDorrrlnZvnsbvlnovov4fmu6QNCiAgICAgICAqLw0KICAgICAgZ2V0X2ZvcnVtX3R5cGUoKSB7DQogICAgICAgIHRoaXMuJGdldCgNCiAgICAgICAgICAgICAgICAifi9hcGkvZm9ydW1fdHlwZS9nZXRfbGlzdCIsDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgKHJlcykgPT4gew0KICAgICAgICAgICAgICAgICAgaWYgKHJlcy5yZXN1bHQpIHsNCiAgICAgICAgICAgICAgICAgICAgcmVzLnJlc3VsdC5saXN0Lm1hcCgobykgPT4gdGhpcy5saXN0X2ZvcnVtX3R5cGUucHVzaChvLm5hbWUpKTsNCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICk7DQogICAgICB9LA0KICAgICAgLyoqDQogICAgICAgKiDllYblk4HnrZvpgInpgInmi6kNCiAgICAgICAqLw0KICAgICAgZmlsdGVyX2dvb2RzKG8pIHsNCiAgICAgICAgaWYgKG8gPT0gIuWFqOmDqCIpIHsNCiAgICAgICAgICB0aGlzLnF1ZXJ5LnR5cGUgPSAwOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMucXVlcnkudHlwZSA9IG87DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5zZWFyY2goKTsNCiAgICAgIH0sDQogICAgICAvKioNCiAgICAgICAqIOaOkuW6jw0KICAgICAgICovDQogICAgICBzb3J0X2dvb2RzKG8pIHsNCiAgICAgICAgdGhpcy5xdWVyeS5vcmRlcmJ5ID0gby52YWx1ZTsNCiAgICAgICAgdGhpcy5zZWFyY2goKTsNCiAgICAgIH0sDQogICAgICAvKioNCiAgICAgICAqICDmkJzntKINCiAgICAgICAqICovDQogICAgICBzdWJtaXRfc2VhcmNoKCkgew0KICAgICAgICB0aGlzLnF1ZXJ5LnRpdGxlID0gdGhpcy5zZWFyY2hfdmFsOw0KICAgICAgICB0aGlzLiRnZXQodGhpcy51cmxfZ2V0X2xpc3QsIHRoaXMucXVlcnksIChqc29uKSA9PiB7DQogICAgICAgICAgaWYgKGpzb24ucmVzdWx0ICYmIGpzb24ucmVzdWx0Lmxpc3QpIHsNCiAgICAgICAgICAgIHRoaXMubGlzdCA9IGpzb24ucmVzdWx0Lmxpc3QNCiAgICAgICAgICAgIHRoaXMuY291bnQgPSBqc29uLnJlc3VsdC5jb3VudA0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgLy8gdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICAvLyAgIHBhdGg6ICIvc2VhcmNoL2RldGFpbHMiLA0KICAgICAgICAvLyAgIHF1ZXJ5OiB7DQogICAgICAgIC8vICAgICB3b3JkOiB0aGlzLnNlYXJjaF92YWwsDQogICAgICAgIC8vICAgICBzZWFyY2hfa2V5OiJ0aXRsZSIsDQogICAgICAgIC8vICAgICBzZWFyY2hfdHlwZTogImZvcnVtIiwNCiAgICAgICAgLy8gICAgIHNlYXJjaF90aXRsZTogIuiuuuWdmyIsDQogICAgICAgIC8vICAgfSwNCiAgICAgICAgLy8gfSk7DQogICAgICB9LA0KICAgICAgZ29Ub1BhZ2Uodil7DQogICAgICAgIHRoaXMucXVlcnkucGFnZSA9IHY7DQogICAgICAgIHRoaXMuZ29Ub05ldyh2KQ0KICAgICAgfQ0KICAgIH0sDQogICAgbW91bnRlZCgpIHsNCiAgICAgIC8vIHRoaXMudGl0bGUgPSAi562b6YCJIjsNCiAgICAgIC8vIHRoaXMuZ2V0X2hvdF9mb3J1bSgpOw0KICAgICAgdGhpcy5nZXRfZm9ydW1fdHlwZSgpOw0KICAgIH0sDQogIH07DQo="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";AA0FA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/forum","sourcesContent":["<template>\r\n  <div class=\"page_forum\" id=\"forum_index\">\r\n    <div class=\"warp\" v-if=\"$check_action('/forum/list','get')\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-12 col-md-9\">\r\n            <div class=\"card_forum_list\">\r\n              <!--<h4>论坛列表</h4>-->\r\n\r\n              <!-- 搜索栏 -->\r\n              <div class=\"search_box\">\r\n                <b-form-input\r\n                        size=\"sm\"\r\n                        class=\"mr-sm-2\"\r\n                        placeholder=\"局部搜索\"\r\n                        v-model.trim=\"search_val\"\r\n                        @keyup.enter=\"submit_search\"\r\n                ></b-form-input>\r\n                <select v-model=\"query.type\" style=\"width: 200px\">\r\n                  <option value=\"\">全部</option>\r\n                  <option v-for=\"(o,i) in list_forum_type\" :value=\"o\">{{o}}</option>\r\n                </select>\r\n                <b-button size=\"sm\" @click=\"submit_search\"\r\n                ><b-icon icon=\"search\"></b-icon\r\n                ></b-button>\r\n                <router-link  style=\"margin-left: 10px\" v-if=\"user_group == '管理员' || $check_action('/forum/list','add')\" class=\"add_forum\" to=\"/forum/view\">\r\n                  发布内容\r\n                </router-link>\r\n              </div>\r\n              <!--<div class=\"filter_block\">-->\r\n              <!--&lt;!&ndash; 筛选 &ndash;&gt;-->\r\n              <!--<div class=\"bar_filter\">-->\r\n              <!--<b-dropdown :text=\"title\" variant=\"outline-dark\" left>-->\r\n              <!--<b-dropdown-item-->\r\n              <!--v-for=\"(o, i) in list_forum_type\"-->\r\n              <!--:key=\"i\"-->\r\n              <!--@click=\"filter_goods(o)\"-->\r\n              <!--&gt;-->\r\n              <!--{{ o }}-->\r\n              <!--</b-dropdown-item>-->\r\n              <!--</b-dropdown>-->\r\n              <!--</div>-->\r\n              <!--&lt;!&ndash; /筛选 &ndash;&gt;-->\r\n              <!--&lt;!&ndash; 排序 &ndash;&gt;-->\r\n              <!--<div-->\r\n              <!--class=\"bar_sort\"-->\r\n              <!--:class=\"{ active: query.orderby == '`hits` desc' }\"-->\r\n              <!--&gt;-->\r\n              <!--<b-dropdown text=\"排序\" variant=\"outline-dark\" left>-->\r\n              <!--<b-dropdown-item-->\r\n              <!--v-for=\"(o, i) in sort_list\"-->\r\n              <!--:key=\"i\"-->\r\n              <!--@click=\"sort_goods(o)\"-->\r\n              <!--&gt;-->\r\n              <!--{{ o.name }}-->\r\n              <!--</b-dropdown-item>-->\r\n              <!--</b-dropdown>-->\r\n              <!--</div>-->\r\n              <!--&lt;!&ndash;/排序 &ndash;&gt;-->\r\n              <!--</div>-->\r\n              <!-- 论坛列表 -->\r\n              <list_forum :list=\"list\"></list_forum>\r\n            </div>\r\n          </div>\r\n          <!--<div class=\"col-12 col-md-3\">-->\r\n          <!--<div class=\"card_list_hot\">-->\r\n          <!--&lt;!&ndash; 热门论坛列表 &ndash;&gt;-->\r\n          <!--<h4>热门论坛列表</h4>-->\r\n          <!--<list_forum_hot :list=\"list_hot\"></list_forum_hot>-->\r\n          <!--</div>-->\r\n          <!--</div>-->\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n          <!-- 分页器 -->\r\n          <div class=\"col overflow-auto flex_cc\">\r\n            <b-pagination\r\n                v-model=\"query.page\"\r\n                :total-rows=\"count\"\r\n                :per-page=\"query.size\"\r\n                @change=\"goToPage\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import mixin from \"@/mixins/page.js\";\r\n  import list_forum from \"@/components/diy/list_forum.vue\";\r\n  import list_forum_hot from \"@/components/diy/list_forum_hot.vue\";\r\n\r\n  export default {\r\n    mixins: [mixin],\r\n    components: {\r\n      list_forum,\r\n      list_forum_hot,\r\n    },\r\n    data() {\r\n      return {\r\n        url_get_list: \"~/api/forum/get_list?like=0\",\r\n        list: [],\r\n        query: {\r\n          page: 1,\r\n          size: 8,\r\n          title:\"\",\r\n          type:\"\"\r\n        },\r\n        list_hot: [],\r\n        list_forum_type: [],\r\n        title: \"\",\r\n        sort_list: [\r\n          {\r\n            name: \"热度从高到低\",\r\n            value: \"`hits` desc\",\r\n          },\r\n          {\r\n            name: \"热度从低到高\",\r\n            value: \"`hits` asc\",\r\n          },\r\n          {\r\n            name: \"更新时间从高到低\",\r\n            value: \"`create_time` desc\",\r\n          },\r\n          {\r\n            name: \"更新时间从低到高\",\r\n            value: \"`create_time` asc\",\r\n          },\r\n        ],\r\n        search_val:\"\"\r\n      };\r\n    },\r\n    methods: {\r\n      /**\r\n       * 获取评论后\r\n       * @param {Object} json 响应对象\r\n       */\r\n      get_list_after(json) {},\r\n\r\n      /**\r\n       * 获取热门论坛\r\n       */\r\n      get_hot_forum() {\r\n        this.$get(\r\n                \"~/api/forum/get_list\",\r\n                {\r\n                  page: 1,\r\n                  size: 10,\r\n                  orderby: \"hits\",\r\n                },\r\n                (res) => {\r\n                  if (res.result) {\r\n                    this.list_hot = res.result.list;\r\n                  }\r\n                }\r\n        );\r\n      },\r\n      /**\r\n       *添加论坛类型过滤\r\n       */\r\n      get_forum_type() {\r\n        this.$get(\r\n                \"~/api/forum_type/get_list\",\r\n                {\r\n                },\r\n                (res) => {\r\n                  if (res.result) {\r\n                    res.result.list.map((o) => this.list_forum_type.push(o.name));\r\n                  }\r\n                }\r\n        );\r\n      },\r\n      /**\r\n       * 商品筛选选择\r\n       */\r\n      filter_goods(o) {\r\n        if (o == \"全部\") {\r\n          this.query.type = 0;\r\n        } else {\r\n          this.query.type = o;\r\n        }\r\n        this.search();\r\n      },\r\n      /**\r\n       * 排序\r\n       */\r\n      sort_goods(o) {\r\n        this.query.orderby = o.value;\r\n        this.search();\r\n      },\r\n      /**\r\n       *  搜索\r\n       * */\r\n      submit_search() {\r\n        this.query.title = this.search_val;\r\n        this.$get(this.url_get_list, this.query, (json) => {\r\n          if (json.result && json.result.list) {\r\n            this.list = json.result.list\r\n            this.count = json.result.count\r\n          }\r\n        })\r\n        // this.$router.push({\r\n        //   path: \"/search/details\",\r\n        //   query: {\r\n        //     word: this.search_val,\r\n        //     search_key:\"title\",\r\n        //     search_type: \"forum\",\r\n        //     search_title: \"论坛\",\r\n        //   },\r\n        // });\r\n      },\r\n      goToPage(v){\r\n        this.query.page = v;\r\n        this.goToNew(v)\r\n      }\r\n    },\r\n    mounted() {\r\n      // this.title = \"筛选\";\r\n      // this.get_hot_forum();\r\n      this.get_forum_type();\r\n    },\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .flex_cc {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n  .container {\r\n    min-height: 800px;\r\n  }\r\n  .forum_list h4 {\r\n    font-size: 20px;\r\n  }\r\n  .list_hot {\r\n    flex: 0 0 30%;\r\n    overflow: hidden;\r\n  }\r\n  .list_hot h4 {\r\n    font-size: 20px;\r\n  }\r\n  .filter_block {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: start;\r\n    margin-bottom: 10px;\r\n  }\r\n  .bar_filter {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  li {\r\n    list-style: none;\r\n  }\r\n  .bar_sort {\r\n    margin-left: 5px;\r\n  }\r\n  .search_box{\r\n    display: flex;\r\n    margin-bottom: 1rem;\r\n  }\r\n  .add_forum{\r\n    display: block;\r\n    background-color: dodgerblue;\r\n    color: white !important;\r\n    width: 100px;\r\n    text-align: center;\r\n    line-height: 30px;\r\n    border-radius: 5px;\r\n  }\r\n</style>\r\n"]}]}