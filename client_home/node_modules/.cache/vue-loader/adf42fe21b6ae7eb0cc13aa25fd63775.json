{"remainingRequest":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\views\\forum\\view.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\views\\forum\\view.vue","mtime":1657768166000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CglpbXBvcnQgbWl4aW4gZnJvbSAiQC9taXhpbnMvcGFnZS5qcyI7CgoJZXhwb3J0IGRlZmF1bHQgewoJCW1peGluczogW21peGluXSwKCQlkYXRhKCkgewoJCQlyZXR1cm4gewoJCQkJZmllbGQ6ICJmb3J1bV9pZCIsCgkJCQl1cmxfYWRkOiAifi9hcGkvZm9ydW0vYWRkPyIsCgkJCQl1cmxfc2V0OiAifi9hcGkvZm9ydW0vc2V0PyIsCgkJCQl1cmxfZ2V0X29iajogIn4vYXBpL2ZvcnVtL2dldF9vYmo/IiwKCQkJCXVybF91cGxvYWQ6ICJ+L2FwaS9mb3J1bS91cGxvYWQ/IiwKCgkJCQlxdWVyeTogewoJCQkJCWZvcnVtX2lkOiAwCgkJCQl9LAoKCQkJCWxpc3RfZm9ydW1fdHlwZTogW10sCgoJCQkJZm9ybTogewoJCQkJCWZvcnVtX2lkOiAwLAoJCQkJCXVzZXJfaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlcl9pZCwKCQkJCQlkaXNwbGF5OiAwLAoJCQkJCW5pY2tuYW1lOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLm5pY2tuYW1lLAoJCQkJCWhpdHM6IDAsCgkJCQkJdGl0bGU6ICIiLAoJCQkJCWtleXdvcmRzOiAiIiwKCQkJCQlkZXNjcmlwdGlvbjogIiIsCgkJCQkJdXJsOiAiIiwKCQkJCQl0YWc6ICIiLAoJCQkJCWltZzogIiIsCgkJCQkJY29udGVudDogIiIsCgkJCQkJYXZhdGFyOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmF2YXRhcgoJCQkJfSwKCgkJCX0KCQl9LAoJCW1ldGhvZHM6IHsKCgkJCS8qKgoJCQkgKiDkv67mlLnmlofku7YKCQkJICogQHBhcmFtIHsgT2JqZWN0IH0gZmlsZXMg5LiK5Lyg5paH5Lu25a+56LGhCgkJCSAqIEBwYXJhbSB7IFN0cmluZyB9IHN0ciDooajljZXnmoTlsZ7mgKflkI0KCQkJICovCgkJCWNoYW5nZV9maWxlKGZpbGVzLCBzdHIpIHsKCQkJCXZhciBmb3JtID0gbmV3IEZvcm1EYXRhKCk7CgkJCQlmb3JtLmFwcGVuZCgiZmlsZSIsIGZpbGVzWzBdKTsKCQkJCXRoaXMuJHBvc3QoIn4vYXBpL2ZvcnVtL3VwbG9hZD8iLCBmb3JtLCAocmVzKSA9PiB7CgkJCQkJaWYgKHJlcy5yZXN1bHQpIHsKCQkJCQkJdGhpcy5mb3JtW3N0cl0gPSByZXMucmVzdWx0LnVybDsKCQkJCQkJY29uc29sZS5sb2codGhpcy5mb3JtLmltZykKCQkJCQl9IGVsc2UgaWYgKHJlcy5lcnJvcikgewoJCQkJCQl0aGlzLiR0b2FzdChyZXMuZXJyb3IubWVzc2FnZSk7CgkJCQkJfQoJCQkJfSk7CgkJCX0sCgoJCQlzdWJtaXRfY2hlY2socGFyYW1zKSB7CgkJCQl2YXIgbXNnID0gIiI7CgkJCQlpZiAocGFyYW1zLnRpdGxlID09PSAiIikgewoJCQkJCW1zZyA9ICLmoIfpopjkuI3og73kuLrnqboiOwoJCQkJCXJldHVybiBtc2c7CgkJCQl9CgkJCX0sCgoJCQlhc3luYyBnZXRfZm9ydW1fdHlwZSgpIHsKCQkJCXZhciBqc29uID0gYXdhaXQgdGhpcy4kZ2V0KCJ+L2FwaS9mb3J1bV90eXBlL2dldF9saXN0PyIpOwoJCQkJaWYoanNvbi5yZXN1bHQpewoJCQkJCXRoaXMubGlzdF9mb3J1bV90eXBlID0ganNvbi5yZXN1bHQubGlzdDsKCQkJCX0KCQkJCWVsc2UgaWYoanNvbi5lcnJvcil7CgkJCQkJY29uc29sZS5lcnJvcihqc29uLmVycm9yKTsKCQkJCX0KCQkJfSwKCQl9LAoJCWNyZWF0ZWQoKXsKCQkJdGhpcy5nZXRfZm9ydW1fdHlwZSgpOwoJCX0KCX0K"},{"version":3,"sources":["view.vue"],"names":[],"mappings":";AAkFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"view.vue","sourceRoot":"src/views/forum","sourcesContent":["<template>\n\t<div class=\"diy_edit page_i_want_to_customize\" id=\"i_want_to_customize_edit\">\n\t\t<div class='warp'>\n\t\t\t<div class='container'>\n\t\t\t\t<div class='row form'>\n\t\t\t\t\t<div class=\"col-12 col-md-12 form_img\" style=\"margin-top: 50px\">\n\t\t\t\t\t\t<div class=\"diy_title\">\n\t\t\t\t\t\t\t<span>封面图:\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!-- 图片 -->\n\t\t\t\t\t\t<input type=\"file\" style=\"display: none;\" id=\"img\" title=\"avatar\" @change=\"change_file($event.target.files,'img')\"/>\n\t\t\t\t\t\t<!-- 修改权限 -->\n\t\t\t\t\t\t<div class=\"diy_field diy_img\" v-if=\"form.img\">\n\t\t\t\t\t\t\t<label for=\"img\">\n\t\t\t\t\t\t\t\t<img style=\"width: 100px;height: 100px\" :src=\"$fullUrl(form.img)\" />\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!-- 添加权限 -->\n\t\t\t\t\t\t<div class=\"diy_field diy_img\" v-else>\n\t\t\t\t\t\t\t<label for=\"img\">\n\t\t\t\t\t\t\t\t<div class=\"btn_add_img\">\n\t\t\t\t\t\t\t\t\t<span>+</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col-12 col-md-12 form_item\" style=\"margin-top: 20px\">\n\t\t\t\t\t\t<div class=\"diy_title\">\n\t\t\t\t\t\t\t<span>标题:\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!-- 文本 -->\n\t\t\t\t\t\t<div class=\"diy_field diy_text diy_input\">\n\t\t\t\t\t\t\t<input type=\"text\" id=\"title\" v-model=\"form.title\" placeholder=\"请输入标题\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col-12 col-md-12 form_item\">\n\t\t\t\t\t\t<div class=\"diy_title\">\n\t\t\t\t\t\t\t<span>分类:\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!-- 文本 -->\n\t\t\t\t\t\t<div class=\"diy_field diy_text diy_input\">\n\t\t\t\t\t\t\t<select id=\"type\" v-model=\"form.type\">\n\t\t\t\t\t\t\t\t<option v-for=\"o in list_forum_type\" :value=\"o.name\">\n\t\t\t\t\t\t\t\t\t{{o.name}}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col-12 col-md-12 form_item\">\n\t\t\t\t\t\t<div class=\"diy_title\">\n\t\t\t\t\t\t\t<span>标签:\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!-- 文本 -->\n\t\t\t\t\t\t<div class=\"diy_field diy_text diy_input\">\n\t\t\t\t\t\t\t<input type=\"text\" id=\"tag\" v-model=\"form.tag\" placeholder=\"请输入标签，多个标签输入|分隔\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col-12 col-md-12 form_editor\">\n\t\t\t\t\t\t<div class=\"diy_title\">\n\t\t\t\t\t\t\t<span>正文:\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!-- 文本 -->\n\t\t\t\t\t\t<div class=\"diy_field diy_text\" style=\"margin-left: 40px\">\n\t\t\t\t\t\t\t<quill-editor v-model=\"form.content\" class=\"form_editor_block\">\n\t\t\t\t\t\t\t</quill-editor>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col-12 col-md-12\" style=\"height: 100px\">\n\t\t\t\t\t\t<button class=\"submit_button\" @click=\"submit()\">发表内容</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\timport mixin from \"@/mixins/page.js\";\n\n\texport default {\n\t\tmixins: [mixin],\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tfield: \"forum_id\",\n\t\t\t\turl_add: \"~/api/forum/add?\",\n\t\t\t\turl_set: \"~/api/forum/set?\",\n\t\t\t\turl_get_obj: \"~/api/forum/get_obj?\",\n\t\t\t\turl_upload: \"~/api/forum/upload?\",\n\n\t\t\t\tquery: {\n\t\t\t\t\tforum_id: 0\n\t\t\t\t},\n\n\t\t\t\tlist_forum_type: [],\n\n\t\t\t\tform: {\n\t\t\t\t\tforum_id: 0,\n\t\t\t\t\tuser_id: this.$store.state.user.user_id,\n\t\t\t\t\tdisplay: 0,\n\t\t\t\t\tnickname: this.$store.state.user.nickname,\n\t\t\t\t\thits: 0,\n\t\t\t\t\ttitle: \"\",\n\t\t\t\t\tkeywords: \"\",\n\t\t\t\t\tdescription: \"\",\n\t\t\t\t\turl: \"\",\n\t\t\t\t\ttag: \"\",\n\t\t\t\t\timg: \"\",\n\t\t\t\t\tcontent: \"\",\n\t\t\t\t\tavatar: this.$store.state.user.avatar\n\t\t\t\t},\n\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\n\t\t\t/**\n\t\t\t * 修改文件\n\t\t\t * @param { Object } files 上传文件对象\n\t\t\t * @param { String } str 表单的属性名\n\t\t\t */\n\t\t\tchange_file(files, str) {\n\t\t\t\tvar form = new FormData();\n\t\t\t\tform.append(\"file\", files[0]);\n\t\t\t\tthis.$post(\"~/api/forum/upload?\", form, (res) => {\n\t\t\t\t\tif (res.result) {\n\t\t\t\t\t\tthis.form[str] = res.result.url;\n\t\t\t\t\t\tconsole.log(this.form.img)\n\t\t\t\t\t} else if (res.error) {\n\t\t\t\t\t\tthis.$toast(res.error.message);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tsubmit_check(params) {\n\t\t\t\tvar msg = \"\";\n\t\t\t\tif (params.title === \"\") {\n\t\t\t\t\tmsg = \"标题不能为空\";\n\t\t\t\t\treturn msg;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tasync get_forum_type() {\n\t\t\t\tvar json = await this.$get(\"~/api/forum_type/get_list?\");\n\t\t\t\tif(json.result){\n\t\t\t\t\tthis.list_forum_type = json.result.list;\n\t\t\t\t}\n\t\t\t\telse if(json.error){\n\t\t\t\t\tconsole.error(json.error);\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tcreated(){\n\t\t\tthis.get_forum_type();\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.btn_add_img{\n\t\tcolor: #D3D3D3;\n\t\ttext-align: center;\n\t\tborder: 1px solid #999;\n\t\theight: 100px;\n\t\twidth: 100px;\n\t\tposition: relative;\n\t}\n\t.btn_add_img text{\n\t\tfont-size: 35px;\n\t\tposition: absolute;\n\t\tleft: 50%;\n\t\ttop: 50%;\n\t\ttransform: translate(-50%,-50%);\n\t}\n\t.btn_add_img span{\n\t\tdisplay: block;\n\t\tcolor: #999;\n\t\tmargin-top: 27px;\n\t}\n\t.form_img{\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\twidth: 90%;\n\t\theight: 100px;\n\t}\n\t.form_item{\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\twidth: 90%;\n\t\theight: 100px;\n\t}\n\t.diy_field{\n\t\tmargin-left: 20px;\n\t}\n\t.form{\n\t\twidth: 75%;\n\t\tmargin: 0 auto;\n\t}\n\t.diy_text input{\n\t\tline-height: 40px;\n\t\twidth: 300px;\n\t}\n\t.diy_text select{\n\t\tline-height: 40px;\n\t\twidth: 300px;\n\t\tbackground-color: white;\n\t\ttext-align: left;\n\t}\n\t.diy_text select option{\n\t\tline-height: 40px;\n\t\twidth: 300px;\n\t\tbackground-color: white;\n\t}\n\t.diy_title{\n\t\twidth: 80px;\n\t}\n\t.form_editor{\n\t\tdisplay: flex;\n\t\talign-items: flex-start;\n\t\twidth: 90%;\n\t\tmin-height: 150px;\n\t\tmargin-top: 30px;\n\t}\n\t.submit_button{\n\t\tmargin: 30px auto;\n\t\tdisplay: block;\n\t\tbackground-color: dodgerblue;\n\t\tcolor: white !important;\n\t\twidth: 100px;\n\t\ttext-align: center;\n\t\tline-height: 30px;\n\t\tborder-radius: 5px;\n\t}\n\t.diy_input{\n\t\tmargin-left: 15px;\n\t}\n</style>\n"]}]}