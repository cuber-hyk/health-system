{"remainingRequest":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\views\\cart\\list.vue?vue&type=style&index=0&id=68b199fa&scoped=true&lang=css&","dependencies":[{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\views\\cart\\list.vue","mtime":1657768166000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5wYWdlX2NhcnQgewogIG1heC13aWR0aDogMTIwMHB4OwogIG1hcmdpbjogMCBhdXRvOwp9Ci5jb250YWluZXIgewogIG1pbi1oZWlnaHQ6IDgwMHB4Owp9Ci5jYXJkIHsKICBwYWRkaW5nOiA1cHg7Cn0KLmZpbHRlcl9ibG9jayB7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogcm93OwogIGp1c3RpZnktY29udGVudDogc3RhcnQ7CiAgbWFyZ2luLWJvdHRvbTogMTBweDsKfQouYmFyX2ZpbHRlciB7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwp9CmxpIHsKICBsaXN0LXN0eWxlOiBub25lOwp9Ci5iYXJfc29ydCB7CiAgbWFyZ2luLWxlZnQ6IDVweDsKfQo="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";AA6FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/cart","sourcesContent":["<template>\n  <div class=\"page_cart\" id=\"cart_index\">\n    <div class=\"warp\">\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col\">\n            <div class=\"card\">\n              <h4>我的购物车</h4>\n              <list_cart :list=\"list\"></list_cart>\n            </div>\n            <button @click=\"del()\">删除</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport mixin from \"@/mixins/page.js\";\nimport list_cart from \"@/components/diy/list_cart.vue\";\nexport default {\n  mixins: [mixin],\n  components: {\n    list_cart,\n  },\n  data() {\n    return {\n      url_get_list: \"~/api/cart/get_list?\",\n      list: [],\n      query: {\n        page: 1,\n        size: 10\n      },\n      list_cart_type: [],\n    };\n  },\n  methods: {\n    get_list_before(param) {\n      param.user_id = this.user.user_id\n      return param\n    },\n    /**\n     * 获取评论后\n     * @param {Object} json 响应对象\n     */\n    get_list_after(json) {\n      return json.result.list.map((o) => {\n        o.selected = false;\n      });\n    },\n    del() {\n      // this.$axios.delete(\"http://cs.chengduziyi.com/api/cart/del\", {\n      //   headers: {\n      //     'x-auth-token': this.$store.state.user.token\n      //   },\n      //   params: {\n      //     cart_id: 88\n      //   }\n      // });\n      // $.ajax({\n      //   type : \"DELETE\", //请求方式\n      //   async: false, // fasle表示同步请求，true表示异步请求\n      //   contentType: \"application/json;charset=UTF-8\", //请求的媒体类型\n      //   url : \"http://cs.chengduziyi.com/api/cart/del\",//请求地址\n      //   headers: {\n      //     'x-auth-token': this.$store.state.user.token\n      //   },\n      //   data : {\n      //     cart_id: 90\n      //   }, //数据，json字符串\n      //   success : function(result) { //请求成功\n      //     console.log(result);\n      //   },\n      //   error : function(e){  //请求失败，包含具体的错误信息\n      //     console.log(e.status);\n      //     console.log(e.responseText);\n      //   }\n      // });\n      for (let i=0;i<this.list.length;i++){\n        if (this.list[i].selected) {\n          this.$get(`~/api/cart/del?cart_id=${this.list[i].cart_id}`, {}, (res) => {\n            this.list.splice(i, 1);\n            i--;\n          });\n        }\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n.page_cart {\n  max-width: 1200px;\n  margin: 0 auto;\n}\n.container {\n  min-height: 800px;\n}\n.card {\n  padding: 5px;\n}\n.filter_block {\n  display: flex;\n  flex-direction: row;\n  justify-content: start;\n  margin-bottom: 10px;\n}\n.bar_filter {\n  display: flex;\n  align-items: center;\n}\nli {\n  list-style: none;\n}\n.bar_sort {\n  margin-left: 5px;\n}\n</style>\n\n"]}]}