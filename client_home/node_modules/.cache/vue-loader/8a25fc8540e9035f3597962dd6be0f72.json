{"remainingRequest":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\views\\cart\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\views\\cart\\list.vue","mtime":1657768166000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBtaXhpbiBmcm9tICJAL21peGlucy9wYWdlLmpzIjsKaW1wb3J0IGxpc3RfY2FydCBmcm9tICJAL2NvbXBvbmVudHMvZGl5L2xpc3RfY2FydC52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbbWl4aW5dLAogIGNvbXBvbmVudHM6IHsKICAgIGxpc3RfY2FydCwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1cmxfZ2V0X2xpc3Q6ICJ+L2FwaS9jYXJ0L2dldF9saXN0PyIsCiAgICAgIGxpc3Q6IFtdLAogICAgICBxdWVyeTogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgc2l6ZTogMTAKICAgICAgfSwKICAgICAgbGlzdF9jYXJ0X3R5cGU6IFtdLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldF9saXN0X2JlZm9yZShwYXJhbSkgewogICAgICBwYXJhbS51c2VyX2lkID0gdGhpcy51c2VyLnVzZXJfaWQKICAgICAgcmV0dXJuIHBhcmFtCiAgICB9LAogICAgLyoqCiAgICAgKiDojrflj5bor4TorrrlkI4KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uIOWTjeW6lOWvueixoQogICAgICovCiAgICBnZXRfbGlzdF9hZnRlcihqc29uKSB7CiAgICAgIHJldHVybiBqc29uLnJlc3VsdC5saXN0Lm1hcCgobykgPT4gewogICAgICAgIG8uc2VsZWN0ZWQgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgZGVsKCkgewogICAgICAvLyB0aGlzLiRheGlvcy5kZWxldGUoImh0dHA6Ly9jcy5jaGVuZ2R1eml5aS5jb20vYXBpL2NhcnQvZGVsIiwgewogICAgICAvLyAgIGhlYWRlcnM6IHsKICAgICAgLy8gICAgICd4LWF1dGgtdG9rZW4nOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnRva2VuCiAgICAgIC8vICAgfSwKICAgICAgLy8gICBwYXJhbXM6IHsKICAgICAgLy8gICAgIGNhcnRfaWQ6IDg4CiAgICAgIC8vICAgfQogICAgICAvLyB9KTsKICAgICAgLy8gJC5hamF4KHsKICAgICAgLy8gICB0eXBlIDogIkRFTEVURSIsIC8v6K+35rGC5pa55byPCiAgICAgIC8vICAgYXN5bmM6IGZhbHNlLCAvLyBmYXNsZeihqOekuuWQjOatpeivt+axgu+8jHRydWXooajnpLrlvILmraXor7fmsYIKICAgICAgLy8gICBjb250ZW50VHlwZTogImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCIsIC8v6K+35rGC55qE5aqS5L2T57G75Z6LCiAgICAgIC8vICAgdXJsIDogImh0dHA6Ly9jcy5jaGVuZ2R1eml5aS5jb20vYXBpL2NhcnQvZGVsIiwvL+ivt+axguWcsOWdgAogICAgICAvLyAgIGhlYWRlcnM6IHsKICAgICAgLy8gICAgICd4LWF1dGgtdG9rZW4nOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnRva2VuCiAgICAgIC8vICAgfSwKICAgICAgLy8gICBkYXRhIDogewogICAgICAvLyAgICAgY2FydF9pZDogOTAKICAgICAgLy8gICB9LCAvL+aVsOaNru+8jGpzb27lrZfnrKbkuLIKICAgICAgLy8gICBzdWNjZXNzIDogZnVuY3Rpb24ocmVzdWx0KSB7IC8v6K+35rGC5oiQ5YqfCiAgICAgIC8vICAgICBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICAvLyAgIH0sCiAgICAgIC8vICAgZXJyb3IgOiBmdW5jdGlvbihlKXsgIC8v6K+35rGC5aSx6LSl77yM5YyF5ZCr5YW35L2T55qE6ZSZ6K+v5L+h5oGvCiAgICAgIC8vICAgICBjb25zb2xlLmxvZyhlLnN0YXR1cyk7CiAgICAgIC8vICAgICBjb25zb2xlLmxvZyhlLnJlc3BvbnNlVGV4dCk7CiAgICAgIC8vICAgfQogICAgICAvLyB9KTsKICAgICAgZm9yIChsZXQgaT0wO2k8dGhpcy5saXN0Lmxlbmd0aDtpKyspewogICAgICAgIGlmICh0aGlzLmxpc3RbaV0uc2VsZWN0ZWQpIHsKICAgICAgICAgIHRoaXMuJGdldChgfi9hcGkvY2FydC9kZWw/Y2FydF9pZD0ke3RoaXMubGlzdFtpXS5jYXJ0X2lkfWAsIHt9LCAocmVzKSA9PiB7CiAgICAgICAgICAgIHRoaXMubGlzdC5zcGxpY2UoaSwgMSk7CiAgICAgICAgICAgIGktLTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICB9Cn0K"},{"version":3,"sources":["list.vue"],"names":[],"mappings":";AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/cart","sourcesContent":["<template>\n  <div class=\"page_cart\" id=\"cart_index\">\n    <div class=\"warp\">\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col\">\n            <div class=\"card\">\n              <h4>我的购物车</h4>\n              <list_cart :list=\"list\"></list_cart>\n            </div>\n            <button @click=\"del()\">删除</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport mixin from \"@/mixins/page.js\";\nimport list_cart from \"@/components/diy/list_cart.vue\";\nexport default {\n  mixins: [mixin],\n  components: {\n    list_cart,\n  },\n  data() {\n    return {\n      url_get_list: \"~/api/cart/get_list?\",\n      list: [],\n      query: {\n        page: 1,\n        size: 10\n      },\n      list_cart_type: [],\n    };\n  },\n  methods: {\n    get_list_before(param) {\n      param.user_id = this.user.user_id\n      return param\n    },\n    /**\n     * 获取评论后\n     * @param {Object} json 响应对象\n     */\n    get_list_after(json) {\n      return json.result.list.map((o) => {\n        o.selected = false;\n      });\n    },\n    del() {\n      // this.$axios.delete(\"http://cs.chengduziyi.com/api/cart/del\", {\n      //   headers: {\n      //     'x-auth-token': this.$store.state.user.token\n      //   },\n      //   params: {\n      //     cart_id: 88\n      //   }\n      // });\n      // $.ajax({\n      //   type : \"DELETE\", //请求方式\n      //   async: false, // fasle表示同步请求，true表示异步请求\n      //   contentType: \"application/json;charset=UTF-8\", //请求的媒体类型\n      //   url : \"http://cs.chengduziyi.com/api/cart/del\",//请求地址\n      //   headers: {\n      //     'x-auth-token': this.$store.state.user.token\n      //   },\n      //   data : {\n      //     cart_id: 90\n      //   }, //数据，json字符串\n      //   success : function(result) { //请求成功\n      //     console.log(result);\n      //   },\n      //   error : function(e){  //请求失败，包含具体的错误信息\n      //     console.log(e.status);\n      //     console.log(e.responseText);\n      //   }\n      // });\n      for (let i=0;i<this.list.length;i++){\n        if (this.list[i].selected) {\n          this.$get(`~/api/cart/del?cart_id=${this.list[i].cart_id}`, {}, (res) => {\n            this.list.splice(i, 1);\n            i--;\n          });\n        }\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n.page_cart {\n  max-width: 1200px;\n  margin: 0 auto;\n}\n.container {\n  min-height: 800px;\n}\n.card {\n  padding: 5px;\n}\n.filter_block {\n  display: flex;\n  flex-direction: row;\n  justify-content: start;\n  margin-bottom: 10px;\n}\n.bar_filter {\n  display: flex;\n  align-items: center;\n}\nli {\n  list-style: none;\n}\n.bar_sort {\n  margin-left: 5px;\n}\n</style>\n\n"]}]}