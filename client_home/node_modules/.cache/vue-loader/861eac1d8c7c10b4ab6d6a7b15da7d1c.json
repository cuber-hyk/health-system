{"remainingRequest":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\src\\components\\diy\\list_goods.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\src\\components\\diy\\list_goods.vue","mtime":1675233590000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoJZXhwb3J0IGRlZmF1bHQgew0KCQlwcm9wczogew0KCQkJdXJsOiB7DQoJCQkJdHlwZTogU3RyaW5nLA0KCQkJCWRlZmF1bHQ6ICIvcGFnZXMvZ29vZHMvZGV0YWlscz9nb29kc19pZD0iLA0KCQkJfSwNCgkJCWxpc3Q6IHsNCgkJCQl0eXBlOiBBcnJheSwNCgkJCQlkZWZhdWx0OiBmdW5jdGlvbigpIHsNCgkJCQkJcmV0dXJuIFtdOw0KCQkJCX0sDQoJCQl9LA0KCQkJdm06IHsNCgkJCQl0eXBlOiBPYmplY3QsDQoJCQkJZGVmYXVsdDogZnVuY3Rpb24oKSB7DQoJCQkJCXJldHVybiB7DQoJCQkJCQlnb29kc19pZDogImdvb2RzX2lkIiwNCgkJCQkJCWltZzogImltZyIsDQoJCQkJCQl0aXRsZTogInRpdGxlIiwNCgkJCQkJCXByaWNlOiAicHJpY2UiLA0KCQkJCQkJcHJpY2VfYWdvOiAicHJpY2VfYWdvIiwNCgkJCQkJCXNvdXJjZV90YWJsZToic291cmNlX3RhYmxlIg0KCQkJCQl9Ow0KCQkJCX0sDQoJCQl9LA0KCQl9LA0KCQlkYXRhKCkgew0KCQkJcmV0dXJuIHsNCgkJCQl1c2VyX2lkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJfaWQNCgkJCX07DQoJCX0sDQoJCW1ldGhvZHM6IHsNCgkJCS8qKg0KCQkJICog5re75Yqg6LSt54mp6L2mDQoJCQkgKi8NCgkJCWFkZF9jYXJ0KG9iaikgew0KCQkJICAgIHZhciB7DQoJCQkgICAgICAgIHRpdGxlLA0KCQkJICAgICAgICBpbWcsDQoJCQkgICAgICAgIHByaWNlLA0KCQkJICAgICAgICBwcmljZV9hZ28sDQoJCQkgICAgICAgIG51bV9idXk6IG51bSwNCgkJCSAgICAgICAgZGVzY3JpcHRpb24sDQoJCQkgICAgICAgIGdvb2RzX2lkLA0KCQkJICAgICAgICB0eXBlLA0KCQkJICAgIH0gPSBvYmo7DQoJCQkgICAgdmFyIGJvZHkgPSB7DQoJCQkgICAgICAgIHRpdGxlLA0KCQkJICAgICAgICBpbWcsDQoJCQkgICAgICAgIHByaWNlLA0KCQkJICAgICAgICBwcmljZV9hZ28sDQoJCQkgICAgICAgIG51bSwNCgkJCSAgICAgICAgcHJpY2VfY291bnQ6IHByaWNlLA0KCQkJICAgICAgICBkZXNjcmlwdGlvbiwNCgkJCSAgICAgICAgZ29vZHNfaWQsDQoJCQkgICAgICAgIHR5cGUsDQoJCQkgICAgICAgIHVzZXJfaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlcl9pZCwNCgkJCSAgICB9Ow0KCQkJCWJvZHkubnVtID0gMTsNCg0KCQkJICAgIHRoaXMuJGdldCgifi9hcGkvY2FydC9nZXRfbGlzdD8iLCB7DQoJCQkgICAgICAgIGdvb2RzX2lkOiBvYmouZ29vZHNfaWQsDQoJCQkJCXVzZXJfaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlcl9pZA0KCQkJICAgIH0sIChyZXMpID0+IHsNCgkJCSAgICAgICAgY29uc29sZS5sb2cocmVzKQ0KCQkJICAgICAgICBpZiAocmVzLnJlc3VsdC5jb3VudCkgew0KCQkJICAgICAgICAgICAgdmFyIHtjYXJ0X2lkLCBudW0sIHByaWNlLCBwcmljZV9jb3VudH0gPSByZXMucmVzdWx0Lmxpc3RbMF07DQoJCQkgICAgICAgICAgICBudW0gKz0gMTsNCgkJCSAgICAgICAgICAgIHByaWNlX2NvdW50ICs9IHByaWNlOw0KCQkJICAgICAgICAgICAgdGhpcy4kcG9zdCgNCgkJCSAgICAgICAgICAgICAgICBgfi9hcGkvY2FydC9zZXQ/Y2FydF9pZD0ke2NhcnRfaWR9YCwNCgkJCSAgICAgICAgICAgICAgICB7DQoJCQkgICAgICAgICAgICAgICAgICAgIG51bSwNCgkJCSAgICAgICAgICAgICAgICAgICAgcHJpY2UsDQoJCQkgICAgICAgICAgICAgICAgICAgIHByaWNlX2NvdW50LA0KCQkJICAgICAgICAgICAgICAgIH0sDQoJCQkgICAgICAgICAgICAgICAgKHJlcykgPT4gew0KCQkJICAgICAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdCgi5bey5Yqg5YWl6LSt54mp6L2mIiwgIuaIkOWKnyIpOw0KCQkJICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5pu05pS55YC8IikNCgkJCSAgICAgICAgICAgICAgICB9DQoJCQkgICAgICAgICAgICApOw0KCQkJICAgICAgICB9IGVsc2Ugew0KCQkJICAgICAgICAgICAgdGhpcy4kcG9zdCgifi9hcGkvY2FydC9hZGQ/IiwgYm9keSwgKHJlcykgPT4gew0KCQkJICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0KCLlt7LliqDlhaXotK3nianovaYiLCAi5oiQ5YqfIik7DQoJCQkgICAgICAgICAgICB9KTsNCgkJCSAgICAgICAgfQ0KCQkJICAgIH0pDQoJCQl9LA0KCQl9DQoJfTsNCg=="},{"version":3,"sources":["list_goods.vue"],"names":[],"mappings":";AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list_goods.vue","sourceRoot":"src/components/diy","sourcesContent":["<template>\r\n\t<div class=\"list_goods list list-x\">\r\n\t\t<div class=\"goods\" v-for=\"(o, i) in list\" :key=\"i\">\r\n\t\t\t<router-link :to=\"'/goods/details?' + vm.goods_id + '=' + o[vm.goods_id]\">\r\n\t\t\t\t<div class=\"media\">\r\n\t\t\t\t\t<div class=\"icon h-100\">\r\n\t\t\t\t\t\t<img :src=\"$fullUrl(o[vm.img])\" style=\"width:100%;height:100%\" v-default-img=\"'/img/default.png'\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</router-link>\r\n\t\t\t<div class=\"doc\">\r\n\t\t\t\t<router-link :to=\"'/goods/details?' + vm.goods_id + '=' + o[vm.goods_id]\">\r\n\t\t\t\t\t<div class=\"title\">{{ o[vm.title] }}</div>\r\n\t\t\t\t</router-link>\r\n\t\t\t\t<div class=\"bottom\">\r\n\t\t\t\t\t<span class=\"price\">￥{{ o[vm.price] }}</span>\r\n\t\t\t\t\t<span class=\"price_ago\">￥{{ o[vm.price_ago] }}</span>\r\n\t\t\t\t\t<b-icon class=\"icon_cart\" icon=\"cart\"  v-if=\"!o[vm.source_table]||$check_cart_page('/'+o[vm.source_table]+'/list')\" @click=\"add_cart(o)\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\turl: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"/pages/goods/details?goods_id=\",\r\n\t\t\t},\r\n\t\t\tlist: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tvm: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tgoods_id: \"goods_id\",\r\n\t\t\t\t\t\timg: \"img\",\r\n\t\t\t\t\t\ttitle: \"title\",\r\n\t\t\t\t\t\tprice: \"price\",\r\n\t\t\t\t\t\tprice_ago: \"price_ago\",\r\n\t\t\t\t\t\tsource_table:\"source_table\"\r\n\t\t\t\t\t};\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tuser_id: this.$store.state.user.user_id\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * 添加购物车\r\n\t\t\t */\r\n\t\t\tadd_cart(obj) {\r\n\t\t\t    var {\r\n\t\t\t        title,\r\n\t\t\t        img,\r\n\t\t\t        price,\r\n\t\t\t        price_ago,\r\n\t\t\t        num_buy: num,\r\n\t\t\t        description,\r\n\t\t\t        goods_id,\r\n\t\t\t        type,\r\n\t\t\t    } = obj;\r\n\t\t\t    var body = {\r\n\t\t\t        title,\r\n\t\t\t        img,\r\n\t\t\t        price,\r\n\t\t\t        price_ago,\r\n\t\t\t        num,\r\n\t\t\t        price_count: price,\r\n\t\t\t        description,\r\n\t\t\t        goods_id,\r\n\t\t\t        type,\r\n\t\t\t        user_id: this.$store.state.user.user_id,\r\n\t\t\t    };\r\n\t\t\t\tbody.num = 1;\r\n\r\n\t\t\t    this.$get(\"~/api/cart/get_list?\", {\r\n\t\t\t        goods_id: obj.goods_id,\r\n\t\t\t\t\tuser_id: this.$store.state.user.user_id\r\n\t\t\t    }, (res) => {\r\n\t\t\t        console.log(res)\r\n\t\t\t        if (res.result.count) {\r\n\t\t\t            var {cart_id, num, price, price_count} = res.result.list[0];\r\n\t\t\t            num += 1;\r\n\t\t\t            price_count += price;\r\n\t\t\t            this.$post(\r\n\t\t\t                `~/api/cart/set?cart_id=${cart_id}`,\r\n\t\t\t                {\r\n\t\t\t                    num,\r\n\t\t\t                    price,\r\n\t\t\t                    price_count,\r\n\t\t\t                },\r\n\t\t\t                (res) => {\r\n\t\t\t                    this.$toast(\"已加入购物车\", \"成功\");\r\n\t\t\t                    console.log(\"更改值\")\r\n\t\t\t                }\r\n\t\t\t            );\r\n\t\t\t        } else {\r\n\t\t\t            this.$post(\"~/api/cart/add?\", body, (res) => {\r\n\t\t\t                this.$toast(\"已加入购物车\", \"成功\");\r\n\t\t\t            });\r\n\t\t\t        }\r\n\t\t\t    })\r\n\t\t\t},\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.media {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\t\tflex-basis: 75%;\r\n\t\tmin-height: 10rem;\r\n\t}\r\n\r\n\t.goods {\r\n\t\tdisplay: flex;\r\n\t\twidth: calc(25% - 1rem);\r\n\t\tmargin: 0.5rem;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\t\tbackground-color: white;\r\n\t\tborder-radius: 0.5rem;\r\n\t}\r\n\r\n\t.goods:hover {\r\n\t\tborder: 0.2rem solid #909399;\r\n\t\tbox-shadow: 0 0.1rem 0.3rem rgba(0, 0, 0, 0.15);\r\n\t}\r\n\r\n\t.goods:hover img {\r\n\t\tfilter: blur(1px);\r\n\t}\r\n\r\n\t.price {\r\n\t\tfont-size: 1rem;\r\n\t\tmargin-right: 3px;\r\n\t}\r\n\r\n\t.price_ago {\r\n\t\ttext-decoration: line-through;\r\n\t\tfont-size: 0.5rem;\r\n\t\tcolor: #999;\r\n\r\n\t}\r\n\r\n\t.title {\r\n\t\tword-break: break-all;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t\tfont-weight: 700;\r\n\t\tpadding: .25rem .5rem;\r\n\t}\r\n\t.bottom {\r\n\t\tpadding: 0 .5rem .5rem 0.5rem;\r\n\t}\r\n\r\n\t.icon_cart {\r\n\t\tcolor: #FF5722;\r\n\t\tfloat: right;\r\n\t}\r\n\r\n\t@media (max-width: 992px) {\r\n\r\n\t\t.goods {\r\n\t\t\twidth: calc(33% - 1rem);\r\n\t\t\t;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@media (max-width: 768px) {\r\n\r\n\t\t.goods {\r\n\t\t\twidth: calc(50% - 1rem);\r\n\t\t\t;\r\n\t\t}\r\n\r\n\t}\r\n</style>\r\n"]}]}