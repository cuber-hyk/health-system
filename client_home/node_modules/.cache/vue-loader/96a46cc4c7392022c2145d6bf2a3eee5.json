{"remainingRequest":"D:\\springboot\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\springboot\\client_home\\src\\views\\user\\password.vue?vue&type=style&index=0&id=a2f7f596&scoped=true&lang=css&","dependencies":[{"path":"D:\\springboot\\client_home\\src\\views\\user\\password.vue","mtime":1677466920000},{"path":"D:\\springboot\\client_home\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\springboot\\client_home\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\springboot\\client_home\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\springboot\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\springboot\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5jb250YWluZXIgewogIG1pbi1oZWlnaHQ6IDgwMHB4Owp9CgouYnRuX2l0ZW0gewogIGN1cnNvcjogcG9pbnRlcjsKICB3aWR0aDogMTAwJTsKICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvcl9wcmltYXJ5KTsKICBjb2xvcjogI2ZmZjsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgaGVpZ2h0OiA0OHB4OwogIGxpbmUtaGVpZ2h0OiA0OHB4Owp9CgouY2FyZF9wYXNzd29yZCB7CiAgcGFkZGluZzogMTBweDsKICB3aWR0aDogNTAwcHg7CiAgbWFyZ2luOiBhdXRvOwp9Cg=="},{"version":3,"sources":["password.vue"],"names":[],"mappings":";AAkKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"password.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\r\n  <div class=\"page_user\" id=\"user_password\">\r\n    <div class=\"warp\">\r\n      <div class=\"container\">\r\n        <div class=\"\">\r\n          <div class=\" col-md-12\">\r\n            <div class=\"\">\r\n              <!-- 左侧边栏 -->\r\n              <list_menu_user :list_info=\"list_info\"></list_menu_user>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-12 col-md-12\">\r\n            <div class=\"card_password pl-2\">\r\n              <div>密码修改</div>\r\n              <!-- 密码修改 -->\r\n              <b-form>\r\n                <b-form-group id=\"input-group-2\" label=\"输入原始密码:\" label-for=\"input-2\"\r\n                              :state=\"validation_o_password\" invalid-feedback=\"密码长度为在5-16个字符\"\r\n                              valid-feedback=\"校验通过\">\r\n                  <b-form-input id=\"input-2\" v-model=\"form.o_password\" type=\"password\"\r\n                                placeholder=\"原始密码\" trim></b-form-input>\r\n                </b-form-group>\r\n                <b-form-group id=\"input-group-2\" label=\"设置新密码:\" label-for=\"input-2\"\r\n                              :state=\"validation_password\" invalid-feedback=\"密码长度为在5-16个字符\"\r\n                              valid-feedback=\"校验通过\">\r\n                  <b-form-input id=\"input-2\" v-model=\"form.password\" type=\"password\"\r\n                                placeholder=\"设置新密码\" trim></b-form-input>\r\n                </b-form-group>\r\n                <b-form-group id=\"input-group-2\" label=\"确认密码:\" label-for=\"input-2\"\r\n                              :state=\"validation_confirm_password\" invalid-feedback=\"密码不一致\" valid-feedback=\"\">\r\n                  <b-form-input id=\"input-2\" v-model=\"confirm_password\" type=\"password\"\r\n                                placeholder=\"确认密码\" trim></b-form-input>\r\n                </b-form-group>\r\n              </b-form>\r\n              <div class=\"password_confim\">\r\n                <div class=\"btn_item\" @click=\"change_password()\">确认修改</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import mixin from \"@/mixins/page.js\";\r\n  import list_menu_user from \"@/components/diy/list_menu_user.vue\";\r\n\r\n  export default {\r\n    mixins: [mixin],\r\n\r\n    data() {\r\n      return {\r\n        form: {\r\n          o_password: \"\",\r\n          password: \"\",\r\n        },\r\n\r\n        confirm_password: \"\",\r\n\r\n        list_info: [{\r\n          title: \"资料管理\",\r\n          url: \"/user/info\",\r\n          icon: \"\",\r\n          selected: false,\r\n        },\r\n          {\r\n            title: \"密码管理\",\r\n            url: \"/user/password\",\r\n            icon: \"\",\r\n            selected: true,\r\n          },\r\n                                      {\r\n                title: \"收藏\",\r\n                url: \"/user/collect\",\r\n                icon: \"\",\r\n                selected: false,\r\n              },\r\n                                ],\r\n      };\r\n    },\r\n    computed: {\r\n      /**\r\n       * 验证原始密码\r\n       */\r\n      validation_o_password() {\r\n        var length = this.form.password.length;\r\n        if (!length) {\r\n          return null;\r\n        }\r\n        return length > 4 && length < 17;\r\n      },\r\n      /**\r\n       * 验证密码\r\n       */\r\n      validation_password() {\r\n        var length = this.form.password.length;\r\n        if (!length) {\r\n          return null;\r\n        }\r\n        return length > 4 && length < 17;\r\n      },\r\n      /**\r\n       * 再次验证密码\r\n       */\r\n      validation_confirm_password() {\r\n        return this.confirm_password === this.form.password;\r\n      },\r\n    },\r\n    methods: {\r\n      /**\r\n       * 修改密码\r\n       */\r\n      change_password() {\r\n        var form = Object.assign({}, this.form);\r\n\r\n        if (this.form.password === this.confirm_password && this.form.o_password) {\r\n          this.$post(\"~/api/user/change_password?\", form, (res) => {\r\n            if (res.result) {\r\n              //弹出更改成功，3秒后调到主页，退出账户\r\n              this.$store.commit(\"sign_out\");\r\n              this.$router.push(\"/account/login\")\r\n            } else if (res.error) {\r\n              console.log(res.error);\r\n              alert(res.error.message);\r\n            }\r\n          });\r\n        }\r\n      },\r\n    },\r\n    components: {\r\n      list_menu_user,\r\n    },\r\n    mounted() {\r\n      // console.log(this.user);\r\n    },\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .container {\r\n    min-height: 800px;\r\n  }\r\n\r\n  .btn_item {\r\n    cursor: pointer;\r\n    width: 100%;\r\n    background-color: var(--color_primary);\r\n    color: #fff;\r\n    text-align: center;\r\n    height: 48px;\r\n    line-height: 48px;\r\n  }\r\n\r\n  .card_password {\r\n    padding: 10px;\r\n    width: 500px;\r\n    margin: auto;\r\n  }\r\n</style>\r\n"]}]}