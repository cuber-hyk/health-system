{"remainingRequest":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\src\\components\\diy\\list_address.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\src\\components\\diy\\list_address.vue","mtime":1675233590000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bishe\\Desktop\\springboot专利管理系统[编号：CS781820_20220828094342] (4)\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoJZXhwb3J0IGRlZmF1bHQgew0KCQluYW1lOiAibGlzdF9hZGRyZXNzIiwNCgkJcHJvcHM6IHsNCgkJCWxpc3Q6IHsNCgkJCQl0eXBlOiBBcnJheSwNCgkJCQlkZWZhdWx0OiBmdW5jdGlvbigpIHsNCgkJCQkJcmV0dXJuIFt7DQoJCQkJCQluYW1lOiAiIiwNCgkJCQkJCXBob25lOiAiIiwNCgkJCQkJCWFkZHJlc3M6ICIiLA0KCQkJCQkJdXNlcl9pZDogMCwNCgkJCQkJCWFkZHJlc3NfaWQ6IDAsDQoJCQkJCQlkZWZhdWx0OiAwLA0KCQkJCQkJZGlzcGxheV9idG46ICJkaXNwbGF5X2J0biINCgkJCQkJfV07DQoJCQkJfQ0KCQkJfSwNCgkJCXZtOiB7DQoJCQkJdHlwZTogT2JqZWN0LA0KCQkJCWRlZmF1bHQ6IGZ1bmN0aW9uKCkgew0KCQkJCQlyZXR1cm4gew0KCQkJCQkJbmFtZTogIm5hbWUiLA0KCQkJCQkJcGhvbmU6ICJwaG9uZSIsDQoJCQkJCQlhZGRyZXNzOiAiYWRkcmVzcyIsDQoJCQkJCQl1c2VyX2lkOiAidXNlcl9pZCIsDQoJCQkJCQlhZGRyZXNzX2lkOiAiYWRkcmVzc19pZCIsDQoJCQkJCQlkZWZhdWx0OiAiZGVmYXVsdCIsDQoJCQkJCQlkaXNwbGF5X2J0bjogImRpc3BsYXlfYnRuIg0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9LA0KCQlkYXRhKCkgew0KCQkJcmV0dXJuIHt9DQoJCX0sDQoJCW1ldGhvZHM6IHsNCgkJCS8vIOmAieaLqem7mOiupOWcsOWdgA0KCQkJYXN5bmMgY2hvb3NlX2RlZmF1bHQob2JqLGkpIHsNCgkJCQl2YXIgX3RoaXMgPSB0aGlzOw0KDQoJCQkJdmFyIHVzZXJfaWQgPSBvYmoudXNlcl9pZDsNCgkJCQl2YXIgYWRkcmVzc19pZCA9IG9iai5hZGRyZXNzX2lkOw0KDQoJCQkJdmFyIHJlcyA9IGF3YWl0IHRoaXMuJHBvc3QoYH4vYXBpL2FkZHJlc3Mvc2V0P3VzZXJfaWQ9JHt1c2VyX2lkfWAsIHsNCgkJCQkJZGVmYXVsdDogMA0KCQkJCX0pDQoNCgkJCQlpZiAocmVzLnJlc3VsdCkgew0KCQkJCQl0aGlzLmxpc3QubWFwKG8gPT4gby5kZWZhdWx0ID0gMCk7DQoNCgkJCQkJdGhpcy4kcG9zdChgfi9hcGkvYWRkcmVzcy9zZXQ/dXNlcl9pZD0ke3VzZXJfaWR9JmFkZHJlc3NfaWQ9JHthZGRyZXNzX2lkfWAsIHsNCgkJCQkJCWRlZmF1bHQ6IDENCgkJCQkJfSwgKGpzb24pID0+IHsNCgkJCQkJCWlmIChqc29uLnJlc3VsdCkgew0KCQkJCQkJCV90aGlzLmxpc3RbaV0uZGVmYXVsdCA9IDE7DQoJCQkJCQkJdGhpcy4kdG9hc3QoIuS/ruaUuem7mOiupOWcsOWdgOaIkOWKn++8gSIpOw0KCQkJCQkJfSBlbHNlIGlmIChqc29uLmVycm9yKSB7DQoJCQkJCQkJY29uc29sZS5sb2coanNvbi5lcnJvcik7DQoJCQkJCQkJdGhpcy4kdG9hc3QoanNvbi5lcnJvci5tZXNzYWdlKTsNCgkJCQkJCX0NCgkJCQkJfSkNCgkJCQl9IGVsc2UgaWYgKHJlcy5lcnJvcikgew0KCQkJCQljb25zb2xlLmxvZyhyZXMuZXJyb3IpOw0KCQkJCQl0aGlzLiR0b2FzdChqc29uLmVycm9yLm1lc3NhZ2UpOw0KCQkJCX0NCgkJCX0sDQoNCgkJCS8vIOWIoOmZpA0KCQkJZGVsX2FkZHJlc3Mob2JqLGkpIHsNCgkJCQl0aGlzLiRnZXQoIn4vYXBpL2FkZHJlc3MvZGVsIiwgew0KCQkJCQkiYWRkcmVzc19pZCI6IG9iai5hZGRyZXNzX2lkDQoJCQkJfSwgKHJlcykgPT4gew0KCQkJCQlpZiAocmVzLnJlc3VsdCkgew0KCQkJCQkJdGhpcy5saXN0LnNwbGljZShpLDEpOw0KCQkJCQkJdGhpcy4kdG9hc3QoIuWIoOmZpOWcsOWdgOaIkOWKn++8gSIpOw0KCQkJCQl9IGVsc2UgaWYgKHJlcy5lcnJvcikgew0KCQkJCQkJY29uc29sZS5sb2cocmVzLmVycm9yKQ0KCQkJCQkJdGhpcy4kdG9hc3QoanNvbi5lcnJvci5tZXNzYWdlKTsNCgkJCQkJfQ0KCQkJCX0pDQoJCQl9LA0KDQoJCQkvLyDmm7TlpJrlsZXnpLoNCgkJCW1vcmVfc2hvdyhvLGkpIHsNCgkJCQlvLmRpc3BsYXlfYnRuID0gIW8uZGlzcGxheV9idG47DQoJCQkJdGhpcy4kc2V0KHRoaXMubGlzdCxpLG8pOw0KCQkJfQ0KCQl9DQoJfQ0K"},{"version":3,"sources":["list_address.vue"],"names":[],"mappings":";AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list_address.vue","sourceRoot":"src/components/diy","sourcesContent":["<template>\r\n\t<div class=\"list_address\">\r\n\t\t<div class=\"address_card\" v-for=\"(o,i) in list\" :key=\"i\">\r\n\t\t\t<div class=\"address_info\">\r\n\t\t\t\t<div class=\"address_top\">\r\n\t\t\t\t\t<div class=\"address_content\">\r\n\t\t\t\t\t\t<div class=\"name\">\r\n\t\t\t\t\t\t\t<span>{{o[vm.name]}}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"tag\">\r\n\t\t\t\t\t\t\t<span class=\"tag_default\"\r\n\t\t\t\t\t\t\t\t:class=\"{ 'show': o[vm.default] ,'hide': !o[vm.default] }\">默认</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"phone\">\r\n\t\t\t\t\t\t\t<span>{{ o[vm.phone] }}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"btn_show\">\r\n\t\t\t\t\t\t<button @click=\"more_show(o,i)\">\r\n\t\t\t\t\t\t\t{{ o[vm.display_btn] ? \"折叠\" : \"展开\" }}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"address_bottom\">\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t{{o[vm.address]}}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"bar_btn\" v-if=\"o[vm.display_btn]\">\r\n\t\t\t\t<button @click=\"choose_default(o,i)\" v-if=\"$check_action('/address/list','set')\">\r\n\t\t\t\t\t<span>设为默认</span>\r\n\t\t\t\t</button>\r\n\t\t\t\t<button @click=\"del_address(o,i)\" v-if=\"$check_action('/address/list','del')\">\r\n\t\t\t\t\t<span>删除</span>\r\n\t\t\t\t</button>\r\n\t\t\t\t<button @click=\"$router.push('./address_edit?address_id='+o[vm.address_id])\"\r\n\t\t\t\t\tv-if=\"$check_action('/address/list','set')\">\r\n\t\t\t\t\t<span>编辑</span>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"btn_address\" @click=\"$router.push('./address_edit')\" v-if=\"$check_action('/address/list','add')\">+\r\n\t\t\t新建收货地址\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: \"list_address\",\r\n\t\tprops: {\r\n\t\t\tlist: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn [{\r\n\t\t\t\t\t\tname: \"\",\r\n\t\t\t\t\t\tphone: \"\",\r\n\t\t\t\t\t\taddress: \"\",\r\n\t\t\t\t\t\tuser_id: 0,\r\n\t\t\t\t\t\taddress_id: 0,\r\n\t\t\t\t\t\tdefault: 0,\r\n\t\t\t\t\t\tdisplay_btn: \"display_btn\"\r\n\t\t\t\t\t}];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tvm: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tname: \"name\",\r\n\t\t\t\t\t\tphone: \"phone\",\r\n\t\t\t\t\t\taddress: \"address\",\r\n\t\t\t\t\t\tuser_id: \"user_id\",\r\n\t\t\t\t\t\taddress_id: \"address_id\",\r\n\t\t\t\t\t\tdefault: \"default\",\r\n\t\t\t\t\t\tdisplay_btn: \"display_btn\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 选择默认地址\r\n\t\t\tasync choose_default(obj,i) {\r\n\t\t\t\tvar _this = this;\r\n\r\n\t\t\t\tvar user_id = obj.user_id;\r\n\t\t\t\tvar address_id = obj.address_id;\r\n\r\n\t\t\t\tvar res = await this.$post(`~/api/address/set?user_id=${user_id}`, {\r\n\t\t\t\t\tdefault: 0\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (res.result) {\r\n\t\t\t\t\tthis.list.map(o => o.default = 0);\r\n\r\n\t\t\t\t\tthis.$post(`~/api/address/set?user_id=${user_id}&address_id=${address_id}`, {\r\n\t\t\t\t\t\tdefault: 1\r\n\t\t\t\t\t}, (json) => {\r\n\t\t\t\t\t\tif (json.result) {\r\n\t\t\t\t\t\t\t_this.list[i].default = 1;\r\n\t\t\t\t\t\t\tthis.$toast(\"修改默认地址成功！\");\r\n\t\t\t\t\t\t} else if (json.error) {\r\n\t\t\t\t\t\t\tconsole.log(json.error);\r\n\t\t\t\t\t\t\tthis.$toast(json.error.message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (res.error) {\r\n\t\t\t\t\tconsole.log(res.error);\r\n\t\t\t\t\tthis.$toast(json.error.message);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 删除\r\n\t\t\tdel_address(obj,i) {\r\n\t\t\t\tthis.$get(\"~/api/address/del\", {\r\n\t\t\t\t\t\"address_id\": obj.address_id\r\n\t\t\t\t}, (res) => {\r\n\t\t\t\t\tif (res.result) {\r\n\t\t\t\t\t\tthis.list.splice(i,1);\r\n\t\t\t\t\t\tthis.$toast(\"删除地址成功！\");\r\n\t\t\t\t\t} else if (res.error) {\r\n\t\t\t\t\t\tconsole.log(res.error)\r\n\t\t\t\t\t\tthis.$toast(json.error.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 更多展示\r\n\t\t\tmore_show(o,i) {\r\n\t\t\t\to.display_btn = !o.display_btn;\r\n\t\t\t\tthis.$set(this.list,i,o);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.list_address {}\r\n\r\n\t.list_address .address_card {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tpadding: 0.5rem 1rem;\r\n\t}\r\n\r\n\t.list_address .address_info {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.list_address .address_top {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.list_address .address_bottom {\r\n\t\theight: 2.5rem;\r\n\t}\r\n\r\n\t.list_address .address_content {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\r\n\t.list_address .hide {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.list_address .show {\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.list_address .tag_default {\r\n\t\tfont-weight: 600;\r\n\t\tfont-size: 0.75rem;\r\n\t\tmargin: 1rem;\r\n\t\tpadding: 0.25rem;\r\n\t\tcolor: #4CD964;\r\n\t\tborder: #4CD964 1px solid;\r\n\t\tborder-radius: 5px;\r\n\t}\r\n\r\n\t.list_address .btn_show {\r\n\t\tpadding-left: 1rem;\r\n\t\twidth: 20%;\r\n\t\tmin-width: 5rem;\r\n\t}\r\n\r\n\t.list_address .btn_show {\r\n\t\tcolor: #15BAF8;\r\n\t\tborder-radius: 5px;\r\n\t}\r\n\r\n\t.list_address .bar_btn {\r\n\t\tmargin-top: .5rem;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: start;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\r\n\t.list_address .bar_btn>button {\r\n\t\tflex: 1;\r\n\t\tmin-width: 7rem;\r\n\t\tborder: #dcdcdc 1px solid;\r\n\t}\r\n\r\n\t.btn_address:hover {\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.btn_address {\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 0.9rem;\r\n\t\tbackground-color: #FA4E28;\r\n\t\theight: 2.2rem;\r\n\t\tline-height: 2.2rem;\r\n\t\tborder-radius: 1rem;\r\n\t\tmargin: 0 auto;\r\n\t\ttext-align: center;\r\n\t}\r\n</style>\r\n"]}]}