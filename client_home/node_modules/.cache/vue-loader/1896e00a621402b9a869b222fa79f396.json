{"remainingRequest":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\components\\diy\\form_address.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\components\\diy\\form_address.vue","mtime":1657768166000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICBpbXBvcnQgbWl4aW4gZnJvbSAiQC9taXhpbnMvcGFnZS5qcyI7CgogICAgZXhwb3J0IGRlZmF1bHQgewogICAgICAgIG1peGluczogW21peGluXSwKICAgICAgICBwcm9wczogewogICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBPYmplY3QsCiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7fSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy8gdm06IHsKICAgICAgICAgICAgLy8gICAgIHR5cGU6IE9iamVjdCwKICAgICAgICAgICAgLy8gICAgIGRlZmF1bHQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy8gICAgICAgICByZXR1cm4gewogICAgICAgICAgICAvLyAgICAgICAgICAgICBhZGRyZXNzOiAiYWRkcmVzcyIsCiAgICAgICAgICAgIC8vICAgICAgICAgICAgIGFkZHJlc3NfaWQ6ICJhZGRyZXNzX2lkIiwKICAgICAgICAgICAgLy8gICAgICAgICAgICAgbmFtZTogIm5hbWUiLAogICAgICAgICAgICAvLyAgICAgICAgICAgICBwaG9uZTogInBob25lIiwKICAgICAgICAgICAgLy8gICAgICAgICB9OwogICAgICAgICAgICAvLyAgICAgfSwKICAgICAgICAgICAgLy8gfSwKICAgICAgICB9LAogICAgICAgIG1ldGhvZHM6IHsKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIOS/neWtmOWcsOWdgAogICAgICAgICAgICAgKi8KICAgICAgICAgICAgc2F2ZV9hZGRyZXNzKCkgewogICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7CiAgICAgICAgICAgICAgICB2YXIge2FkZHJlc3MsIG5hbWUsIHBob25lLCBhZGRyZXNzX2lkLCB1c2VyX2lkfSA9IGRhdGE7CiAgICAgICAgICAgICAgICB1c2VyX2lkID0gdGhpcy51c2VyLnVzZXJfaWQ7CiAgICAgICAgICAgICAgICBpZiAoYWRkcmVzc19pZCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHBvc3QoCiAgICAgICAgICAgICAgICAgICAgICAgIGB+L2FwaS9hZGRyZXNzL3NldD9hZGRyZXNzX2lkPSR7YWRkcmVzc19pZH1gLAogICAgICAgICAgICAgICAgICAgICAgICB7YWRkcmVzcywgbmFtZSwgcGhvbmUsIHVzZXJfaWR9LAogICAgICAgICAgICAgICAgICAgICAgICAocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi4vYWRkcmVzcyIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZ2V0KCd+L2FwaS9hZGRyZXNzL2NvdW50PycsIHsKICAgICAgICAgICAgICAgICAgICAgICAgdXNlcl9pZAogICAgICAgICAgICAgICAgICAgIH0sIChyZXMpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLnJlc3VsdCkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5yZXN1bHQgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHBvc3QoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH4vYXBpL2FkZHJlc3MvYWRkP2AsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2FkZHJlc3MsIG5hbWUsIHBob25lLCBkZWZhdWx0OiAxLCB1c2VyX2lkfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIuL2FkZHJlc3MiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcG9zdCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB+L2FwaS9hZGRyZXNzL2FkZD9gLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2FkZHJlc3MsIG5hbWUsIHBob25lLCB1c2VyX2lkfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyZXMpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi4vYWRkcmVzcyIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIG1vdW50ZWQoKSB7CiAgICAgICAgfSwKICAgIH07Cg=="},{"version":3,"sources":["form_address.vue"],"names":[],"mappings":";AAsCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"form_address.vue","sourceRoot":"src/components/diy","sourcesContent":["<template>\n    <div class=\"form_address\">\n        <div class=\"header\">修改收货地址</div>\n        <div class=\"warp\">\n            <div class=\"container\">\n                <div class=\"row justify-content-between\">\n                    <div class=\"col-3\">\n                        <div class=\"card_menu\">\n                            <div class=\"name\">\n                                <span>收货人</span>\n                                <input type=\"text\" v-model=\"data.name\"/>\n                            </div>\n                            <div class=\"phone\">\n                                <span>手机号</span>\n                                <input type=\"text\" v-model=\"data.phone\"/>\n                            </div>\n                            <div class=\"address\">\n                                <span>详细地址</span>\n                                <b-form-textarea\n                                        id=\"textarea\"\n                                        v-model=\"data.address\"\n                                        placeholder=\"请输入地址\"\n                                        rows=\"3\"\n                                        max-rows=\"6\"\n                                ></b-form-textarea>\n                            </div>\n                            <button class=\"btn_save\" type=\"default\" @click=\"save_address()\">\n                                保存\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import mixin from \"@/mixins/page.js\";\n\n    export default {\n        mixins: [mixin],\n        props: {\n            data: {\n                type: Object,\n                default: {},\n            },\n            // vm: {\n            //     type: Object,\n            //     default: function () {\n            //         return {\n            //             address: \"address\",\n            //             address_id: \"address_id\",\n            //             name: \"name\",\n            //             phone: \"phone\",\n            //         };\n            //     },\n            // },\n        },\n        methods: {\n            /**\n             * 保存地址\n             */\n            save_address() {\n                var data = this.data;\n                var {address, name, phone, address_id, user_id} = data;\n                user_id = this.user.user_id;\n                if (address_id) {\n                    this.$post(\n                        `~/api/address/set?address_id=${address_id}`,\n                        {address, name, phone, user_id},\n                        (res) => {\n                            // console.log(res);\n                            this.$router.push(\"./address\");\n                        }\n                    );\n                } else {\n                    this.$get('~/api/address/count?', {\n                        user_id\n                    }, (res) => {\n                        // console.log(res.result)\n                        if (res.result === 0) {\n                            this.$post(\n                                `~/api/address/add?`,\n                                {address, name, phone, default: 1, user_id},\n                                (res) => {\n                                    console.log(res);\n                                    this.$router.push(\"./address\");\n                                }\n                            );\n                        }else {\n                          this.$post(\n                                  `~/api/address/add?`,\n                                  {address, name, phone, user_id},\n                                  (res) => {\n                                    // console.log(res);\n                                    this.$router.push(\"./address\");\n                                  }\n                          );\n                        }\n                    });\n                }\n            },\n        },\n        mounted() {\n        },\n    };\n</script>\n\n<style scoped>\n    .form_address {\n        padding: 0 0.8rem;\n        min-height: 580px;\n    }\n\n    .header {\n        justify-content: center;\n        text-align: center;\n    }\n\n    .form_address input {\n        display: inline-block;\n    }\n\n    .form_address > div {\n        display: flex;\n        align-items: center;\n        padding: 0.5rem 0;\n        border-bottom: 1px solid #f4f4f4;\n        font-size: 0.9rem;\n    }\n\n    .form_address > div > text {\n        width: 4.5rem;\n    }\n\n    .form_address > div > input {\n        font-size: 0.9rem;\n    }\n\n    .form_address > div > textarea {\n        font-size: 0.9rem;\n    }\n\n    .address {\n        align-items: baseline;\n    }\n\n    .form_address .address > text {\n        width: 5.5rem;\n        margin-right: 0.5rem;\n    }\n\n    .btn_save {\n        margin-top: 0.5rem;\n        color: var(--color_primary);\n    }\n</style>\n"]}]}