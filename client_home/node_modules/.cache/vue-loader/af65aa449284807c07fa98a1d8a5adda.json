{"remainingRequest":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\views\\goods\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\src\\views\\goods\\list.vue","mtime":1657768166000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\weixinback\\wxid_5488mcc1cgih21\\WeChat Files\\wxid_5488mcc1cgih21\\FileStorage\\File\\2022-12\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICBpbXBvcnQgbWl4aW4gZnJvbSAiQC9taXhpbnMvcGFnZS5qcyI7CiAgICBpbXBvcnQgbGlzdF9nb29kcyBmcm9tICJAL2NvbXBvbmVudHMvZGl5L2xpc3RfZ29vZHMudnVlIjsKICAgIGltcG9ydCBsaXN0X2dvb2RzX2hvdCBmcm9tICJAL2NvbXBvbmVudHMvZGl5L2xpc3RfZ29vZHNfaG90LnZ1ZSI7CgogICAgZXhwb3J0IGRlZmF1bHQgewogICAgICAgIG1peGluczogW21peGluXSwKICAgICAgICBjb21wb25lbnRzOiB7CiAgICAgICAgICAgIGxpc3RfZ29vZHMsCiAgICAgICAgICAgIGxpc3RfZ29vZHNfaG90LAogICAgICAgIH0sCiAgICAgICAgZGF0YSgpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHVybF9nZXRfbGlzdDogIn4vYXBpL2dvb2RzL2dldF9saXN0PyIsCiAgICAgICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgICAgICAgIHBhZ2U6IDEsCiAgICAgICAgICAgICAgICAgICAgc2l6ZTogMTIsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbGlzdF9ob3Q6IFtdLAogICAgICAgICAgICAgICAgbGlzdF9nb29kc190eXBlOiBbXSwKICAgICAgICAgICAgICAgIHRpdGxlOiAiIiwKICAgICAgICAgICAgICAgIHNvcnRfbGlzdDogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogIuS7t+agvOS7jumrmOWIsOS9jiIsCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAicHJpY2UgZGVzYyIsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICLku7fmoLzku47kvY7liLDpq5giLAogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogInByaWNlIGFzYyIsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICLmm7TmlrDml7bpl7Tku47pq5jliLDkvY4iLAogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogImNyZWF0ZV90aW1lIGRlc2MiLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAi5pu05paw5pe26Ze05LuO5L2O5Yiw6auYIiwKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICJjcmVhdGVfdGltZSBhc2MiLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAi6ZSA6YeP5LuO6auY5Yiw5L2OIiwKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICJzYWxlcyBkZXNjIiwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogIumUgOmHj+S7juS9juWIsOmrmCIsCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAic2FsZXMgYXNjIiwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIHNlYXJjaF92YWw6ICIiLAogICAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgbWV0aG9kczogewogICAgICAgICAgICAvKioKICAgICAgICAgICAgICogIOiOt+WPlueDremXqOWVhuWTgQogICAgICAgICAgICAgKiAqLwogICAgICAgICAgICBnZXRfaG90X2dvb2RzKCkgewogICAgICAgICAgICAgICAgdGhpcy4kZ2V0KAogICAgICAgICAgICAgICAgICAgICJ+L2FwaS9nb29kcy9nZXRfbGlzdCIsCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiAxLAogICAgICAgICAgICAgICAgICAgICAgICBzaXplOiA1LAogICAgICAgICAgICAgICAgICAgICAgICBvcmRlcmJ5OiAiaGl0cyIsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMucmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RfaG90ID0gcmVzLnJlc3VsdC5saXN0OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqICDmkJzntKIKICAgICAgICAgICAgICogKi8KICAgICAgICAgICAgc3VibWl0X3NlYXJjaCgpIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBwYXRoOiAiL3NlYXJjaC9kZXRhaWxzIiwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgICAgICAgICAgICB3b3JkOiB0aGlzLnNlYXJjaF92YWwsCiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaF9rZXk6ICJ0aXRsZSIsCiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaF90eXBlOiAiZ29vZHMiLAogICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hfdGl0bGU6ICLllYblk4EiLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAq5re75Yqg5ZWG5ZOB57G75Z6L6L+H5rukCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBnZXRfZ29vZHNfdHlwZSgpIHsKICAgICAgICAgICAgICAgIHRoaXMuJGdldCgKICAgICAgICAgICAgICAgICAgICAifi9hcGkvZ29vZHNfdHlwZS9nZXRfbGlzdCIsCiAgICAgICAgICAgICAgICAgICAge30sCiAgICAgICAgICAgICAgICAgICAgKHJlcykgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0X2dvb2RzX3R5cGUucHVzaCgi5YWo6YOoIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMucmVzdWx0Lmxpc3QubWFwKChvKSA9PiB0aGlzLmxpc3RfZ29vZHNfdHlwZS5wdXNoKG8ubmFtZSkpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIOWVhuWTgeetm+mAiemAieaLqQogICAgICAgICAgICAgKi8KICAgICAgICAgICAgZmlsdGVyX2dvb2RzKG8pIHsKICAgICAgICAgICAgICAgIGlmIChvID09ICLlhajpg6giKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWVyeS50eXBlID0gMDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWVyeS50eXBlID0gbzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiDmjpLluo8KICAgICAgICAgICAgICovCiAgICAgICAgICAgIHNvcnRfZ29vZHMobykgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImFzZCIsIG8pOwogICAgICAgICAgICAgICAgdGhpcy5xdWVyeS5vcmRlcmJ5ID0gby52YWx1ZTsKICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdvVG9QYWdlKHYpewogICAgICAgICAgICAgIHRoaXMucXVlcnkucGFnZSA9IHY7CiAgICAgICAgICAgICAgdGhpcy5nb1RvTmV3KHYpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG1vdW50ZWQoKSB7CiAgICAgICAgICAgIHRoaXMudGl0bGUgPSAi562b6YCJIjsKICAgICAgICAgICAgdGhpcy5nZXRfaG90X2dvb2RzKCk7CiAgICAgICAgICAgIHRoaXMuZ2V0X2dvb2RzX3R5cGUoKTsKICAgICAgICB9LAogICAgfTsK"},{"version":3,"sources":["list.vue"],"names":[],"mappings":";AAuFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/goods","sourcesContent":["<template>\n    <div class=\"page_goods\" id=\"goods_list\">\n        <div class=\"warp\" v-if=\"$check_action('/goods/list', 'get')\">\n            <div class=\"container\">\n                <div class=\"row page_goods_list_wrap\">\n                    <div class=\"col-12 col-lg-10 col-md-12 page_goods_list_base\">\n                        <div class=\"card_goods_list\">\n                            <div class=\"good_list_title\">\n                                <span class=\"title\">商品列表</span>\n                                <!-- 搜索栏 -->\n                                <div class=\"search_box\">\n                                    <b-form-input\n                                            size=\"sm\"\n                                            class=\"mr-sm-2\"\n                                            placeholder=\"局部搜索\"\n                                            v-model.trim=\"search_val\"\n                                            @keyup.enter=\"submit_search\"\n                                    />\n                                    <b-button size=\"sm\" @click=\"submit_search\"\n                                    >\n                                        <b-icon icon=\"search\"/>\n                                    </b-button>\n                                </div>\n                            </div>\n                            <div class=\"filter_block\">\n                                <!-- 筛选 -->\n                                <div class=\"bar_filter\">\n                                    <b-dropdown :text=\"title\" variant=\"outline-dark\" left>\n                                        <b-dropdown-item\n                                                v-for=\"(o, i) in list_goods_type\"\n                                                :key=\"i\"\n                                                @click=\"filter_goods(o)\"\n                                        >\n                                            {{ o }}\n                                        </b-dropdown-item>\n                                    </b-dropdown>\n                                </div>\n                                <!-- /筛选 -->\n                                <!-- 排序 -->\n                                <div\n                                        class=\"bar_sort\"\n                                        :class=\"{ active: query.orderby == '`hits` desc' }\"\n                                >\n                                    <b-dropdown text=\"排序\" variant=\"outline-dark\" left>\n                                        <b-dropdown-item\n                                                v-for=\"(o, i) in sort_list\"\n                                                :key=\"i\"\n                                                @click=\"sort_goods(o)\"\n                                        >\n                                            {{ o.name }}\n                                        </b-dropdown-item>\n                                    </b-dropdown>\n                                </div>\n                                <!--/排序 -->\n                            </div>\n                            <!-- 商品列表 -->\n                            <list_goods :list=\"list\"/>\n                        </div>\n                        <!-- 分页器 -->\n                        <div class=\"col overflow-auto flex_cc\">\n                          <b-pagination\n                              v-model=\"query.page\"\n                              :total-rows=\"count\"\n                              :per-page=\"query.size\"\n                              @change=\"goToPage\"\n                          />\n                        </div>\n                    </div>\n                    <div class=\"col-12 col-lg-2 page_goods_list_hot\">\n                        <div class=\"card_list_hot\">\n                            <!-- 商品热门列表 -->\n                            <div class=\"hot_title\">\n                                商品热门列表\n                            </div>\n                            <list_goods_hot :list=\"list_hot\"/>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row\">\n\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import mixin from \"@/mixins/page.js\";\n    import list_goods from \"@/components/diy/list_goods.vue\";\n    import list_goods_hot from \"@/components/diy/list_goods_hot.vue\";\n\n    export default {\n        mixins: [mixin],\n        components: {\n            list_goods,\n            list_goods_hot,\n        },\n        data() {\n            return {\n                url_get_list: \"~/api/goods/get_list?\",\n                query: {\n                    page: 1,\n                    size: 12,\n                },\n                list_hot: [],\n                list_goods_type: [],\n                title: \"\",\n                sort_list: [\n                    {\n                        name: \"价格从高到低\",\n                        value: \"price desc\",\n                    },\n                    {\n                        name: \"价格从低到高\",\n                        value: \"price asc\",\n                    },\n                    {\n                        name: \"更新时间从高到低\",\n                        value: \"create_time desc\",\n                    },\n                    {\n                        name: \"更新时间从低到高\",\n                        value: \"create_time asc\",\n                    },\n                    {\n                        name: \"销量从高到低\",\n                        value: \"sales desc\",\n                    },\n                    {\n                        name: \"销量从低到高\",\n                        value: \"sales asc\",\n                    },\n                ],\n                search_val: \"\",\n            };\n        },\n        methods: {\n            /**\n             *  获取热门商品\n             * */\n            get_hot_goods() {\n                this.$get(\n                    \"~/api/goods/get_list\",\n                    {\n                        page: 1,\n                        size: 5,\n                        orderby: \"hits\",\n                    },\n                    (res) => {\n                        if (res.result) {\n                            this.list_hot = res.result.list;\n                        }\n                    }\n                );\n            },\n            /**\n             *  搜索\n             * */\n            submit_search() {\n                this.$router.push({\n                    path: \"/search/details\",\n                    query: {\n                        word: this.search_val,\n                        search_key: \"title\",\n                        search_type: \"goods\",\n                        search_title: \"商品\",\n                    },\n                });\n            },\n            /**\n             *添加商品类型过滤\n             */\n            get_goods_type() {\n                this.$get(\n                    \"~/api/goods_type/get_list\",\n                    {},\n                    (res) => {\n                        if (res.result) {\n                            this.list_goods_type.push(\"全部\");\n                            res.result.list.map((o) => this.list_goods_type.push(o.name));\n                        }\n                    }\n                );\n            },\n            /**\n             * 商品筛选选择\n             */\n            filter_goods(o) {\n                if (o == \"全部\") {\n                    this.query.type = 0;\n                } else {\n                    this.query.type = o;\n                }\n                this.search();\n            },\n            /**\n             * 排序\n             */\n            sort_goods(o) {\n                console.log(\"asd\", o);\n                this.query.orderby = o.value;\n                this.search();\n            },\n            goToPage(v){\n              this.query.page = v;\n              this.goToNew(v)\n            }\n        },\n        mounted() {\n            this.title = \"筛选\";\n            this.get_hot_goods();\n            this.get_goods_type();\n        },\n    };\n</script>\n\n<style scoped>\n\n    .flex_cc {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .card_goods_list {\n        margin: 0.25rem 0.25rem 2rem 0.25rem;\n        padding-top: 1rem;\n    }\n\n    .card_list_hot {\n        background-color: var(--color_primary);\n        margin: 1.25rem 0.5rem 0.5rem 0.5rem;\n        border-radius: 0.5rem;\n    }\n\n    .filter_block {\n        margin: 1rem 0.5rem 0.5rem 0.5rem;\n        display: flex;\n        flex-direction: row;\n        justify-content: start;\n    }\n\n    .bar_filter {\n        display: flex;\n        align-items: center;\n    }\n\n    li {\n        list-style: none;\n    }\n\n    .bar_sort {\n        margin-left: 5px;\n    }\n\n    .search_box {\n        width: 12rem;\n        display: flex;\n        height: 4rem;\n        justify-content: center;\n        align-items: center;\n        padding-right: 1rem;\n    }\n\n    .good_list_title {\n        margin: 0 0.5rem;\n        background-color: #d2d2d2;\n        color: white;\n        display: flex;\n        height: 4rem;\n        align-items: center;\n        justify-content: space-between;\n        border-radius: 0.5rem;\n    }\n\n    .title {\n        font-size: 1.5rem;\n        font-weight: bold;\n        padding-left: 1rem;\n    }\n\n    .hot_title {\n        height: 4rem;\n        color: white;\n        font-size: 1.2rem;\n        font-weight: bold;\n        align-items: center;\n        justify-content: center;\n        display: flex;\n        margin-bottom: 1rem;\n    }\n</style>\n\n"]}]}