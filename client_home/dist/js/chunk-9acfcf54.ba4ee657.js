(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9acfcf54"],{a5ba:function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"diy_list page_food_information",attrs:{id:"food_information_list"}},[s("div",{staticClass:"warp"},[s("div",{staticClass:"container diy_list_container"},[t._m(0),s("div",{staticClass:"row diy_list_search"},[s("div",{staticClass:"col"},[s("div",{staticClass:"view"},[s("span",{staticClass:"diy_list_search_title"},[t._v("关键字搜索：")]),s("b-form-input",{staticClass:"mr-sm-2",attrs:{size:"sm",placeholder:"食物名称搜索"},model:{value:t.query["food_name"],callback:function(s){t.$set(t.query,"food_name",s)},expression:"query['food_name']"}}),s("b-form-input",{staticClass:"mr-sm-2",attrs:{size:"sm",placeholder:"食物分类搜索"},model:{value:t.query["food_classification"],callback:function(s){t.$set(t.query,"food_classification",s)},expression:"query['food_classification']"}}),s("b-button",{attrs:{size:"sm"},on:{click:function(s){return t.search()}}},[s("b-icon",{attrs:{icon:"search"}})],1)],1)])]),s("div",{staticClass:"diy_list_select_box"},[s("span",{staticClass:"diy_list_select_title"}),s("div",{staticClass:"diy_list_dropdown_box"},[s("div",{staticClass:"col"},[s("div",{staticClass:"view"},[s("div",{staticClass:"bar_filter"},[s("div",{staticClass:"bar_filter",staticStyle:{"font-weight":"700",color:"#fff","font-size":"22px"}},[t._v("食物分类")]),s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(s){return t.filter_set("全部","food_classification")}}},[t._v("全部")]),t._l(t.list_food_classification,(function(i,a){return s("button",{key:a,staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(s){return t.filter_set(i["food_classification"],"food_classification")}}},[t._v(t._s(i["food_classification"]))])}))],2)])])]),s("div",{staticClass:"diy_list_sort_box"},[s("div",{staticClass:"col"},[s("div",{staticClass:"view"},[s("div",{staticClass:"bar_filter",staticStyle:{"font-weight":"700",color:"#fff","font-size":"22px"}},[t._v("排序")]),s("div",{staticClass:"bar_sort",class:{active:"`hits` desc"==t.query.orderby}},t._l(t.list_sort,(function(i,a){return s("button",{key:a,staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(s){return t.set_sort(i)}}},[t._v(t._s(i.name))])})),0)])])])]),s("div",{staticClass:"row diy_list_box"},[s("div",{staticClass:"col"},[s("list_food_information",{attrs:{list:t.list}})],1)]),s("div",{staticClass:"row diy_list_page_box"},[s("div",{staticClass:"col overflow-auto flex_cc"},[s("b-pagination",{attrs:{"total-rows":t.count,"per-page":t.query.size},on:{change:t.goToPage},model:{value:t.query.page,callback:function(s){t.$set(t.query,"page",s)},expression:"query.page"}})],1)])])])])},e=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"diy_list_title"},[s("div",{staticClass:"col"},[s("span",{staticClass:"title"},[t._v("食物信息列表")])])])}],o=i("7e8e"),n=i("b1a8"),c=i("c6e7"),l={mixins:[c["a"]],components:{diy_pager:n["a"],list_food_information:o["a"]},data(){return{url_get_list:"~/api/food_information/get_list?like=0",query:{keyword:"",page:1,size:12,food_name:"",food_classification:""},list_sort:[{name:"创建时间从高到低",value:"create_time desc"},{name:"创建时间从低到高",value:"create_time asc"},{name:"更新时间从高到低",value:"update_time desc"},{name:"更新时间从低到高",value:"update_time asc"},{name:"食物热量正序",value:"energy asc"},{name:"食物热量倒序",value:"energy desc"},{name:"食物分类正序",value:"food_classification asc"},{name:"食物分类倒序",value:"food_classification desc"}],list_food_classification:[""]}},methods:{get_list_before(t){},filter_set(t,s){this.query[s]="全部"==t?"":t,this.search()},set_sort(t){this.query.orderby=t.value,this.search()},async get_list_food_classification(){var t=await this.$get("~/api/food_classification/get_list?");t.result?this.list_food_classification=t.result.list:t.error&&console.log(t.error)},filter_food_classification(t){this.query["food_classification"]="全部"==t?"":t,this.search()},reset(){this.query.food_name="",this.query.food_classification="",this.search()},toSize(t){this.query.size=t,this.first()},toPage(t){this.query.page=t,this.first()},goToPage(t){this.query.page=t,this.goToNew(t)}},computed:{},created(){this.get_list_food_classification()}},r=l,u=i("2877"),_=Object(u["a"])(r,a,e,!1,null,null,null);s["default"]=_.exports},b1a8:function(t,s,i){"use strict";var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"warp diy_pager"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-2 col-lg-4 diy_pager_item"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.data_size,expression:"data_size"}],staticClass:"select",on:{change:[function(s){var i=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.data_size=s.target.multiple?i:i[0]},function(s){return t.to_size(t.data_size)}]}},t._l(t.list,(function(i,a){return s("option",{domProps:{value:i}},[t._v(t._s(i))])})),0)]),s("div",{staticClass:"col diy_pager_item"},[s("nav",{attrs:{"aria-label":"Page navigation example"}},[s("ul",{staticClass:"pagination"},[s("li",{staticClass:"page-item"},[s("a",{staticClass:"page-link",class:{disabled:1===t.page},attrs:{href:"javascript:void(0)"},on:{click:function(s){return t.fluctuate(-1)}}},[t._v(" "+t._s(t.prev_name)+" ")])]),t._l(t.page_num,(function(i){return i>=t.page-t.max&&i<t.page+t.max?s("li",{staticClass:"page-item",class:{active:t.page===i}},[s("a",{staticClass:"page-link",attrs:{href:"javascript:void(0)"},on:{click:function(s){return t.to(i)}}},[t._v(" "+t._s(i)+" ")])]):t._e()})),s("li",{staticClass:"page-item"},[s("a",{staticClass:"page-link",class:{disabled:t.page===t.page_num},attrs:{href:"javascript:void(0)"},on:{click:function(s){return t.fluctuate(1)}}},[t._v(" "+t._s(t.next_name)+" ")])])],2)])]),s("div",{staticClass:"col-2 col-lg-4 diy_pager_item"},[s("span",{staticClass:"info"},[t._v("共"+t._s(t.count)+"条"+t._s(t.page_num)+"页")])])])])])},e=[],o={components:{},props:{page:{type:Number,default:function(){return 1}},size:{type:Number,default:function(){return 10}},count:{type:Number,default:function(){return 0}},prev_name:{type:String,default:function(){return"<<"}},next_name:{type:String,default:function(){return">>"}},list:{type:Array,default:function(){return[10,20,50,100]}},show_num:{type:Number,default:function(){return 5}}},data(){return{data_size:0}},methods:{fluctuate(t){var s=this.page+1;this.to(s)},to(t){this.$emit("toPage",t)},to_size(t){this.$emit("toSize",t)}},computed:{max:function(){var t=Math.floor(this.show_num/2);return t},page_num:function(){return Math.ceil(this.count/this.size)||1}},created(){this.data_size=this.size}},n=o,c=i("2877"),l=Object(c["a"])(n,a,e,!1,null,null,null);s["a"]=l.exports}}]);
//# sourceMappingURL=chunk-9acfcf54.ba4ee657.js.map