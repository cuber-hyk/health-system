(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41c9a62a"],{"0e86":function(t,s,e){"use strict";e("22e9")},"1d46":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"page_user",attrs:{id:"user_info"}},[s("div",{staticClass:"warp"},[s("div",{staticClass:"container"},[s("div",[s("div",{staticClass:"col-md-12"},[s("div",{},[s("list_menu_user",{attrs:{list_info:t.list_info}})],1)]),s("div",{staticClass:"col-12 col-md-12"},[s("div",{staticClass:"card_info pl-2"},[s("div",{staticClass:"div_info"},[s("span",[t._v(" 个人资料 ")]),s("div",{staticClass:"content_msg"},[s("div",{staticClass:"left_msg"},[s("div",{staticClass:"figure_avatar"},[s("span",[t._v("头像：")]),s("b-img",{staticClass:"user_avator",staticStyle:{width:"3rem",height:"3rem"},attrs:{src:t.obj.avatar?t.$fullUrl(t.obj.avatar):"/img/default.png",alt:""}})],1),s("div",{staticClass:"nickname"},[t._m(0),s("div",{style:"display:"+t.display_name+";"},[s("span",{staticStyle:{"font-size":"1.2rem",color:"var(--color_grey)"}},[t._v(" "+t._s(t.obj.nickname)+" ")])]),s("div",{staticClass:"input_nickname",style:"display:"+t.display_input+";"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.nickname,expression:"form.nickname"}],attrs:{type:"text",id:"nickname",focus:t.focus_input},domProps:{value:t.form.nickname},on:{input:function(s){s.target.composing||t.$set(t.form,"nickname",s.target.value)}}}),s("div",{staticClass:"btn_save",on:{click:function(s){return t.save_nickname()}}},[t._v(" 保存 ")])])])])]),s("div",{staticClass:"right_msg"},[s("div",{staticClass:"change_avatar_box"},[t._m(1),s("div",{staticClass:"right_wrap"},[s("b-icon",{attrs:{icon:"arrow-right-square"}})],1),s("input",{attrs:{type:"file",id:"input_file",title:" "},on:{change:function(s){return t.change_avatar(s.target.files)}}})]),s("div",{staticClass:"change_nickname_box",on:{click:function(s){return t.change_nickname()}}},[t._m(2),s("div",{staticClass:"right_wrap"},[s("b-icon",{attrs:{icon:"arrow-right-square"}})],1)])])])])])])])])])},a=[function(){var t=this,s=t._self._c;return s("div",[s("span",[t._v("昵称：")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"change_avatar"},[s("span",[t._v("头像更改")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"change_nickname"},[s("span",[t._v("昵称更改")])])}],n=e("c6e7"),r=e("216f"),c={mixins:[n["a"]],data(){return{url_get_obj:"~/api/user/get_obj?",query:{user_id:this.$store.state.user.user_id},display_input:"none",display_name:"block",form:{},focus_input:!1,list_info:[{title:"资料管理",url:"/user/info",icon:"",selected:!0},{title:"密码管理",url:"/user/password",icon:"",selected:!1},{title:"收藏",url:"/user/collect",icon:"",selected:!1}],file:null}},methods:{async change_avatar(t){var s=this,e=new FormData;e.append("file",t[0]);var i=await this.$post("~/api/user/upload?",e);if(console.log(i),i.result){var a=i.result.url;this.$post("~/api/user/set?user_id="+s.user.user_id,{avatar:a},t=>{this.user.avatar=a,this.obj.avatar=a})}else this.$toast(i.error.message)},change_nickname(){this.display_input="flex",this.display_name="none",this.focus_input=!0},save_nickname(){var t=this.user.user_id,s=this.form.nickname;this.$post("~/api/user/set?user_id="+t,{nickname:s},t=>{console.log(t),this.focus_input=!1,this.display_input="none",this.display_name="block",this.user.nickname=s,this.obj.nickname=s})},get_obj_before(t){return t.user_id=this.$store.state.user.user_id,t}},components:{list_menu_user:r["a"]}},l=c,o=(e("ac53"),e("2877")),u=Object(o["a"])(l,i,a,!1,null,"47d45400",null);s["default"]=u.exports},"216f":function(t,s,e){"use strict";var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"list_menu"},t._l(t.list_info,(function(e,i){return s("router-link",{key:i,staticClass:"menu_item",class:{selected:e.selected},attrs:{to:e.url}},[s("span",{staticClass:"left_span"},[t._v(t._s(e.title))])])})),1)},a=[],n={props:{list_info:{type:Array,default(){return[{title:"资料管理",url:"/user/info",icon:"",selected:!1},{title:"密码管理",url:"/user/password",icon:"",selected:!1},{title:"地址管理",url:"/user/address",icon:"",selected:!1},{title:"收藏",url:"/user/collect",icon:"",selected:!1},{title:"订单管理",url:"/order/list",icon:"",selected:!1},{title:"购物车",url:"/cart/list",icon:"",selected:!1}]}}},methods:{},components:{}},r=n,c=(e("0e86"),e("2877")),l=Object(c["a"])(r,i,a,!1,null,"5c918a21",null);s["a"]=l.exports},"22e9":function(t,s,e){},"719b":function(t,s,e){},ac53:function(t,s,e){"use strict";e("719b")}}]);
//# sourceMappingURL=chunk-41c9a62a.d320646e.js.map